"use strict";(self.webpackChunkWeLearnIt=self.webpackChunkWeLearnIt||[]).push([[179],{2011:(it,be,I)=>{I.d(be,{Dh:()=>ae,GT:()=>se,cc:()=>He,hO:()=>Ne,on:()=>U,pX:()=>X,xv:()=>le});var c=I(4650),K=I(9260),D=I(2122);it=I.hmd(it);const ee=["ngOnDestroy"],X=(oe,Ge,st,Me={})=>new Proxy(oe,{get:(he,ve)=>st.runOutsideAngular(()=>{var De;if(oe[ve])return!(null===(De=Me?.spy)||void 0===De)&&De.get&&Me.spy.get(ve,oe[ve]),oe[ve];if(ee.indexOf(ve)>-1)return()=>{};const Ie=Ge.toPromise().then(R=>{const fe=R&&R[ve];return"function"==typeof fe?fe.bind(R):fe&&fe.then?fe.then(Ae=>st.run(()=>Ae)):st.run(()=>fe)});return new Proxy(()=>{},{get:(R,fe)=>Ie[fe],apply:(R,fe,Ae)=>Ie.then($e=>{var ot;const Re=$e&&$e(...Ae);return!(null===(ot=Me?.spy)||void 0===ot)&&ot.apply&&Me.spy.apply(ve,Ae,Re),Re})})})}),se=(oe,Ge)=>{Ge.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Me=>{Object.defineProperty(oe.prototype,Me,Object.getOwnPropertyDescriptor(st.prototype||st,Me))})})};class ie{constructor(Ge){return Ge}}const ae=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function U(oe,Ge,st){const he="object"==typeof st&&st||{};he.name=he.name||"string"==typeof st&&st||"[DEFAULT]";const De=K.Z.apps.filter(Ie=>Ie&&Ie.name===he.name)[0]||Ge.runOutsideAngular(()=>K.Z.initializeApp(oe,he));try{JSON.stringify(oe)!==JSON.stringify(De.options)&&B("error",`${De.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(De)}const B=(oe,...Ge)=>{(0,c.X6Q)()&&typeof console<"u"&&console[oe](...Ge)},W={provide:ie,useFactory:U,deps:[ae,c.R0b,[new c.FiY,le]]};let Ne=(()=>{class oe{constructor(st){K.Z.registerVersion("angularfire",D.q4.full,"core"),K.Z.registerVersion("angularfire",D.q4.full,"app-compat"),K.Z.registerVersion("angular",c.q4F.full,st.toString())}static initializeApp(st,Me){return{ngModule:oe,providers:[{provide:ae,useValue:st},{provide:le,useValue:Me}]}}}return oe.\u0275fac=function(st){return new(st||oe)(c.LFG(c.Lbi))},oe.\u0275mod=c.oAB({type:oe}),oe.\u0275inj=c.cJS({providers:[W]}),oe})();function He(oe,Ge,st,Me,he){const[,ve,De]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===oe)||[];if(ve)return function me(oe,Ge){try{return oe.toString()===Ge.toString()}catch{return oe===Ge}}(he,De)||(de("error",`${Ge} was already initialized on the ${st} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:he,was:De})),ve;{const Ie=Me();return globalThis.\u0275AngularfireInstanceCache.push([oe,Ie,he]),Ie}}const qe=!!it.hot,de=(oe,...Ge)=>{(0,c.X6Q)()&&typeof console<"u"&&console[oe](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(it,be,I)=>{I.d(be,{q4:()=>Z1,iC:()=>C2,HU:()=>Wn,vb:()=>r2,JM:()=>qn});var c=I(4650),K=I(259),D=I(5861),ee=I(9681),X=I(2090),se=I(4859),ie=I(1877),ae=I(8766);const le="@firebase/installations",U="0.6.4",W=`w:${U}`,Ne="FIS_v2",Ge=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(b){return b instanceof X.ZR&&b.code.includes("request-failed")}function Me({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function he(b){return{token:b.token,requestStatus:2,expiresIn:$e(b.expiresIn),creationTime:Date.now()}}function ve(b,H){return De.apply(this,arguments)}function De(){return(De=(0,D.Z)(function*(b,H){const P=(yield H.json()).error;return Ge.create("request-failed",{requestName:b,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function Ie({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function R(b,{refreshToken:H}){const x=Ie(b);return x.append("Authorization",function ot(b){return`${Ne} ${b}`}(H)),x}function fe(b){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,D.Z)(function*(b){const H=yield b();return H.status>=500&&H.status<600?b():H})).apply(this,arguments)}function $e(b){return Number(b.replace("s","000"))}function Re(b,H){return te.apply(this,arguments)}function te(){return(te=(0,D.Z)(function*({appConfig:b,heartbeatServiceProvider:H},{fid:x}){const P=Me(b),q=Ie(b),J=H.getImmediate({optional:!0});if(J){const Je=yield J.getHeartbeatsHeader();Je&&q.append("x-firebase-client",Je)}const je={method:"POST",headers:q,body:JSON.stringify({fid:x,authVersion:Ne,appId:b.appId,sdkVersion:W})},Qe=yield fe(()=>fetch(P,je));if(Qe.ok){const Je=yield Qe.json();return{fid:Je.fid||x,registrationStatus:2,refreshToken:Je.refreshToken,authToken:he(Je.authToken)}}throw yield ve("Create Installation",Qe)})).apply(this,arguments)}function ue(b){return new Promise(H=>{setTimeout(H,b)})}const xe=/^[cdef][\w-]{21}$/;function _e(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const x=function et(b){return function pe(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return xe.test(x)?x:""}catch{return""}}function Ht(b){return`${b.appName}!${b.appId}`}const Bt=new Map;function Be(b,H){const x=Ht(b);lt(x,H),function I2(b,H){const x=function o2(){return!i2&&"BroadcastChannel"in self&&(i2=new BroadcastChannel("[Firebase] FID Change"),i2.onmessage=b=>{lt(b.data.key,b.data.fid)}),i2}();x&&x.postMessage({key:b,fid:H}),function g2(){0===Bt.size&&i2&&(i2.close(),i2=null)}()}(x,H)}function lt(b,H){const x=Bt.get(b);if(x)for(const P of x)P(H)}let i2=null;const V1="firebase-installations-store";let A1=null;function kr(){return A1||(A1=(0,ae.X3)("firebase-installations-database",1,{upgrade:(b,H)=>{0===H&&b.createObjectStore(V1)}})),A1}function Fe(b,H){return X2.apply(this,arguments)}function X2(){return(X2=(0,D.Z)(function*(b,H){const x=Ht(b),q=(yield kr()).transaction(V1,"readwrite"),J=q.objectStore(V1),ze=yield J.get(x);return yield J.put(H,x),yield q.done,(!ze||ze.fid!==H.fid)&&Be(b,H.fid),H})).apply(this,arguments)}function on(b){return T2.apply(this,arguments)}function T2(){return(T2=(0,D.Z)(function*(b){const H=Ht(b),P=(yield kr()).transaction(V1,"readwrite");yield P.objectStore(V1).delete(H),yield P.done})).apply(this,arguments)}function D1(b,H){return cn.apply(this,arguments)}function cn(){return(cn=(0,D.Z)(function*(b,H){const x=Ht(b),q=(yield kr()).transaction(V1,"readwrite"),J=q.objectStore(V1),ze=yield J.get(x),je=H(ze);return void 0===je?yield J.delete(x):yield J.put(je,x),yield q.done,je&&(!ze||ze.fid!==je.fid)&&Be(b,je.fid),je})).apply(this,arguments)}function m2(b){return V2.apply(this,arguments)}function V2(){return(V2=(0,D.Z)(function*(b){let H;const x=yield D1(b.appConfig,P=>{const q=e2(P),J=at(b,q);return H=J.registrationPromise,J.installationEntry});return""===x.fid?{installationEntry:yield H}:{installationEntry:x,registrationPromise:H}})).apply(this,arguments)}function e2(b){return yt(b||{fid:_e(),registrationStatus:0})}function at(b,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Ge.create("app-offline"))};const x={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},P=function ct(b,H){return Zt.apply(this,arguments)}(b,x);return{installationEntry:x,registrationPromise:P}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:z2(b)}:{installationEntry:H}}function Zt(){return(Zt=(0,D.Z)(function*(b,H){try{const x=yield Re(b,H);return Fe(b.appConfig,x)}catch(x){throw st(x)&&409===x.customData.serverCode?yield on(b.appConfig):yield Fe(b.appConfig,{fid:H.fid,registrationStatus:0}),x}})).apply(this,arguments)}function z2(b){return N2.apply(this,arguments)}function N2(){return(N2=(0,D.Z)(function*(b){let H=yield P2(b.appConfig);for(;1===H.registrationStatus;)yield ue(100),H=yield P2(b.appConfig);if(0===H.registrationStatus){const{installationEntry:x,registrationPromise:P}=yield m2(b);return P||x}return H})).apply(this,arguments)}function P2(b){return D1(b,H=>{if(!H)throw Ge.create("installation-not-found");return yt(H)})}function yt(b){return function Cn(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Ot(b,H){return j1.apply(this,arguments)}function j1(){return(j1=(0,D.Z)(function*({appConfig:b,heartbeatServiceProvider:H},x){const P=Rt(b,x),q=R(b,x),J=H.getImmediate({optional:!0});if(J){const Je=yield J.getHeartbeatsHeader();Je&&q.append("x-firebase-client",Je)}const je={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:W,appId:b.appId}})},Qe=yield fe(()=>fetch(P,je));if(Qe.ok)return he(yield Qe.json());throw yield ve("Generate Auth Token",Qe)})).apply(this,arguments)}function Rt(b,{fid:H}){return`${Me(b)}/${H}/authTokens:generate`}function k2(b){return l1.apply(this,arguments)}function l1(){return(l1=(0,D.Z)(function*(b,H=!1){let x;const P=yield D1(b.appConfig,J=>{if(!zt(J))throw Ge.create("not-registered");const ze=J.authToken;if(!H&&e1(ze))return J;if(1===ze.requestStatus)return x=Ye(b,H),J;{if(!navigator.onLine)throw Ge.create("app-offline");const je=O(J);return x=_t(b,je),je}});return x?yield x:P.authToken})).apply(this,arguments)}function Ye(b,H){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,D.Z)(function*(b,H){let x=yield We(b.appConfig);for(;1===x.authToken.requestStatus;)yield ue(100),x=yield We(b.appConfig);const P=x.authToken;return 0===P.requestStatus?k2(b,H):P})).apply(this,arguments)}function We(b){return D1(b,H=>{if(!zt(H))throw Ge.create("not-registered");return function G(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function _t(b,H){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,D.Z)(function*(b,H){try{const x=yield Ot(b,H),P=Object.assign(Object.assign({},H),{authToken:x});return yield Fe(b.appConfig,P),x}catch(x){if(!st(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const P=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Fe(b.appConfig,P)}else yield on(b.appConfig);throw x}})).apply(this,arguments)}function zt(b){return void 0!==b&&2===b.registrationStatus}function e1(b){return 2===b.requestStatus&&!function F(b){const H=Date.now();return H<b.creationTime||b.creationTime+b.expiresIn<H+36e5}(b)}function O(b){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:H})}function Y(){return(Y=(0,D.Z)(function*(b){const H=b,{installationEntry:x,registrationPromise:P}=yield m2(H);return P?P.catch(console.error):k2(H).catch(console.error),x.fid})).apply(this,arguments)}function vt(){return(vt=(0,D.Z)(function*(b,H=!1){const x=b;return yield Lt(x),(yield k2(x,H)).token})).apply(this,arguments)}function Lt(b){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,D.Z)(function*(b){const{registrationPromise:H}=yield m2(b);H&&(yield H)})).apply(this,arguments)}function Pn(b){return Ge.create("missing-app-config-values",{valueName:b})}const Or="installations",c2=b=>{const H=b.getProvider("app").getImmediate(),x=function s2(b){if(!b||!b.options)throw Pn("App Configuration");if(!b.name)throw Pn("App Name");const H=["projectId","apiKey","appId"];for(const x of H)if(!b.options[x])throw Pn(x);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(H);return{app:H,appConfig:x,heartbeatServiceProvider:(0,ee._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},cr=b=>{const H=b.getProvider("app").getImmediate(),x=(0,ee._getProvider)(H,Or).getImmediate();return{getId:()=>function ne(b){return Y.apply(this,arguments)}(x),getToken:q=>function Oe(b){return vt.apply(this,arguments)}(x,q)}};(function Ji(){(0,ee._registerComponent)(new se.wA(Or,c2,"PUBLIC")),(0,ee._registerComponent)(new se.wA("installations-internal",cr,"PRIVATE"))})(),(0,ee.registerVersion)(le,U),(0,ee.registerVersion)(le,U,"esm2017");const an="@firebase/remote-config",S2=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ic{constructor(H,x,P,q){this.client=H,this.storage=x,this.storageCache=P,this.logger=q}isCachedDataFresh(H,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-x,q=P<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${q}.`),q}fetch(H){var x=this;return(0,D.Z)(function*(){const[P,q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(q&&x.isCachedDataFresh(H.cacheMaxAgeMillis,P))return q;H.eTag=q&&q.eTag;const J=yield x.client.fetch(H),ze=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&ze.push(x.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(ze),J})()}}function hs(b=navigator){return b.languages&&b.languages[0]||b.language}class ps{constructor(H,x,P,q,J,ze){this.firebaseInstallations=H,this.sdkVersion=x,this.namespace=P,this.projectId=q,this.apiKey=J,this.appId=ze}fetch(H){var x=this;return(0,D.Z)(function*(){const[P,q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},Qe={sdk_version:x.sdkVersion,app_instance_id:P,app_instance_id_token:q,app_id:x.appId,language_code:hs()},Je={method:"POST",headers:je,body:JSON.stringify(Qe)},bt=fetch(ze,Je),ut=new Promise((J1,Zn)=>{H.signal.addEventListener(()=>{const Ai=new Error("The operation was aborted.");Ai.name="AbortError",Zn(Ai)})});let B2;try{yield Promise.race([bt,ut]),B2=yield bt}catch(J1){let Zn="fetch-client-network";throw"AbortError"===J1?.name&&(Zn="fetch-timeout"),S2.create(Zn,{originalErrorMessage:J1?.message})}let $t=B2.status;const Mr=B2.headers.get("ETag")||void 0;let Q1,fn;if(200===B2.status){let J1;try{J1=yield B2.json()}catch(Zn){throw S2.create("fetch-client-parse",{originalErrorMessage:Zn?.message})}Q1=J1.entries,fn=J1.state}if("INSTANCE_STATE_UNSPECIFIED"===fn?$t=500:"NO_CHANGE"===fn?$t=304:("NO_TEMPLATE"===fn||"EMPTY_CONFIG"===fn)&&(Q1={}),304!==$t&&200!==$t)throw S2.create("fetch-status",{httpStatus:$t});return{status:$t,eTag:Mr,config:Q1}})()}}class h6{constructor(H,x){this.client=H,this.storage=x}fetch(H){var x=this;return(0,D.Z)(function*(){const P=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(H,P)})()}attemptFetch(H,{throttleEndTimeMillis:x,backoffCount:P}){var q=this;return(0,D.Z)(function*(){yield function A2(b,H){return new Promise((x,P)=>{const q=Math.max(H-Date.now(),0),J=setTimeout(x,q);b.addEventListener(()=>{clearTimeout(J),P(S2.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,x);try{const J=yield q.client.fetch(H);return yield q.storage.deleteThrottleMetadata(),J}catch(J){if(!function z4(b){if(!(b instanceof X.ZR&&b.customData))return!1;const H=Number(b.customData.httpStatus);return 429===H||500===H||503===H||504===H}(J))throw J;const ze={throttleEndTimeMillis:Date.now()+(0,X.$s)(P),backoffCount:P+1};return yield q.storage.setThrottleMetadata(ze),q.attemptFetch(H,ze)}})()}}class I1{constructor(H,x,P,q,J){this.app=H,this._client=x,this._storageCache=P,this._storage=q,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gs(b,H){const x=b.target.error||void 0;return S2.create(H,{originalErrorMessage:x&&x?.message})}const Fn="app_namespace_store";class v6{constructor(H,x,P,q=function m6(){return new Promise((b,H)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=P=>{H(gs(P,"storage-open"))},x.onsuccess=P=>{b(P.target.result)},x.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Fn,{keyPath:"compositeKey"})}}catch(x){H(S2.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=H,this.appName=x,this.namespace=P,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var x=this;return(0,D.Z)(function*(){const P=yield x.openDbPromise;return new Promise((q,J)=>{const je=P.transaction([Fn],"readonly").objectStore(Fn),Qe=x.createCompositeKey(H);try{const Je=je.get(Qe);Je.onerror=bt=>{J(gs(bt,"storage-get"))},Je.onsuccess=bt=>{const ut=bt.target.result;q(ut?ut.value:void 0)}}catch(Je){J(S2.create("storage-get",{originalErrorMessage:Je?.message}))}})})()}set(H,x){var P=this;return(0,D.Z)(function*(){const q=yield P.openDbPromise;return new Promise((J,ze)=>{const Qe=q.transaction([Fn],"readwrite").objectStore(Fn),Je=P.createCompositeKey(H);try{const bt=Qe.put({compositeKey:Je,value:x});bt.onerror=ut=>{ze(gs(ut,"storage-set"))},bt.onsuccess=()=>{J()}}catch(bt){ze(S2.create("storage-set",{originalErrorMessage:bt?.message}))}})})()}delete(H){var x=this;return(0,D.Z)(function*(){const P=yield x.openDbPromise;return new Promise((q,J)=>{const je=P.transaction([Fn],"readwrite").objectStore(Fn),Qe=x.createCompositeKey(H);try{const Je=je.delete(Qe);Je.onerror=bt=>{J(gs(bt,"storage-delete"))},Je.onsuccess=()=>{q()}}catch(Je){J(S2.create("storage-delete",{originalErrorMessage:Je?.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class S4{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,D.Z)(function*(){const x=H.storage.getLastFetchStatus(),P=H.storage.getLastSuccessfulFetchTimestampMillis(),q=H.storage.getActiveConfig(),J=yield x;J&&(H.lastFetchStatus=J);const ze=yield P;ze&&(H.lastSuccessfulFetchTimestampMillis=ze);const je=yield q;je&&(H.activeConfig=je)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function e3(){return sc.apply(this,arguments)}function sc(){return(sc=(0,D.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch{return!1}})).apply(this,arguments)}!function Un(){(0,ee._registerComponent)(new se.wA("remote-config",function b(H,{instanceIdentifier:x}){const P=H.getProvider("app").getImmediate(),q=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw S2.create("registration-window");if(!(0,X.hl)())throw S2.create("indexed-db-unavailable");const{projectId:J,apiKey:ze,appId:je}=P.options;if(!J)throw S2.create("registration-project-id");if(!ze)throw S2.create("registration-api-key");if(!je)throw S2.create("registration-app-id");const Qe=new v6(je,P.name,x=x||"firebase"),Je=new S4(Qe),bt=new ie.Yd(an);bt.logLevel=ie.in.ERROR;const ut=new ps(q,ee.SDK_VERSION,x,J,ze,je),B2=new h6(ut,Qe),$t=new ic(B2,Qe,Je,bt),Mr=new I1(P,$t,Je,Qe,bt);return function t2(b){const H=(0,X.m9)(b);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Mr),Mr},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(an,"0.4.4"),(0,ee.registerVersion)(an,"0.4.4","esm2017")}();const ln="/firebase-messaging-sw.js",Mn="/firebase-cloud-messaging-push-scope",bn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mi="google.c.a.c_id",t3="google.c.a.c_l",ms="google.c.a.ts",oc="google.c.a.e";var wn=(()=>{return(b=wn||(wn={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",wn;var b})();function T1(b){const H=new Uint8Array(b);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function z1(b){const x=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(x),q=new Uint8Array(P.length);for(let J=0;J<P.length;++J)q[J]=P.charCodeAt(J);return q}const Rr="fcm_token_details_db",n1="fcm_token_object_Store";function cc(b){return ac.apply(this,arguments)}function ac(){return ac=(0,D.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(Rr))return null;let H=null;return(yield(0,ae.X3)(Rr,5,{upgrade:(P=(0,D.Z)(function*(q,J,ze,je){var Qe;if(J<2||!q.objectStoreNames.contains(n1))return;const Je=je.objectStore(n1),bt=yield Je.index("fcmSenderId").get(b);if(yield Je.clear(),bt)if(2===J){const ut=bt;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;H={token:ut.fcmToken,createTime:null!==(Qe=ut.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:T1(ut.vapidKey)}}}else if(3===J){const ut=bt;H={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:T1(ut.auth),p256dh:T1(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:T1(ut.vapidKey)}}}else if(4===J){const ut=bt;H={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:T1(ut.auth),p256dh:T1(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:T1(ut.vapidKey)}}}}),function(J,ze,je,Qe){return P.apply(this,arguments)})})).close(),yield(0,ae.Lj)(Rr),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),_2(H)?H:null;var P}),ac.apply(this,arguments)}function _2(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:H}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const N1="firebase-messaging-store";let r1=null;function r3(){return r1||(r1=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(b,H)=>{0===H&&b.createObjectStore(N1)}})),r1}function ur(b){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,D.Z)(function*(b){const H=G1(b),P=yield(yield r3()).transaction(N1).objectStore(N1).get(H);if(P)return P;{const q=yield cc(b.appConfig.senderId);if(q)return yield M2(b,q),q}})).apply(this,arguments)}function M2(b,H){return i3.apply(this,arguments)}function i3(){return(i3=(0,D.Z)(function*(b,H){const x=G1(b),q=(yield r3()).transaction(N1,"readwrite");return yield q.objectStore(N1).put(H,x),yield q.done,H})).apply(this,arguments)}function vi(b){return _i.apply(this,arguments)}function _i(){return(_i=(0,D.Z)(function*(b){const H=G1(b),P=(yield r3()).transaction(N1,"readwrite");yield P.objectStore(N1).delete(H),yield P.done})).apply(this,arguments)}function G1({appConfig:b}){return b.appId}const h2=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gt(b,H){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,D.Z)(function*(b,H){const x=yield Cs(b),P=ye(H),q={method:"POST",headers:x,body:JSON.stringify(P)};let J;try{J=yield(yield fetch(Fr(b.appConfig),q)).json()}catch(ze){throw h2.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(J.error)throw h2.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw h2.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function D4(b,H){return vs.apply(this,arguments)}function vs(){return(vs=(0,D.Z)(function*(b,H){const x=yield Cs(b),P=ye(H.subscriptionOptions),q={method:"PATCH",headers:x,body:JSON.stringify(P)};let J;try{J=yield(yield fetch(`${Fr(b.appConfig)}/${H.token}`,q)).json()}catch(ze){throw h2.create("token-update-failed",{errorInfo:ze?.toString()})}if(J.error)throw h2.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw h2.create("token-update-no-token");return J.token})).apply(this,arguments)}function s3(b,H){return _s.apply(this,arguments)}function _s(){return(_s=(0,D.Z)(function*(b,H){const P={method:"DELETE",headers:yield Cs(b)};try{const J=yield(yield fetch(`${Fr(b.appConfig)}/${H}`,P)).json();if(J.error)throw h2.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(q){throw h2.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Fr({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Cs(b){return o3.apply(this,arguments)}function o3(){return(o3=(0,D.Z)(function*({appConfig:b,installations:H}){const x=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ye({p256dh:b,auth:H,endpoint:x,vapidKey:P}){const q={web:{endpoint:x,auth:H,p256dh:b}};return P!==bn&&(q.web.applicationPubKey=P),q}const Et=6048e5;function c3(b){return dr.apply(this,arguments)}function dr(){return(dr=(0,D.Z)(function*(b){const H=yield uc(b.swRegistration,b.vapidKey),x={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:H.endpoint,auth:T1(H.getKey("auth")),p256dh:T1(H.getKey("p256dh"))},P=yield ur(b.firebaseDependencies);if(P){if(Ol(P.subscriptionOptions,x))return Date.now()>=P.createTime+Et?yi(b,{token:P.token,createTime:Date.now(),subscriptionOptions:x}):P.token;try{yield s3(b.firebaseDependencies,P.token)}catch(q){console.warn(q)}return a3(b.firebaseDependencies,x)}return a3(b.firebaseDependencies,x)})).apply(this,arguments)}function L2(b){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,D.Z)(function*(b){const H=yield ur(b.firebaseDependencies);H&&(yield s3(b.firebaseDependencies,H.token),yield vi(b.firebaseDependencies));const x=yield b.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function yi(b,H){return d1.apply(this,arguments)}function d1(){return(d1=(0,D.Z)(function*(b,H){try{const x=yield D4(b.firebaseDependencies,H),P=Object.assign(Object.assign({},H),{token:x,createTime:Date.now()});return yield M2(b.firebaseDependencies,P),x}catch(x){throw yield L2(b),x}})).apply(this,arguments)}function a3(b,H){return Br.apply(this,arguments)}function Br(){return(Br=(0,D.Z)(function*(b,H){const P={token:yield gt(b,H),createTime:Date.now(),subscriptionOptions:H};return yield M2(b,P),P.token})).apply(this,arguments)}function uc(b,H){return n2.apply(this,arguments)}function n2(){return(n2=(0,D.Z)(function*(b,H){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:z1(H)})})).apply(this,arguments)}function Ol(b,H){return H.vapidKey===b.vapidKey&&H.endpoint===b.endpoint&&H.auth===b.auth&&H.p256dh===b.p256dh}function l3(b){const H={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function h1(b,H){if(!H.notification)return;b.notification={};const x=H.notification.title;x&&(b.notification.title=x);const P=H.notification.body;P&&(b.notification.body=P);const q=H.notification.image;q&&(b.notification.image=q);const J=H.notification.icon;J&&(b.notification.icon=J)}(H,b),function un(b,H){!H.data||(b.data=H.data)}(H,b),function fc(b,H){var x,P,q,J,ze;if(!(H.fcmOptions||null!==(x=H.notification)&&void 0!==x&&x.click_action))return;b.fcmOptions={};const je=null!==(q=null===(P=H.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==q?q:null===(J=H.notification)||void 0===J?void 0:J.click_action;je&&(b.fcmOptions.link=je);const Qe=null===(ze=H.fcmOptions)||void 0===ze?void 0:ze.analytics_label;Qe&&(b.fcmOptions.analyticsLabel=Qe)}(H,b),H}function Mi(b){return"object"==typeof b&&!!b&&mi in b}function P1(b,H){const x=[];for(let P=0;P<b.length;P++)x.push(b.charAt(P)),P<H.length&&x.push(H.charAt(P));return x.join("")}function ys(b){return h2.create("missing-app-config-values",{valueName:b})}P1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),P1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class I4{constructor(H,x,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function _6(b){if(!b||!b.options)throw ys("App Configuration Object");if(!b.name)throw ys("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:x}=b;for(const P of H)if(!x[P])throw ys(P);return{appName:b.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:q,installations:x,analyticsProvider:P}}_delete(){return Promise.resolve()}}function Ms(b){return hr.apply(this,arguments)}function hr(){return(hr=(0,D.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(ln,{scope:Mn}),b.swRegistration.update().catch(()=>{})}catch(H){throw h2.create("failed-service-worker-registration",{browserErrorMessage:H?.message})}})).apply(this,arguments)}function bs(b,H){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,D.Z)(function*(b,H){if(!H&&!b.swRegistration&&(yield Ms(b)),H||!b.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw h2.create("invalid-sw-registration");b.swRegistration=H}})).apply(this,arguments)}function pr(b,H){return u3.apply(this,arguments)}function u3(){return(u3=(0,D.Z)(function*(b,H){H?b.vapidKey=H:b.vapidKey||(b.vapidKey=bn)})).apply(this,arguments)}function jn(){return(jn=(0,D.Z)(function*(b,H){if(!navigator)throw h2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw h2.create("permission-blocked");return yield pr(b,H?.vapidKey),yield bs(b,H?.serviceWorkerRegistration),c3(b)})).apply(this,arguments)}function ws(b,H,x){return bi.apply(this,arguments)}function bi(){return(bi=(0,D.Z)(function*(b,H,x){const P=dc(H);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:x[mi],message_name:x[t3],message_time:x[ms],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dc(b){switch(b){case wn.NOTIFICATION_CLICKED:return"notification_open";case wn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jr(){return(jr=(0,D.Z)(function*(b,H){const x=H.data;if(!x.isFirebaseMessaging)return;b.onMessageHandler&&x.messageType===wn.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(l3(x)):b.onMessageHandler.next(l3(x)));const P=x.data;Mi(P)&&"1"===P[oc]&&(yield ws(b,x.messageType,P))})).apply(this,arguments)}const hc="@firebase/messaging",Z2=b=>{const H=new I4(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function f3(b,H){return jr.apply(this,arguments)}(H,x)),H},gr=b=>{const H=b.getProvider("messaging").getImmediate();return{getToken:P=>function T4(b,H){return jn.apply(this,arguments)}(H,P)}};function P4(){return k4.apply(this,arguments)}function k4(){return(k4=(0,D.Z)(function*(){try{yield(0,X.eu)()}catch{return!1}return typeof window<"u"&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kt(){(0,ee._registerComponent)(new se.wA("messaging",Z2,"PUBLIC")),(0,ee._registerComponent)(new se.wA("messaging-internal",gr,"PRIVATE")),(0,ee.registerVersion)(hc,"0.12.4"),(0,ee.registerVersion)(hc,"0.12.4","esm2017")}();const Vs="analytics",Rl="firebase_id",R4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$n="https://www.googletagmanager.com/gtag/js",a2=new ie.Yd("@firebase/analytics"),x1=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gc(b){if(!b.startsWith($n)){const H=x1.create("invalid-gtag-resource",{gtagURL:b});return a2.warn(H.message),""}return b}function U4(b){return Promise.all(b.map(H=>H.catch(x=>x)))}function h3(b,H){const x=function d3(b,H){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(b,H)),x}("firebase-js-sdk-policy",{createScriptURL:gc}),P=document.createElement("script"),q=`${$n}?l=${b}&id=${H}`;P.src=x?x?.createScriptURL(q):q,P.async=!0,document.head.appendChild(P)}function p3(b,H,x,P,q,J){return vr.apply(this,arguments)}function vr(){return(vr=(0,D.Z)(function*(b,H,x,P,q,J){const ze=P[q];try{if(ze)yield H[ze];else{const Qe=(yield U4(x)).find(Je=>Je.measurementId===q);Qe&&(yield H[Qe.appId])}}catch(je){a2.error(je)}b("config",q,J)})).apply(this,arguments)}function wi(b,H,x,P,q){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,D.Z)(function*(b,H,x,P,q){try{let J=[];if(q&&q.send_to){let ze=q.send_to;Array.isArray(ze)||(ze=[ze]);const je=yield U4(x);for(const Qe of ze){const Je=je.find(ut=>ut.measurementId===Qe),bt=Je&&H[Je.appId];if(!bt){J=[];break}J.push(bt)}}0===J.length&&(J=Object.values(H)),yield Promise.all(J),b("event",P,q||{})}catch(J){a2.error(J)}})).apply(this,arguments)}function Vn(b){const H=window.document.getElementsByTagName("script");for(const x of Object.values(H))if(x.src&&x.src.includes($n)&&x.src.includes(b))return x;return null}const p1=new class w6{constructor(H={},x=1e3){this.throttleMetadata=H,this.intervalMillis=x}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,x){this.throttleMetadata[H]=x}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function xs(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Ss(b){return D2.apply(this,arguments)}function D2(){return(D2=(0,D.Z)(function*(b){var H;const{appId:x,apiKey:P}=b,q={method:"GET",headers:xs(P)},J=R4.replace("{app-id}",x),ze=yield fetch(J,q);if(200!==ze.status&&304!==ze.status){let je="";try{const Qe=yield ze.json();null!==(H=Qe.error)&&void 0!==H&&H.message&&(je=Qe.error.message)}catch{}throw x1.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:je})}return ze.json()})).apply(this,arguments)}function B4(b){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,D.Z)(function*(b,H=p1,x){const{appId:P,apiKey:q,measurementId:J}=b.options;if(!P)throw x1.create("no-app-id");if(!q){if(J)return{measurementId:J,appId:P};throw x1.create("no-api-key")}const ze=H.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new v3;return setTimeout((0,D.Z)(function*(){je.abort()}),void 0!==x?x:6e4),g3({appId:P,apiKey:q,measurementId:J},ze,je,H)})).apply(this,arguments)}function g3(b,H,x){return _r.apply(this,arguments)}function _r(){return(_r=(0,D.Z)(function*(b,{throttleEndTimeMillis:H,backoffCount:x},P,q=p1){var J;const{appId:ze,measurementId:je}=b;try{yield m3(P,H)}catch(Qe){if(je)return a2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:ze,measurementId:je};throw Qe}try{const Qe=yield Ss(b);return q.deleteThrottleMetadata(ze),Qe}catch(Qe){const Je=Qe;if(!Wr(Je)){if(q.deleteThrottleMetadata(ze),je)return a2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:ze,measurementId:je};throw Qe}const bt=503===Number(null===(J=Je?.customData)||void 0===J?void 0:J.httpStatus)?(0,X.$s)(x,q.intervalMillis,30):(0,X.$s)(x,q.intervalMillis),ut={throttleEndTimeMillis:Date.now()+bt,backoffCount:x+1};return q.setThrottleMetadata(ze,ut),a2.debug(`Calling attemptFetch again in ${bt} millis`),g3(b,ut,P,q)}})).apply(this,arguments)}function m3(b,H){return new Promise((x,P)=>{const q=Math.max(H-Date.now(),0),J=setTimeout(x,q);b.addEventListener(()=>{clearTimeout(J),P(x1.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function Wr(b){if(!(b instanceof X.ZR&&b.customData))return!1;const H=Number(b.customData.httpStatus);return 429===H||500===H||503===H||504===H}class v3{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let zi,Es;function Zr(){return(Zr=(0,D.Z)(function*(b,H,x,P,q){if(q&&q.global)b("event",x,P);else{const J=yield H;b("event",x,Object.assign(Object.assign({},P),{send_to:J}))}})).apply(this,arguments)}function xi(b){Es=b}function Si(b){zi=b}function As(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,D.Z)(function*(){if(!(0,X.hl)())return a2.warn(x1.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(b){return a2.warn(x1.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function g1(){return(g1=(0,D.Z)(function*(b,H,x,P,q,J,ze){var je;const Qe=B4(b);Qe.then($t=>{x[$t.measurementId]=$t.appId,b.options.measurementId&&$t.measurementId!==b.options.measurementId&&a2.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${$t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($t=>a2.error($t)),H.push(Qe);const Je=As().then($t=>{if($t)return P.getId()}),[bt,ut]=yield Promise.all([Qe,Je]);Vn(J)||h3(J,bt.measurementId),Es&&(q("consent","default",Es),xi(void 0)),q("js",new Date);const B2=null!==(je=ze?.config)&&void 0!==je?je:{};return B2.origin="firebase",B2.update=!0,null!=ut&&(B2[Rl]=ut),q("config",bt.measurementId,B2),zi&&(q("set",zi),Si(void 0)),bt.measurementId})).apply(this,arguments)}class Li{constructor(H){this.app=H}_delete(){return delete m1[this.app.options.appId],Promise.resolve()}}let m1={},Is=[];const C3={};let y3,St,k1="dataLayer",Ts=!1;function H6(b,H,x){!function $4(){const b=[];if((0,X.ru)()&&b.push("This is a browser extension environment."),(0,X.zI)()||b.push("Cookies are not available."),b.length>0){const H=b.map((P,q)=>`(${q+1}) ${P}`).join(" "),x=x1.create("invalid-analytics-context",{errorInfo:H});a2.warn(x.message)}}();const P=b.options.appId;if(!P)throw x1.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw x1.create("no-api-key");a2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=m1[P])throw x1.create("already-exists",{id:P});if(!Ts){!function mr(b){let H=[];Array.isArray(window[b])?H=window[b]:window[b]=H}(k1);const{wrappedGtag:J,gtagCore:ze}=function mc(b,H,x,P,q){let J=function(...ze){window[P].push(arguments)};return window[q]&&"function"==typeof window[q]&&(J=window[q]),window[q]=function qr(b,H,x,P){function J(){return(J=(0,D.Z)(function*(ze,je,Qe){try{"event"===ze?yield wi(b,H,x,je,Qe):"config"===ze?yield p3(b,H,x,P,je,Qe):"consent"===ze?b("consent","update",Qe):b("set",je)}catch(Je){a2.error(Je)}})).apply(this,arguments)}return function q(ze,je,Qe){return J.apply(this,arguments)}}(J,b,H,x),{gtagCore:J,wrappedGtag:window[q]}}(m1,Is,C3,k1,"gtag");St=J,y3=ze,Ts=!0}return m1[P]=function _c(b,H,x,P,q,J,ze){return g1.apply(this,arguments)}(b,Is,C3,H,y3,k1,x),new Li(b)}function Ns(){return yr.apply(this,arguments)}function yr(){return(yr=(0,D.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch{return!1}})).apply(this,arguments)}const K2="@firebase/analytics";!function yc(){(0,ee._registerComponent)(new se.wA(Vs,(H,{options:x})=>H6(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ee._registerComponent)(new se.wA("analytics-internal",function b(H){try{const x=H.getProvider(Vs).getImmediate();return{logEvent:(P,q,J)=>function z6(b,H,x,P){b=(0,X.m9)(b),function j4(b,H,x,P,q){return Zr.apply(this,arguments)}(St,m1[b.app.options.appId],H,x,P).catch(q=>a2.error(q))}(x,P,q,J)}}catch(x){throw x1.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ee.registerVersion)(K2,"0.9.5"),(0,ee.registerVersion)(K2,"0.9.5","esm2017")}();var Ei=I(4408),b3=I(7565);const G4=new class S6 extends b3.v{}(class M3 extends Ei.o{constructor(H,x){super(H,x),this.scheduler=H,this.work=x}schedule(H,x=0){return x>0?super.schedule(H,x):(this.delay=x,this.state=H,this.scheduler.flush(this),this)}execute(H,x){return x>0||this.closed?super.execute(H,x):this._execute(H,x)}requestAsyncId(H,x,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(H,x,P):(H.flush(this),0)}});var bc=I(4986),wc=I(8505),i1=I(9468),Yr=I(5363);const Z1=new c.GfV("7.5.0"),ks="__angularfire_symbol__analyticsIsSupportedValue",Os="__angularfire_symbol__analyticsIsSupported",q4="__angularfire_symbol__remoteConfigIsSupportedValue",W4="__angularfire_symbol__remoteConfigIsSupported",w3="__angularfire_symbol__messagingIsSupportedValue",Rs="__angularfire_symbol__messagingIsSupported";function qn(b,H,x){if(H){if(1===H.length)return H[0];const J=H.filter(ze=>ze.app===x);if(1===J.length)return J[0]}return x.container.getProvider(b).getImmediate({optional:!0})}globalThis[Os]||(globalThis[Os]=Ns().then(b=>globalThis[ks]=b).catch(()=>globalThis[ks]=!1)),globalThis[Rs]||(globalThis[Rs]=P4().then(b=>globalThis[w3]=b).catch(()=>globalThis[w3]=!1)),globalThis[W4]||(globalThis[W4]=e3().then(b=>globalThis[q4]=b).catch(()=>globalThis[q4]=!1));const r2=(b,H)=>{const x=H?[H]:(0,K.C6)(),P=[];return x.forEach(q=>{q.container.getProvider(b).instances.forEach(ze=>{P.includes(ze)||P.push(ze)})}),P};function Ue(){}class F2{constructor(H,x=G4){this.zone=H,this.delegate=x}now(){return this.delegate.now()}schedule(H,x,P){const q=this.zone;return this.delegate.schedule(function(ze){q.runGuarded(()=>{H.apply(this,[ze])})},x,P)}}class Us{constructor(H){this.zone=H,this.task=null}call(H,x){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ue,{},Ue,Ue)),x.pipe((0,wc.b)({next:P,complete:P,error:P})).subscribe(H).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wn=(()=>{class b{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new F2(Zone.current)),this.insideAngular=x.run(()=>new F2(Zone.current,bc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(x){return new(x||b)(c.LFG(c.R0b))},b.\u0275prov=c.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Y1(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function C2(b){return Y1(),function H3(b){return function(x){return(x=x.lift(new Us(b.ngZone))).pipe((0,i1.R)(b.outsideAngular),(0,Yr.Q)(b.insideAngular))}}(Y1())(b)}},2090:(it,be,I)=>{I.d(be,{$s:()=>_t,BH:()=>ve,DV:()=>A1,Dv:()=>N2,GJ:()=>B1,L:()=>le,LL:()=>Be,Pz:()=>he,Sg:()=>De,UG:()=>fe,UI:()=>Fe,US:()=>se,Wj:()=>Cn,Wl:()=>I2,Yr:()=>pe,ZB:()=>W,ZR:()=>Bt,aH:()=>Me,b$:()=>ot,cI:()=>lt,dS:()=>j1,eu:()=>_e,g5:()=>D,gK:()=>P2,gQ:()=>V2,h$:()=>ae,hl:()=>Se,hu:()=>K,jU:()=>Ae,lb:()=>Ot,m9:()=>e1,ne:()=>e2,p$:()=>B,pd:()=>m2,r3:()=>V1,ru:()=>$e,tV:()=>U,uI:()=>R,ug:()=>Rt,vZ:()=>X2,w1:()=>te,w9:()=>a1,xO:()=>D1,xb:()=>kr,z$:()=>Ie,zI:()=>et,zd:()=>cn});const K=function(F,O){if(!F)throw D(O)},D=function(F){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+F)},ee=function(F){const O=[];let G=0;for(let ne=0;ne<F.length;ne++){let Y=F.charCodeAt(ne);Y<128?O[G++]=Y:Y<2048?(O[G++]=Y>>6|192,O[G++]=63&Y|128):55296==(64512&Y)&&ne+1<F.length&&56320==(64512&F.charCodeAt(ne+1))?(Y=65536+((1023&Y)<<10)+(1023&F.charCodeAt(++ne)),O[G++]=Y>>18|240,O[G++]=Y>>12&63|128,O[G++]=Y>>6&63|128,O[G++]=63&Y|128):(O[G++]=Y>>12|224,O[G++]=Y>>6&63|128,O[G++]=63&Y|128)}return O},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,O){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let Y=0;Y<F.length;Y+=3){const Oe=F[Y],vt=Y+1<F.length,Lt=vt?F[Y+1]:0,Ft=Y+2<F.length,Le=Ft?F[Y+2]:0;let d2=(15&Lt)<<2|Le>>6,q2=63&Le;Ft||(q2=64,vt||(d2=64)),ne.push(G[Oe>>2],G[(3&Oe)<<4|Lt>>4],G[d2],G[q2])}return ne.join("")},encodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(F):this.encodeByteArray(ee(F),O)},decodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(F):function(F){const O=[];let G=0,ne=0;for(;G<F.length;){const Y=F[G++];if(Y<128)O[ne++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Oe=F[G++];O[ne++]=String.fromCharCode((31&Y)<<6|63&Oe)}else if(Y>239&&Y<365){const Ft=((7&Y)<<18|(63&F[G++])<<12|(63&F[G++])<<6|63&F[G++])-65536;O[ne++]=String.fromCharCode(55296+(Ft>>10)),O[ne++]=String.fromCharCode(56320+(1023&Ft))}else{const Oe=F[G++],vt=F[G++];O[ne++]=String.fromCharCode((15&Y)<<12|(63&Oe)<<6|63&vt)}}return O.join("")}(this.decodeStringToByteArray(F,O))},decodeStringToByteArray(F,O){this.init_();const G=O?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let Y=0;Y<F.length;){const Oe=G[F.charAt(Y++)],Lt=Y<F.length?G[F.charAt(Y)]:0;++Y;const Le=Y<F.length?G[F.charAt(Y)]:64;++Y;const rt=Y<F.length?G[F.charAt(Y)]:64;if(++Y,null==Oe||null==Lt||null==Le||null==rt)throw new ie;ne.push(Oe<<2|Lt>>4),64!==Le&&(ne.push(Lt<<4&240|Le>>2),64!==rt&&ne.push(Le<<6&192|rt))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function(F){const O=ee(F);return se.encodeByteArray(O,!0)},le=function(F){return ae(F).replace(/\./g,"")},U=function(F){try{return se.decodeString(F,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function B(F){return W(void 0,F)}function W(F,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return O}for(const G in O)!O.hasOwnProperty(G)||!Ne(G)||(F[G]=W(F[G],O[G]));return F}function Ne(F){return"__proto__"!==F}const oe=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=F&&U(F[1]);return O&&JSON.parse(O)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Me=()=>{var F;return null===(F=oe())||void 0===F?void 0:F.config},he=F=>{var O;return null===(O=oe())||void 0===O?void 0:O[`_${F}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,G)=>{this.resolve=O,this.reject=G})}wrapCallback(O){return(G,ne)=>{G?this.reject(G):this.resolve(ne),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(G):O(G,ne))}}}function De(F,O){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=O||"demo-project",Y=F.iat||0,Oe=F.sub||F.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:Y,exp:Y+3600,auth_time:Y,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},F);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(vt)),""].join(".")}function Ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function fe(){var F;const O=null===(F=oe())||void 0===F?void 0:F.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ae(){return"object"==typeof self&&self.self===self}function $e(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function te(){const F=Ie();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function pe(){return!1}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((F,O)=>{try{let G=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ne);Y.onsuccess=()=>{Y.result.close(),G||self.indexedDB.deleteDatabase(ne),F(!0)},Y.onupgradeneeded=()=>{G=!1},Y.onerror=()=>{var Oe;O((null===(Oe=Y.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(G){O(G)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bt extends Error{constructor(O,G,ne){super(G),this.code=O,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(O,G,ne){this.service=O,this.serviceName=G,this.errors=ne}create(O,...G){const ne=G[0]||{},Y=`${this.service}/${O}`,Oe=this.errors[O],vt=Oe?function kt(F,O){return F.replace(tt,(G,ne)=>{const Y=O[ne];return null!=Y?String(Y):`<${ne}?>`})}(Oe,ne):"Error";return new Bt(Y,`${this.serviceName}: ${vt} (${Y}).`,ne)}}const tt=/\{\$([^}]+)}/g;function lt(F){return JSON.parse(F)}function I2(F){return JSON.stringify(F)}const i2=function(F){let O={},G={},ne={},Y="";try{const Oe=F.split(".");O=lt(U(Oe[0])||""),G=lt(U(Oe[1])||""),Y=Oe[2],ne=G.d||{},delete G.d}catch{}return{header:O,claims:G,data:ne,signature:Y}},a1=function(F){const G=i2(F).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},B1=function(F){const O=i2(F).claims;return"object"==typeof O&&!0===O.admin};function V1(F,O){return Object.prototype.hasOwnProperty.call(F,O)}function A1(F,O){if(Object.prototype.hasOwnProperty.call(F,O))return F[O]}function kr(F){for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O))return!1;return!0}function Fe(F,O,G){const ne={};for(const Y in F)Object.prototype.hasOwnProperty.call(F,Y)&&(ne[Y]=O.call(G,F[Y],Y,F));return ne}function X2(F,O){if(F===O)return!0;const G=Object.keys(F),ne=Object.keys(O);for(const Y of G){if(!ne.includes(Y))return!1;const Oe=F[Y],vt=O[Y];if(on(Oe)&&on(vt)){if(!X2(Oe,vt))return!1}else if(Oe!==vt)return!1}for(const Y of ne)if(!G.includes(Y))return!1;return!0}function on(F){return null!==F&&"object"==typeof F}function D1(F){const O=[];for(const[G,ne]of Object.entries(F))Array.isArray(ne)?ne.forEach(Y=>{O.push(encodeURIComponent(G)+"="+encodeURIComponent(Y))}):O.push(encodeURIComponent(G)+"="+encodeURIComponent(ne));return O.length?"&"+O.join("&"):""}function cn(F){const O={};return F.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[Y,Oe]=ne.split("=");O[decodeURIComponent(Y)]=decodeURIComponent(Oe)}}),O}function m2(F){const O=F.indexOf("?");if(!O)return"";const G=F.indexOf("#",O);return F.substring(O,G>0?G:void 0)}class V2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,G){G||(G=0);const ne=this.W_;if("string"==typeof O)for(let rt=0;rt<16;rt++)ne[rt]=O.charCodeAt(G)<<24|O.charCodeAt(G+1)<<16|O.charCodeAt(G+2)<<8|O.charCodeAt(G+3),G+=4;else for(let rt=0;rt<16;rt++)ne[rt]=O[G]<<24|O[G+1]<<16|O[G+2]<<8|O[G+3],G+=4;for(let rt=16;rt<80;rt++){const d2=ne[rt-3]^ne[rt-8]^ne[rt-14]^ne[rt-16];ne[rt]=4294967295&(d2<<1|d2>>>31)}let Le,nt,Y=this.chain_[0],Oe=this.chain_[1],vt=this.chain_[2],Lt=this.chain_[3],Ft=this.chain_[4];for(let rt=0;rt<80;rt++){rt<40?rt<20?(Le=Lt^Oe&(vt^Lt),nt=1518500249):(Le=Oe^vt^Lt,nt=1859775393):rt<60?(Le=Oe&vt|Lt&(Oe|vt),nt=2400959708):(Le=Oe^vt^Lt,nt=3395469782);const d2=(Y<<5|Y>>>27)+Le+Ft+nt+ne[rt]&4294967295;Ft=Lt,Lt=vt,vt=4294967295&(Oe<<30|Oe>>>2),Oe=Y,Y=d2}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+vt&4294967295,this.chain_[3]=this.chain_[3]+Lt&4294967295,this.chain_[4]=this.chain_[4]+Ft&4294967295}update(O,G){if(null==O)return;void 0===G&&(G=O.length);const ne=G-this.blockSize;let Y=0;const Oe=this.buf_;let vt=this.inbuf_;for(;Y<G;){if(0===vt)for(;Y<=ne;)this.compress_(O,Y),Y+=this.blockSize;if("string"==typeof O){for(;Y<G;)if(Oe[vt]=O.charCodeAt(Y),++vt,++Y,vt===this.blockSize){this.compress_(Oe),vt=0;break}}else for(;Y<G;)if(Oe[vt]=O[Y],++vt,++Y,vt===this.blockSize){this.compress_(Oe),vt=0;break}}this.inbuf_=vt,this.total_+=G}digest(){const O=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&G,G/=256;this.compress_(this.buf_);let ne=0;for(let Y=0;Y<5;Y++)for(let Oe=24;Oe>=0;Oe-=8)O[ne]=this.chain_[Y]>>Oe&255,++ne;return O}}function e2(F,O){const G=new at(F,O);return G.subscribe.bind(G)}class at{constructor(O,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{O(this)}).catch(ne=>{this.error(ne)})}next(O){this.forEachObserver(G=>{G.next(O)})}error(O){this.forEachObserver(G=>{G.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,G,ne){let Y;if(void 0===O&&void 0===G&&void 0===ne)throw new Error("Missing Observer.");Y=function Zt(F,O){if("object"!=typeof F||null===F)return!1;for(const G of O)if(G in F&&"function"==typeof F[G])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:G,complete:ne},void 0===Y.next&&(Y.next=z2),void 0===Y.error&&(Y.error=z2),void 0===Y.complete&&(Y.complete=z2);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Oe}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,O)}sendOne(O,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{G(this.observers[O])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(){}const N2=function(F,O,G,ne){let Y;if(ne<O?Y="at least "+O:ne>G&&(Y=0===G?"none":"no more than "+G),Y)throw new Error(F+" failed: Was called with "+ne+(1===ne?" argument.":" arguments.")+" Expects "+Y+".")};function P2(F,O){return`${F} failed: ${O} argument `}function Cn(F,O,G,ne){if((!ne||G)&&"function"!=typeof G)throw new Error(P2(F,O)+"must be a valid function.")}function Ot(F,O,G,ne){if((!ne||G)&&("object"!=typeof G||null===G))throw new Error(P2(F,O)+"must be a valid context object.")}const j1=function(F){const O=[];let G=0;for(let ne=0;ne<F.length;ne++){let Y=F.charCodeAt(ne);if(Y>=55296&&Y<=56319){const Oe=Y-55296;ne++,K(ne<F.length,"Surrogate pair missing trail surrogate."),Y=65536+(Oe<<10)+(F.charCodeAt(ne)-56320)}Y<128?O[G++]=Y:Y<2048?(O[G++]=Y>>6|192,O[G++]=63&Y|128):Y<65536?(O[G++]=Y>>12|224,O[G++]=Y>>6&63|128,O[G++]=63&Y|128):(O[G++]=Y>>18|240,O[G++]=Y>>12&63|128,O[G++]=Y>>6&63|128,O[G++]=63&Y|128)}return O},Rt=function(F){let O=0;for(let G=0;G<F.length;G++){const ne=F.charCodeAt(G);ne<128?O++:ne<2048?O+=2:ne>=55296&&ne<=56319?(O+=4,G++):O+=3}return O};function _t(F,O=1e3,G=2){const ne=O*Math.pow(G,F),Y=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+Y)}function e1(F){return F&&F._delegate?F._delegate:F}},8369:(it,be,I)=>{var c=I(4650);let K=null;function D(){return K}const ie=new c.OlP("DocumentToken");let ae=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return function le(){return(0,c.LFG)(B)}()},providedIn:"platform"}),t})();const U=new c.OlP("Location Initialized");let B=(()=>{class t extends ae{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return D().getBaseHref(this._doc)}onPopState(e){const i=D().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=D().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){W()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){W()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ie))},t.\u0275prov=c.Yz7({token:t,factory:function(){return function Ne(){return new B((0,c.LFG)(ie))}()},providedIn:"platform"}),t})();function W(){return!!window.history.pushState}function He(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function me(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function qe(t){return t&&"?"!==t[0]?"?"+t:t}let de=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(Ge)},providedIn:"root"}),t})();const oe=new c.OlP("appBaseHref");let Ge=(()=>{class t extends de{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return He(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+qe(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,u){const g=this.prepareExternalUrl(a+qe(u));this._platformLocation.pushState(e,i,g)}replaceState(e,i,a,u){const g=this.prepareExternalUrl(a+qe(u));this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ae),c.LFG(oe,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),st=(()=>{class t extends de{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=He(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,u){let g=this.prepareExternalUrl(a+qe(u));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,i,g)}replaceState(e,i,a,u){let g=this.prepareExternalUrl(a+qe(u));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ae),c.LFG(oe,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})(),Me=(()=>{class t{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=me(De(i)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qe(i))}normalize(e){return t.stripTrailingSlash(function ve(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,De(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._locationStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),a)}replaceState(e,i="",a=null){this._locationStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return t.normalizeQueryParams=qe,t.joinWithSlash=He,t.stripTrailingSlash=me,t.\u0275fac=function(e){return new(e||t)(c.LFG(de))},t.\u0275prov=c.Yz7({token:t,factory:function(){return function he(){return new Me((0,c.LFG)(de))}()},providedIn:"root"}),t})();function De(t){return t.replace(/\/index.html$/,"")}function hi(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[a,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===n)return decodeURIComponent(u)}return null}let Ut=(()=>{class t{constructor(e,i,a,u){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=a,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class pi{constructor(n,e,i,a){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let u1=(()=>{class t{constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((a,u,g)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new pi(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)i.remove(null===u?void 0:u);else if(null!==u){const C=i.get(u);i.move(C,g),Rn(C,a)}});for(let a=0,u=i.length;a<u;a++){const C=i.get(a).context;C.index=a,C.count=u,C.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Rn(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Rn(t,n){t.context.$implicit=n.item}let t2=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new fs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){O2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){O2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.s_b),c.Y36(c.Rgc))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class fs{constructor(){this.$implicit=null,this.ngIf=null}}function O2(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,c.AaK)(n)}'.`)}class z4{createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}}class h6{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const yn=new h6,p6=new z4;let I1=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return yn;if((0,c.F4k)(e))return p6;throw function A2(t,n){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.sBO,16))},t.\u0275pipe=c.Yjl({name:"async",type:t,pure:!1,standalone:!0}),t})(),v2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),t})();let n3=(()=>{class t{}return t.\u0275prov=(0,c.Yz7)({token:t,providedIn:"root",factory:()=>new lc((0,c.LFG)(ie),window)}),t})();class lc{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function r1(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const u=a.shadowRoot;if(u){const g=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(g)return g}a=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],a-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=N1(this.window.history)||N1(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function N1(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ur{}class U4 extends class gc extends class se{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(t){K||(K=t)}(new U4)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function h3(){return d3=d3||document.querySelector("base"),d3?d3.getAttribute("href"):null}();return null==e?null:function p3(t){mr=mr||document.createElement("a"),mr.setAttribute("href",t);const n=mr.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){d3=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return hi(document.cookie,n)}}let mr,d3=null;const vr=new c.OlP("TRANSITION_ID"),Hi=[{provide:c.ip1,useFactory:function wi(t,n,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=D(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let u=0;u<a.length;u++)i.remove(a[u])})}},deps:[vr,ie,c.zs3],multi:!0}];let mc=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();const Vn=new c.OlP("EventManagerPlugins");let Vi=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let u=0;u<a.length;u++){const g=a[u];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Vn),c.LFG(c.R0b))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();class Gn{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const a=D().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let w6=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})(),p1=(()=>{class t extends w6{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(u=>{const g=this._doc.createElement("style");g.textContent=u,a.push(i.appendChild(g))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(xs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(xs))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ie))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();function xs(t){D().remove(t)}const Ss={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},D2=/%COMP%/g;function v3(t,n,e){for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?v3(t,a,e):(a=a.replace(D2,t),e.push(a))}return e}function zi(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Zr=(()=>{class t{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Cr(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new vc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case c.ifc.ShadowDom:return new Kr(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=v3(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Vi),c.LFG(p1),c.LFG(c.AFp))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();class Cr{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Ss[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(q1(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(q1(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,a){if(a){e=a+":"+e;const u=Ss[a];u?n.setAttributeNS(u,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const a=Ss[i];a?n.removeAttributeNS(a,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,a){a&(c.JOm.DashCase|c.JOm.Important)?n.style.setProperty(e,i,a&c.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&c.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,zi(i)):this.eventManager.addEventListener(n,e,zi(i))}}function q1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vc extends Cr{constructor(n,e,i,a){super(n),this.component=i;const u=v3(a+"-"+i.id,i.styles,[]);e.addStyles(u),this.contentAttr=function m3(t){return"_ngcontent-%COMP%".replace(D2,t)}(a+"-"+i.id),this.hostAttr=function Wr(t){return"_nghost-%COMP%".replace(D2,t)}(a+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class Kr extends Cr{constructor(n,e,i,a){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=v3(a.id,a.styles,[]);for(let g=0;g<u.length;g++){const C=document.createElement("style");C.textContent=u[g],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Ls=(()=>{class t extends Gn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ie))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();const W1=["alt","control","meta","shift"],Es={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xi={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Si=(()=>{class t extends Gn{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,a){const u=t.parseEventName(i),g=t.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>D().onAndCancel(e,u.domEventName,g))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const u=t._normalizeKey(i.pop());let g="",C=i.indexOf("code");if(C>-1&&(i.splice(C,1),g="code."),W1.forEach(S=>{const k=i.indexOf(S);k>-1&&(i.splice(k,1),g+=S+".")}),g+=u,0!=i.length||0===u.length)return null;const w={};return w.domEventName=a,w.fullKey=g,w}static matchEventFullKeyCode(e,i){let a=Es[e.key]||e.key,u="";return i.indexOf("code.")>-1&&(a=e.code,u="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),W1.forEach(g=>{g!==a&&(0,xi[g])(e)&&(u+=g+".")}),u+=a,u===i)}static eventCallback(e,i,a){return u=>{t.matchEventFullKeyCode(u,e)&&a.runGuarded(()=>i(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ie))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();const Cc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function m1(){U4.makeCurrent()},multi:!0},{provide:ie,useFactory:function C3(){return(0,c.RDi)(document),document},deps:[]}]),y3=new c.OlP(""),St=[{provide:c.rWj,useClass:class qr{addToWindow(n){c.dqk.getAngularTestability=(i,a=!0)=>{const u=n.findTestabilityInTree(i,a);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const a=c.dqk.getAllAngularTestabilities();let u=a.length,g=!1;const C=function(w){g=g||w,u--,0==u&&i(g)};a.forEach(function(w){w.whenStable(C)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?D().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Ts=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Is(){return new c.qLn},deps:[]},{provide:Vn,useClass:Ls,multi:!0,deps:[ie,c.R0b,c.Lbi]},{provide:Vn,useClass:Si,multi:!0,deps:[ie]},{provide:Zr,useClass:Zr,deps:[Vi,p1,c.AFp]},{provide:c.FYo,useExisting:Zr},{provide:w6,useExisting:p1},{provide:p1,useClass:p1,deps:[ie]},{provide:Vi,useClass:Vi,deps:[Vn,c.R0b]},{provide:ur,useClass:mc,deps:[]},[]];let Fl=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:c.AFp,useValue:e.appId},{provide:vr,useExisting:c.AFp},Hi]}}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(y3,12))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[...Ts,...St],imports:[v2,c.hGG]}),t})(),Ns=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ie))},t.\u0275prov=c.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function V6(){return new Ns((0,c.LFG)(ie))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;var s1=I(2011),K1=I(7579),qn=I(7669),r2=I(8996);function Ue(...t){const n=(0,qn.yG)(t);return(0,r2.D)(t,n)}var F2=I(9751),Us=I(6451),Wn=I(5363),Y1=I(8421),U2=I(4482),jt=I(5403);function Gt(t,n){return(0,U2.e)((e,i)=>{let a=null,u=0,g=!1;const C=()=>g&&!a&&i.complete();e.subscribe((0,jt.x)(i,w=>{a?.unsubscribe();let S=0;const k=u++;(0,Y1.Xf)(t(w,k)).subscribe(a=(0,jt.x)(i,N=>i.next(n?n(w,N,k,S++):N),()=>{a=null,C()}))},()=>{g=!0,C()}))})}var Ze=I(4004),C2=I(6063);class H3 extends K1.x{constructor(n=1/0,e=1/0,i=C2.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:g}=this;e||(i.push(n),!a&&i.push(u.now()+g)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:a}=this,u=a.slice();for(let g=0;g<u.length&&!n.closed;g+=i?1:2)n.next(u[g]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,u=(a?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!a){const g=e.now();let C=0;for(let w=1;w<i.length&&i[w]<=g;w+=2)C=w;C&&i.splice(0,C+1)}}}var V3=I(3099);function z3(t,n,e){let i,a=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:a=!1,scheduler:e}=t):i=t??1/0,(0,V3.B)({connector:()=>new H3(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}const H=(0,I(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function x(t,n){return(0,U2.e)((e,i)=>{let a=0;e.subscribe((0,jt.x)(i,u=>t.call(n,u,a++)&&i.next(u)))})}var P=I(515);function q(t){return t<=0?()=>P.E:(0,U2.e)((n,e)=>{let i=0;n.subscribe((0,jt.x)(e,a=>{++i<=t&&(e.next(a),t<=i&&e.complete())}))})}function J(t){return(0,U2.e)((n,e)=>{let i=!1;n.subscribe((0,jt.x)(e,a=>{i=!0,e.next(a)},()=>{i||e.next(t),e.complete()}))})}function ze(t=je){return(0,U2.e)((n,e)=>{let i=!1;n.subscribe((0,jt.x)(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(t())))})}function je(){return new H}var Qe=I(4671);function Je(t,n){const e=arguments.length>=2;return i=>i.pipe(t?x((a,u)=>t(a,u,i)):Qe.y,q(1),e?J(n):ze(()=>new H))}var bt=I(576);function ut(t,n){return(0,bt.m)(n)?Gt(()=>t,n):Gt(()=>t)}var B2=I(9468),$t=I(2122);I(259);var br=I(5861),Di=I(9681),wr=I(4859),T=I(2090),Hc=I(1877);const js=new Map,Zl={activated:!1,tokenObservers:[]},E6={initialized:!1,enabled:!1};function v1(t){return js.get(t)||Object.assign({},Zl)}function Vc(){return E6}class Kn{constructor(n,e,i,a,u){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,br.Z)(function*(){e.stop();try{e.pending=new T.BH,yield function Sc(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new T.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const o1=new T.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Gs(t){if(!v1(t).activated)throw o1.create("use-before-activation",{appName:t.name})}function Ec(t,n){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,br.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const N=yield a.getHeartbeatsHeader();N&&(i["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(n),headers:i};let g,C;try{g=yield fetch(t,u)}catch(N){throw o1.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==g.status)throw o1.create("fetch-status-error",{httpStatus:g.status});try{C=yield g.json()}catch(N){throw o1.create("fetch-parse-error",{originalErrorMessage:N?.message})}const w=C.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw o1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const S=1e3*Number(w[1]),k=Date.now();return{token:C.token,expireTimeMillis:k+S,issuedAtTimeMillis:k}})).apply(this,arguments)}function Y2(t,n){const{projectId:e,appId:i,apiKey:a}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:n}}}const Ii="firebase-app-check-store";let Qr=null;function Tc(){return Qr||(Qr=new Promise((t,n)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var a;n(o1.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ii,{keyPath:"compositeKey"})}}catch(e){n(o1.create("storage-open",{originalErrorMessage:e?.message}))}}),Qr)}function Nc(){return(Nc=(0,br.Z)(function*(t,n){const i=(yield Tc()).transaction(Ii,"readwrite"),u=i.objectStore(Ii).put({compositeKey:t,value:n});return new Promise((g,C)=>{u.onsuccess=w=>{g()},i.onerror=w=>{var S;C(o1.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Vr=new Hc.Yd("@firebase/app-check");function S3(t,n){return(0,T.hl)()?function N6(t,n){return function Hr(t,n){return Nc.apply(this,arguments)}(function k6(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{Vr.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Q4(){return Vc().enabled}function O6(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,br.Z)(function*(){const t=Vc();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const R6={error:"UNKNOWN_ERROR"};function Uu(t){return T.US.encodeString(JSON.stringify(t),!1)}function Yn(t){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,br.Z)(function*(t,n=!1){const e=t.app;Gs(e);const i=v1(e);let u,a=i.token;if(a&&!E3(a)&&(i.token=void 0,a=void 0),!a){const w=yield i.cachedTokenPromise;w&&(E3(w)?a=w:yield S3(e,void 0))}if(!n&&a&&E3(a))return{token:a.token};let C,g=!1;if(Q4()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ec(Y2(e,yield O6()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),g=!0);const w=yield i.exchangeTokenPromise;return yield S3(e,w),i.token=w,{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),g=!0),a=yield v1(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Vr.warn(w.message):Vr.error(w),u=w}return a?u?C=E3(a)?{token:a.token,internalError:u}:Zs(u):(C={token:a.token},i.token=a,yield S3(e,a)):C=Zs(u),g&&F6(e,C),C})).apply(this,arguments)}function Fc(t,n){const e=v1(t),i=e.tokenObservers.filter(a=>a.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function L3(t){const{app:n}=t,e=v1(n);let i=e.tokenRefresher;i||(i=function Uc(t){const{app:n}=t;return new Kn((0,br.Z)(function*(){let i;if(i=v1(n).token?yield Yn(t,!0):yield Yn(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=v1(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function F6(t,n){const e=v1(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}function E3(t){return t.expireTimeMillis-Date.now()>0}function Zs(t){return{token:Uu(R6),error:t}}class Jl{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=v1(this.app);for(const e of n)Fc(this.app,e.next);return Promise.resolve()}}const I3="app-check-internal";!function $6(){(0,Di._registerComponent)(new wr.wA("app-check",t=>function Xl(t,n){return new Jl(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(I3).initialize()})),(0,Di._registerComponent)(new wr.wA(I3,t=>function U6(t){return{getToken:n=>Yn(t,n),addTokenListener:n=>function J4(t,n,e,i){const{app:a}=t,u=v1(a);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:i,type:n}],u.token&&E3(u.token)){const C=u.token;Promise.resolve().then(()=>{e({token:C.token}),L3(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>L3(t))}(t,"INTERNAL",n),removeTokenListener:n=>Fc(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Di.registerVersion)("@firebase/app-check","0.6.4")}();class io{constructor(){return(0,$t.vb)("app-check")}}typeof window<"u"&&window;var Yc=I(9260);const Qc=new c.OlP("angularfire2.auth.use-emulator"),m=new c.OlP("angularfire2.auth.settings"),d=new c.OlP("angularfire2.auth.tenant-id"),h=new c.OlP("angularfire2.auth.langugage-code"),_=new c.OlP("angularfire2.auth.use-device-language"),z=new c.OlP("angularfire.auth.persistence"),E=(t,n,e,i,a,u,g,C)=>(0,s1.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const w=n.runOutsideAngular(()=>t.auth());if(e&&w.useEmulator(...e),i&&(w.tenantId=i),w.languageCode=a,u&&w.useDeviceLanguage(),g)for(const[S,k]of Object.entries(g))w.settings[S]=k;return C&&w.setPersistence(C),w},[e,i,a,u,g,C]);let $=(()=>{class t{constructor(e,i,a,u,g,C,w,S,k,N,Z,re){const we=new K1.x,Pe=Ue(void 0).pipe((0,Wn.Q)(g.outsideAngular),Gt(()=>u.runOutsideAngular(()=>Promise.resolve().then(I.bind(I,9800)))),(0,Ze.U)(()=>(0,s1.on)(e,u,i)),(0,Ze.U)(wt=>E(wt,u,C,S,k,N,w,Z)),z3({bufferSize:1,refCount:!1}));if(function n1(t){return"server"===t}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ue(null);else{Pe.pipe(Je()).subscribe();const Tt=Pe.pipe(Gt(H2=>H2.getRedirectResult().then(di=>di,()=>null)),$t.iC,z3({bufferSize:1,refCount:!1})),Xt=Pe.pipe(Gt(H2=>new F2.y(di=>({unsubscribe:u.runOutsideAngular(()=>H2.onAuthStateChanged(d6=>di.next(d6),d6=>di.error(d6),()=>di.complete()))})))),E1=Pe.pipe(Gt(H2=>new F2.y(di=>({unsubscribe:u.runOutsideAngular(()=>H2.onIdTokenChanged(d6=>di.next(d6),d6=>di.error(d6),()=>di.complete()))}))));this.authState=Tt.pipe(ut(Xt),(0,B2.R)(g.outsideAngular),(0,Wn.Q)(g.insideAngular)),this.user=Tt.pipe(ut(E1),(0,B2.R)(g.outsideAngular),(0,Wn.Q)(g.insideAngular)),this.idToken=this.user.pipe(Gt(H2=>H2?(0,r2.D)(H2.getIdToken()):Ue(null))),this.idTokenResult=this.user.pipe(Gt(H2=>H2?(0,r2.D)(H2.getIdTokenResult()):Ue(null))),this.credential=(0,Us.T)(Tt,we,this.authState.pipe(x(H2=>!H2))).pipe((0,Ze.U)(H2=>H2?.user?H2:null),(0,B2.R)(g.outsideAngular),(0,Wn.Q)(g.insideAngular))}return(0,s1.pX)(this,Pe,u,{spy:{apply:(wt,Tt,Xt)=>{(wt.startsWith("signIn")||wt.startsWith("createUser"))&&Xt.then(E1=>we.next(E1))}}})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(s1.Dh),c.LFG(s1.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG($t.HU),c.LFG(Qc,8),c.LFG(m,8),c.LFG(d,8),c.LFG(h,8),c.LFG(_,8),c.LFG(z,8),c.LFG(io,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),ce=(()=>{class t{constructor(){Yc.Z.registerVersion("angularfire",$t.q4.full,"auth-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[$]}),t})();var Te=I(4986);function Ke(t,n,e,i,a){return(u,g)=>{let C=e,w=n,S=0;u.subscribe((0,jt.x)(g,k=>{const N=S++;w=C?t(w,k,N):(C=!0,k),i&&g.next(w)},a&&(()=>{C&&g.next(w),g.complete()})))}}function dt(t,n){return(0,U2.e)(Ke(t,n,arguments.length>=2,!0))}function Q2(t,n){return t===n}var dn=I(5032);I(9800);var K6=I(3942);const t4="@firebase/database";let Xr="";function ao(t){Xr=t}class lo{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,T.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,T.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class Jc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,T.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const c8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new lo(n)}}catch{}return new Jc},ei=c8("localStorage"),Y6=c8("sessionStorage"),T3=new Hc.Yd("@firebase/database"),Q6=function(){let t=1;return function(){return t++}}(),ah=function(t){const n=(0,T.dS)(t),e=new T.gQ;e.update(n);const i=e.digest();return T.US.encodeByteArray(i)},J6=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=J6.apply(null,i):n+="object"==typeof i?(0,T.Wl)(i):i,n+=" "}return n};let N3=null,ju=!0;const $u=function(t,n){(0,T.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(T3.logLevel=Hc.in.VERBOSE,N3=T3.log.bind(T3),n&&Y6.set("logging_enabled",!0)):"function"==typeof t?N3=t:(N3=null,Y6.remove("logging_enabled"))},C1=function(...t){if(!0===ju&&(ju=!1,null===N3&&!0===Y6.get("logging_enabled")&&$u(!0)),N3){const n=J6.apply(null,t);N3(n)}},Xc=function(t){return function(...n){C1(t,...n)}},X6=function(...t){const n="FIREBASE INTERNAL ERROR: "+J6(...t);T3.error(n)},xn=function(...t){const n=`FIREBASE FATAL ERROR: ${J6(...t)}`;throw T3.error(n),new Error(n)},R1=function(...t){const n="FIREBASE WARNING: "+J6(...t);T3.warn(n)},e0=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},P3="[MIN_NAME]",Oi="[MAX_NAME]",Ri=function(t,n){if(t===n)return 0;if(t===P3||n===Oi)return-1;if(n===P3||t===Oi)return 1;{const e=f8(t),i=f8(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},Gu=function(t,n){return t===n?0:t<n?-1:1},ea=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,T.Wl)(n))},l8=function(t){if("object"!=typeof t||null===t)return(0,T.Wl)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,T.Wl)(n[i]),e+=":",e+=l8(t[n[i]]);return e+="}",e},qu=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let a=0;a<e;a+=n)i.push(t.substring(a,a+n>e?e:a+n));return i};function y1(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const Wu=function(t){(0,T.hu)(!e0(t),"Invalid JSON number");const i=1023;let a,u,g,C,w;0===t?(u=0,g=0,a=1/t==-1/0?1:0):(a=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(C=Math.min(Math.floor(Math.log(t)/Math.LN2),i),u=C+i,g=Math.round(t*Math.pow(2,52-C)-Math.pow(2,52))):(u=0,g=Math.round(t/Math.pow(2,-1074))));const S=[];for(w=52;w;w-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(w=11;w;w-=1)S.push(u%2?1:0),u=Math.floor(u/2);S.push(a?1:0),S.reverse();const k=S.join("");let N="";for(w=0;w<64;w+=8){let Z=parseInt(k.substr(w,8),2).toString(16);1===Z.length&&(Z="0"+Z),N+=Z}return N.toLowerCase()},u8=new RegExp("^-?(0*)\\d{1,10}$"),f8=function(t){if(u8.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},uo=function(t){try{t()}catch(n){setTimeout(()=>{throw R1("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},fo=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class d8{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){R1(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xv{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(C1("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',R1(n)}}let na=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const t0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sa="websocket",O3="long_polling";class n0{constructor(n,e,i,a,u=!1,g="",C=!1,w=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=g,this.includeNamespaceInQueryParams=C,this.isUsingEmulator=w,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ei.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ei.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Xu(t,n,e){let i;if((0,T.hu)("string"==typeof n,"typeof type must == string"),(0,T.hu)("object"==typeof e,"typeof params must == object"),n===sa)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==O3)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function g8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const a=[];return y1(e,(u,g)=>{a.push(u+"="+g)}),i+a.join("&")}class lh{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,T.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,T.p$)(this.counters_)}}const r0={},R3={};function m8(t){const n=t.toString();return r0[n]||(r0[n]=new lh),r0[n]}class fh{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&uo(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class F3{constructor(n,e,i,a,u,g,C){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.transportSessionId=g,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xc(n),this.stats_=m8(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Xu(e,O3,w))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new fh(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,T.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new s0((...u)=>{const[g,C,w,S,k]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=C,this.password=w;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[g,C]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(g,C)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&t0.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){F3.forceAllow_=!0}static forceDisallow(){F3.forceDisallow_=!0}static isAvailable(){return!((0,T.Yr)()||!F3.forceAllow_&&(F3.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,T.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,T.h$)(e),a=qu(i,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,T.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,T.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class s0{constructor(n,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,T.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Q6(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=s0.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(C){C1("frame writing exception"),C.stack&&C1(C.stack),C1(C)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||C1("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const g=this.pendingSegs.shift();i=i+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(a),i()})}addTag(n,e){(0,T.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{C1("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let go=null;typeof MozWebSocket<"u"?go=MozWebSocket:typeof WebSocket<"u"&&(go=WebSocket);let mo=(()=>{class t{constructor(e,i,a,u,g,C,w){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xc(this.connId),this.stats_=m8(i),this.connURL=t.connectionURL_(i,C,w,u,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,u,g){const C={v:"5"};return!(0,T.Yr)()&&typeof location<"u"&&location.hostname&&t0.test(location.hostname)&&(C.r="f"),i&&(C.s=i),a&&(C.ls=a),u&&(C.ac=u),g&&(C.p=g),Xu(e,sa,C)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ei.set("previous_websocket_failure",!0);try{let a;if((0,T.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Xr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,C=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;C&&(a.proxy={origin:C})}this.mySock=new go(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==go&&!t.forceDisallow_}static previouslyFailed(){return ei.isInMemoryStorage||!0===ei.get("previous_websocket_failure")}markConnectionHealthy(){ei.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,T.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,T.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,T.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=qu(i,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),o0=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[F3,mo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=mo&&mo.isAvailable();let a=i&&!mo.previouslyFailed();if(e.webSocketOnly&&(i||R1("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[mo];else{const u=this.transports_=[];for(const g of t.ALL_TRANSPORTS)g&&g.isAvailable()&&u.push(g);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class M8{constructor(n,e,i,a,u,g,C,w,S,k){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=g,this.onReady_=C,this.onDisconnect_=w,this.onKill_=S,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xc("c:"+this.id+":"),this.transportManager_=new o0(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=n.healthyTimeout||0;a>0&&(this.healthyTimeout_=fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=ea("t",n),i=ea("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=ea("t",n),i=ea("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=ea("t",n);if("d"in n){const i=n.d;if("h"===e){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?X6("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):X6("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,a=n.h;this.sessionId=n.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&R1("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Hh{put(n,e,i,a){}merge(n,e,i,a){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class b8{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,T.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const a=this.getInitialEvent(n);a&&e.apply(i,a)}off(n,e,i){this.validateEventType_(n);const a=this.listeners_[n]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!i||i===a[u].context))return void a.splice(u,1)}validateEventType_(n){(0,T.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class w8 extends b8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,T.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new w8}getInitialEvent(n){return(0,T.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Yt{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function qt(){return new Yt("")}function Dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function M1(t){return t.pieces_.length-t.pieceNum_}function l2(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new Yt(t.pieces_,n)}function c0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function la(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function f7(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new Yt(n,0)}function b2(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof Yt)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new Yt(e,0)}function At(t){return t.pieceNum_>=t.pieces_.length}function X1(t,n){const e=Dt(t),i=Dt(n);if(null===e)return n;if(e===i)return X1(l2(t),l2(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function zh(t,n){const e=la(t,0),i=la(n,0);for(let a=0;a<e.length&&a<i.length;a++){const u=Ri(e[a],i[a]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function V8(t,n){if(M1(t)!==M1(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function ht(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(M1(t)>M1(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class d7{constructor(n,e){this.errorPrefix_=e,this.parts_=la(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,T.ug)(this.parts_[i]);g7(this)}}function g7(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+n4(t))}function n4(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class a0 extends b8{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new a0}getInitialEvent(n){return(0,T.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const ua=1e3;let Co,Sn=(()=>{class t extends Hh{constructor(e,i,a,u,g,C,w,S){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=g,this.authTokenProvider_=C,this.appCheckTokenProvider_=w,this.authOverride_=S,this.id=t.nextPersistentConnectionId_++,this.log_=Xc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ua,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,T.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");a0.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&w8.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const u=++this.requestNumber_,g={r:u,a:e,b:i};this.log_((0,T.Wl)(g)),(0,T.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const i=new T.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:C=>{const w=C.d;"ok"===C.s?i.resolve(w):i.reject(w)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,a,u){this.initConnection_();const g=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+g),this.listens.has(C)||this.listens.set(C,new Map),(0,T.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,T.hu)(!this.listens.get(C).has(g),"listen() called twice for same path/queryId.");const w={onComplete:u,hashFn:i,query:e,tag:a};this.listens.get(C).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+a+" for "+u);const g={p:a};e.tag&&(g.q=i._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,w=>{const S=w.d,k=w.s;t.warnOnListenWarnings_(S,i),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",w),"ok"!==k&&this.removeListen_(a,u),e.onComplete&&e.onComplete(k,S))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,T.r3)(e,"w")){const a=(0,T.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',g=i._path.toString();R1(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,T.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,T.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,u=>{const g=u.s,C=u.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,T.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,i)}sendUnlisten_(e,i,a,u){this.log_("Unlisten on "+e+" for "+i);const g={p:e};u&&(g.q=a,g.t=u),this.sendRequest("n",g)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,u){const g={p:i,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,C=>{u&&setTimeout(()=>{u(C.s,C.d)},Math.floor(0))})}put(e,i,a,u){this.putInternal("p",e,i,a,u)}merge(e,i,a,u){this.putInternal("m",e,i,a,u)}putInternal(e,i,a,u,g){this.initConnection_();const C={p:i,d:a};void 0!==g&&(C.h=g),this.outstandingPuts_.push({action:e,request:C,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,g=>{this.log_(i+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(g.s,g.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,T.Wl)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):X6("Unrecognized action received from server: "+(0,T.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,T.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,br.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+t.nextConnectionId_++,C=e.lastSessionId;let w=!1,S=null;const k=function(){S?S.close():(w=!0,u())};e.realtime_={close:k,sendRequest:function(re){(0,T.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(re)}};const Z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[re,we]=yield Promise.all([e.authTokenProvider_.getToken(Z),e.appCheckTokenProvider_.getToken(Z)]);w?C1("getToken() completed but was canceled"):(C1("getToken() completed. Creating connection."),e.authToken_=re&&re.accessToken,e.appCheckToken_=we&&we.token,S=new M8(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,u,Pe=>{R1(Pe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(re){e.log_("Failed to get token: "+re),w||(e.repoInfo_.nodeAdmin&&R1(re),k())}}})()}interrupt(e){C1("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){C1("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,T.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(g=>l8(g)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const a=new Yt(e).toString();let u;if(this.listens.has(a)){const g=this.listens.get(a);u=g.get(i),g.delete(i),0===g.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,i){C1("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){C1("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,T.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Xr.replace(/\./g,"-")]=1,(0,T.uI)()?e["framework.cordova"]=1:(0,T.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=w8.getInstance().currentlyOnline();return(0,T.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Nt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Nt(n,e)}}class _o{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new Nt(P3,n),a=new Nt(P3,e);return 0!==this.compare(i,a)}minPost(){return Nt.MIN}}class C7 extends _o{static get __EMPTY_NODE(){return Co}static set __EMPTY_NODE(n){Co=n}compare(n,e){return Ri(n.name,e.name)}isDefinedOn(n){throw(0,T.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(Oi,Co)}makePost(n,e){return(0,T.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Nt(n,Co)}toString(){return".key"}}const Fi=new C7;class x8{constructor(n,e,i,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let g=1;for(;!n.isEmpty();)if(g=e?i(n.key,e):1,a&&(g*=-1),g<0)n=this.isReverse_?n.left:n.right;else{if(0===g){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let U3,ni=(()=>{class t{constructor(e,i,a,u,g){this.key=e,this.value=i,this.color=a??t.RED,this.left=u??en.EMPTY_NODE,this.right=g??en.EMPTY_NODE}copy(e,i,a,u,g){return new t(e??this.key,i??this.value,a??this.color,u??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const g=a(e,u.key);return u=g<0?u.copy(null,null,null,u.left.insert(e,i,a),null):0===g?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,u;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return en.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class en{constructor(n,e=en.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new en(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,ni.BLACK,null,null))}remove(n){return new en(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ni.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new x8(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new x8(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new x8(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new x8(this.root_,null,this.comparator_,!0,n)}}function Ev(t,n){return Ri(t.name,n.name)}function S8(t,n){return Ri(t,n)}en.EMPTY_NODE=new class Sh{copy(n,e,i,a,u){return this}insert(n,e,i){return new ni(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const L8=function(t){return"number"==typeof t?"number:"+Wu(t):"string:"+t},fa=function(t){if(t.isLeafNode()){const n=t.val();(0,T.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,T.r3)(n,".sv"),"Priority must be a string or number.")}else(0,T.hu)(t===U3||t.isEmpty(),"priority of unexpected type.");(0,T.hu)(t===U3||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let y7,M7,b7,r4=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,T.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),fa(this.priorityNode_)}static set __childrenNodeConstructor(e){y7=e}static get __childrenNodeConstructor(){return y7}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return At(e)?this:".priority"===Dt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Dt(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,T.hu)(".priority"!==a||1===M1(e),".priority must be the last token in a path"),this.updateImmediateChild(a,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(l2(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+L8(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Wu(this.value_):this.value_,this.lazyHash_=ah(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,T.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,u=t.VALUE_TYPE_ORDER.indexOf(i),g=t.VALUE_TYPE_ORDER.indexOf(a);return(0,T.hu)(u>=0,"Unknown leaf type: "+i),(0,T.hu)(g>=0,"Unknown leaf type: "+a),u===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const u2=new class Dh extends _o{compare(n,e){const i=n.node.getPriority(),a=e.node.getPriority(),u=i.compareTo(a);return 0===u?Ri(n.name,e.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(Oi,new r4("[PRIORITY-POST]",b7))}makePost(n,e){const i=M7(n);return new Nt(e,new r4("[PRIORITY-POST]",i))}toString(){return".priority"}},Ih=Math.log(2);class w7{constructor(n){this.count=parseInt(Math.log(n+1)/Ih,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&a}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const da=function(t,n,e,i){t.sort(n);const a=function(w,S){const k=S-w;let N,Z;if(0===k)return null;if(1===k)return N=t[w],Z=e?e(N):N,new ni(Z,N.node,ni.BLACK,null,null);{const re=parseInt(k/2,10)+w,we=a(w,re),Pe=a(re+1,S);return N=t[re],Z=e?e(N):N,new ni(Z,N.node,ni.BLACK,we,Pe)}},C=function(w){let S=null,k=null,N=t.length;const Z=function(we,Pe){const wt=N-we,Tt=N;N-=we;const Xt=a(wt+1,Tt),E1=t[wt],H2=e?e(E1):E1;re(new ni(H2,E1.node,Pe,null,Xt))},re=function(we){S?(S.left=we,S=we):(k=we,S=we)};for(let we=0;we<w.count;++we){const Pe=w.nextBitIsOne(),wt=Math.pow(2,w.count-(we+1));Pe?Z(wt,ni.BLACK):(Z(wt,ni.BLACK),Z(wt,ni.RED))}return k}(new w7(t.length));return new en(i||n,C)};let ha;const pa={};class xr{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,T.hu)(pa&&u2,"ChildrenNode.ts has not been loaded"),ha=ha||new xr({".priority":pa},{".priority":u2}),ha}get(n){const e=(0,T.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof en?e:null}hasIndex(n){return(0,T.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,T.hu)(n!==Fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const u=e.getIterator(Nt.Wrap);let C,g=u.getNext();for(;g;)a=a||n.isDefinedOn(g.node),i.push(g),g=u.getNext();C=a?da(i,n.getCompare()):pa;const w=n.toString(),S=Object.assign({},this.indexSet_);S[w]=n;const k=Object.assign({},this.indexes_);return k[w]=C,new xr(k,S)}addToIndexes(n,e){const i=(0,T.UI)(this.indexes_,(a,u)=>{const g=(0,T.DV)(this.indexSet_,u);if((0,T.hu)(g,"Missing index implementation for "+u),a===pa){if(g.isDefinedOn(n.node)){const C=[],w=e.getIterator(Nt.Wrap);let S=w.getNext();for(;S;)S.name!==n.name&&C.push(S),S=w.getNext();return C.push(n),da(C,g.getCompare())}return pa}{const C=e.get(n.name);let w=a;return C&&(w=w.remove(new Nt(n.name,C))),w.insert(n,n.node)}});return new xr(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,T.UI)(this.indexes_,a=>{if(a===pa)return a;{const u=e.get(n.name);return u?a.remove(new Nt(n.name,u)):a}});return new xr(i,this.indexSet_)}}let ga,xt=(()=>{class t{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&fa(this.priorityNode_),this.children_.isEmpty()&&(0,T.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ga||(ga=new t(new en(S8),null,xr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ga}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ga:i}}getChild(e){const i=Dt(e);return null===i?this:this.getImmediateChild(i).getChild(l2(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,T.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new Nt(e,i);let u,g;i.isEmpty()?(u=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,i),g=this.indexMap_.addToIndexes(a,this.children_));const C=u.isEmpty()?ga:this.priorityNode_;return new t(u,C,g)}}updateChild(e,i){const a=Dt(e);if(null===a)return i;{(0,T.hu)(".priority"!==Dt(e)||1===M1(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(l2(e),i);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,u=0,g=!0;if(this.forEachChild(u2,(C,w)=>{i[C]=w.val(e),a++,g&&t.INTEGER_REGEXP_.test(C)?u=Math.max(u,Number(C)):g=!1}),!e&&g&&u<2*a){const C=[];for(const w in i)C[w]=i[w];return C}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+L8(this.getPriority().val())+":"),this.forEachChild(u2,(i,a)=>{const u=a.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":ah(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const u=this.resolveIndex_(a);if(u){const g=u.getPredecessorKey(new Nt(e,i));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Nt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Nt(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Nt.Wrap);let g=u.peek();for(;null!=g&&i.compare(g,e)<0;)u.getNext(),g=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Nt.Wrap);let g=u.peek();for(;null!=g&&i.compare(g,e)>0;)u.getNext(),g=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mo?-1:0}withIndex(e){if(e===Fi||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Fi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(u2),u=i.getIterator(u2);let g=a.getNext(),C=u.getNext();for(;g&&C;){if(g.name!==C.name||!g.node.equals(C.node))return!1;g=a.getNext(),C=u.getNext()}return null===g&&null===C}return!1}return!1}}resolveIndex_(e){return e===Fi?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Mo=new class yo extends xt{constructor(){super(new en(S8),xt.EMPTY_NODE,xr.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return xt.EMPTY_NODE}isEmpty(){return!1}};function p2(t,n=null){if(null===t)return xt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,T.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new r4(t,p2(n));if(t instanceof Array){let e=xt.EMPTY_NODE;return y1(t,(i,a)=>{if((0,T.r3)(t,i)&&"."!==i.substring(0,1)){const u=p2(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(p2(n))}{const e=[];let i=!1;if(y1(t,(g,C)=>{if("."!==g.substring(0,1)){const w=p2(C);w.isEmpty()||(i=i||!w.getPriority().isEmpty(),e.push(new Nt(g,w)))}}),0===e.length)return xt.EMPTY_NODE;const u=da(e,Ev,g=>g.name,S8);if(i){const g=da(e,u2.getCompare());return new xt(u,p2(n),new xr({".priority":g},{".priority":u2}))}return new xt(u,p2(n),xr.Default)}}Object.defineProperties(Nt,{MIN:{value:new Nt(P3,xt.EMPTY_NODE)},MAX:{value:new Nt(Oi,Mo)}}),C7.__EMPTY_NODE=xt.EMPTY_NODE,r4.__childrenNodeConstructor=xt,function Lh(t){U3=t}(Mo),function Ah(t){b7=t}(Mo),function Eh(t){M7=t}(p2);class Ln extends _o{constructor(n){super(),this.indexPath_=n,(0,T.hu)(!At(n)&&".priority"!==Dt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),a=this.extractChild(e.node),u=i.compareTo(a);return 0===u?Ri(n.name,e.name):u}makePost(n,e){const i=p2(n),a=xt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Nt(e,a)}maxPost(){const n=xt.EMPTY_NODE.updateChild(this.indexPath_,Mo);return new Nt(Oi,n)}toString(){return la(this.indexPath_,0).join("/")}}const E8=new class V7 extends _o{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?Ri(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(n,e){const i=p2(n);return new Nt(e,i)}toString(){return".value"}};function l0(t){return{type:"value",snapshotNode:t}}function pn(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function i4(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function bo(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class z7{constructor(n){this.index_=n}updateChild(n,e,i,a,u,g){(0,T.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=n.getImmediateChild(e);return C.getChild(a).equals(i.getChild(a))&&C.isEmpty()===i.isEmpty()||(null!=g&&(i.isEmpty()?n.hasChild(e)?g.trackChildChange(i4(e,C)):(0,T.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?g.trackChildChange(pn(e,i)):g.trackChildChange(bo(e,i,C))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(u2,(a,u)=>{e.hasChild(a)||i.trackChildChange(i4(a,u))}),e.isLeafNode()||e.forEachChild(u2,(a,u)=>{if(n.hasChild(a)){const g=n.getImmediateChild(a);g.equals(u)||i.trackChildChange(bo(a,u,g))}else i.trackChildChange(pn(a,u))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?xt.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wo{constructor(n){this.indexedFilter_=new z7(n.getIndex()),this.index_=n.getIndex(),this.startPost_=wo.getStartPost_(n),this.endPost_=wo.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,a,u,g){return this.matches(new Nt(e,i))||(i=xt.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,a,u,g)}updateFullNode(n,e,i){e.isLeafNode()&&(e=xt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(xt.EMPTY_NODE);const u=this;return e.forEachChild(u2,(g,C)=>{u.matches(new Nt(g,C))||(a=a.updateImmediateChild(g,xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class Av{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new wo(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,a,u,g){return this.rangedFilter_.matches(new Nt(e,i))||(i=xt.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,a,u,g):this.fullLimitUpdateChild_(n,e,i,u,g)}updateFullNode(n,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=xt.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;u.hasNext()&&g<this.limit_;){const C=u.getNext();if(this.withinDirectionalStart(C)){if(!this.withinDirectionalEnd(C))break;a=a.updateImmediateChild(C.name,C.node),g++}}}else{let u;a=e.withIndex(this.index_),a=a.updatePriority(xt.EMPTY_NODE),u=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let g=0;for(;u.hasNext();){const C=u.getNext();g<this.limit_&&this.withinDirectionalStart(C)&&this.withinDirectionalEnd(C)?g++:a=a.updateImmediateChild(C.name,xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,a,u){let g;if(this.reverse_){const N=this.index_.getCompare();g=(Z,re)=>N(re,Z)}else g=this.index_.getCompare();const C=n;(0,T.hu)(C.numChildren()===this.limit_,"");const w=new Nt(e,i),S=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),k=this.rangedFilter_.matches(w);if(C.hasChild(e)){const N=C.getImmediateChild(e);let Z=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=Z&&(Z.name===e||C.hasChild(Z.name));)Z=a.getChildAfterChild(this.index_,Z,this.reverse_);const re=null==Z?1:g(Z,w);if(k&&!i.isEmpty()&&re>=0)return u?.trackChildChange(bo(e,i,N)),C.updateImmediateChild(e,i);{u?.trackChildChange(i4(e,N));const Pe=C.updateImmediateChild(e,xt.EMPTY_NODE);return null!=Z&&this.rangedFilter_.matches(Z)?(u?.trackChildChange(pn(Z.name,Z.node)),Pe.updateImmediateChild(Z.name,Z.node)):Pe}}return i.isEmpty()?n:k&&g(S,w)>=0?(null!=u&&(u.trackChildChange(i4(S.name,S.node)),u.trackChildChange(pn(e,i))),C.updateImmediateChild(e,i).updateImmediateChild(S.name,xt.EMPTY_NODE)):n}}class s4{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=u2}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,T.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,T.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P3}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,T.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,T.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,T.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===u2}copy(){const n=new s4;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function ma(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function T8(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function f0(t,n){const e=t.copy();return e.index_=n,e}function x7(t){const n={};if(t.isDefault())return n;let e;if(t.index_===u2?e="$priority":t.index_===E8?e="$value":t.index_===Fi?e="$key":((0,T.hu)(t.index_ instanceof Ln,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,T.Wl)(e),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";n[i]=(0,T.Wl)(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+(0,T.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";n[i]=(0,T.Wl)(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+(0,T.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function N8(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==u2&&(n.i=t.index_.toString()),n}class P8 extends Hh{constructor(n,e,i,a){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Xc("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,T.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,a){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const g=P8.getListenId_(n,i),C={};this.listens_[g]=C;const w=x7(n._queryParams);this.restRequest_(u+".json",w,(S,k)=>{let N=k;if(404===S&&(N=null,S=null),null===S&&this.onDataUpdate_(u,N,!1,i),(0,T.DV)(this.listens_,g)===C){let Z;Z=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(Z,null)}})}unlisten(n,e){const i=P8.getListenId_(n,e);delete this.listens_[i]}get(n){const e=x7(n._queryParams),i=n._path.toString(),a=new T.BH;return this.restRequest_(i+".json",e,(u,g)=>{let C=g;404===u&&(C=null,u=null),null===u?(this.onDataUpdate_(i,C,!1,null),a.resolve(C)):a.reject(new Error(C))}),a.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,T.xO)(e);this.log_("Sending REST request for "+g);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(i&&4===C.readyState){this.log_("REST Response for "+g+" received. status:",C.status,"response:",C.responseText);let w=null;if(C.status>=200&&C.status<300){try{w=(0,T.cI)(C.responseText)}catch{R1("Failed to parse JSON response for "+g+": "+C.responseText)}i(null,w)}else 401!==C.status&&404!==C.status&&R1("Got unsuccessful REST response for "+g+" Status: "+C.status),i(C.status);i=null}},C.open("GET",g,!0),C.send()})}}class Nh{constructor(){this.rootNode_=xt.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function k8(){return{value:null,children:new Map}}function o4(t,n,e){if(At(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Dt(n);t.children.has(i)||t.children.set(i,k8()),o4(t.children.get(i),n=l2(n),e)}}function d0(t,n){if(At(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(u2,(i,a)=>{o4(t,new Yt(i),a)}),d0(t,n)}}if(t.children.size>0){const e=Dt(n);return n=l2(n),t.children.has(e)&&d0(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function O8(t,n,e){null!==t.value?e(n,t.value):function R8(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,a)=>{O8(a,new Yt(n.toString()+"/"+i),e)})}class Iv{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&y1(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=n,e}}class Pv{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Iv(n);const i=1e4+2e4*Math.random();fo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;y1(n,(a,u)=>{u>0&&(0,T.r3)(this.statsToReport_,a)&&(e[a]=u,i=!0)}),i&&this.server_.reportStats(e),fo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Sr=(()=>{return(t=Sr||(Sr={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Sr;var t})();function E7(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class F8{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=Sr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(At(this.path)){if(null!=this.affectedTree.value)return(0,T.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yt(n));return new F8(qt(),e,this.revert)}}return(0,T.hu)(Dt(this.path)===n,"operationForChild called for unrelated child."),new F8(l2(this.path),this.affectedTree,this.revert)}}class Jn{constructor(n,e){this.source=n,this.path=e,this.type=Sr.LISTEN_COMPLETE}operationForChild(n){return At(this.path)?new Jn(this.source,qt()):new Jn(this.source,l2(this.path))}}class Ui{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=Sr.OVERWRITE}operationForChild(n){return At(this.path)?new Ui(this.source,qt(),this.snap.getImmediateChild(n)):new Ui(this.source,l2(this.path),this.snap)}}class Ho{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=Sr.MERGE}operationForChild(n){if(At(this.path)){const e=this.children.subtree(new Yt(n));return e.isEmpty()?null:e.value?new Ui(this.source,qt(),e.value):new Ho(this.source,qt(),e)}return(0,T.hu)(Dt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ho(this.source,l2(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bi{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(At(n))return this.isFullyInitialized()&&!this.filtered_;const e=Dt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class U8{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function c4(t,n,e,i,a,u){const g=i.filter(C=>C.type===e);g.sort((C,w)=>function B3(t,n,e){if(null==n.childName||null==e.childName)throw(0,T.g5)("Should only compare child_ events.");const i=new Nt(n.childName,n.snapshotNode),a=new Nt(e.childName,e.snapshotNode);return t.index_.compare(i,a)}(t,C,w)),g.forEach(C=>{const w=function kh(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,C,u);a.forEach(S=>{S.respondsTo(C.type)&&n.push(S.createEvent(w,t.query_))})})}function va(t,n){return{eventCache:t,serverCache:n}}function _a(t,n,e,i){return va(new Bi(n,e,i),t.serverCache)}function D7(t,n,e,i){return va(t.eventCache,new Bi(n,e,i))}function Ca(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function a4(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let B8;class Qt{constructor(n,e=(()=>(B8||(B8=new en(Gu)),B8))()){this.value=n,this.children=e}static fromObject(n){let e=new Qt(null);return y1(n,(i,a)=>{e=e.set(new Yt(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:qt(),value:this.value};if(At(n))return null;{const i=Dt(n),a=this.children.get(i);if(null!==a){const u=a.findRootMostMatchingPathAndValue(l2(n),e);return null!=u?{path:b2(new Yt(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(At(n))return this;{const e=Dt(n),i=this.children.get(e);return null!==i?i.subtree(l2(n)):new Qt(null)}}set(n,e){if(At(n))return new Qt(e,this.children);{const i=Dt(n),u=(this.children.get(i)||new Qt(null)).set(l2(n),e),g=this.children.insert(i,u);return new Qt(this.value,g)}}remove(n){if(At(n))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const e=Dt(n),i=this.children.get(e);if(i){const a=i.remove(l2(n));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new Qt(null):new Qt(this.value,u)}return this}}get(n){if(At(n))return this.value;{const e=Dt(n),i=this.children.get(e);return i?i.get(l2(n)):null}}setTree(n,e){if(At(n))return e;{const i=Dt(n),u=(this.children.get(i)||new Qt(null)).setTree(l2(n),e);let g;return g=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Qt(this.value,g)}}fold(n){return this.fold_(qt(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((a,u)=>{i[a]=u.fold_(b2(n,a),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,qt(),e)}findOnPath_(n,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(At(n))return null;{const u=Dt(n),g=this.children.get(u);return g?g.findOnPath_(l2(n),b2(e,u),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,qt(),e)}foreachOnPath_(n,e,i){if(At(n))return this;{this.value&&i(e,this.value);const a=Dt(n),u=this.children.get(a);return u?u.foreachOnPath_(l2(n),b2(e,a),i):new Qt(null)}}foreach(n){this.foreach_(qt(),n)}foreach_(n,e){this.children.inorderTraversal((i,a)=>{a.foreach_(b2(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class En{constructor(n){this.writeTree_=n}static empty(){return new En(new Qt(null))}}function ri(t,n,e){if(At(n))return new En(new Qt(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const a=i.path;let u=i.value;const g=X1(a,n);return u=u.updateChild(g,e),new En(t.writeTree_.set(a,u))}{const a=new Qt(e),u=t.writeTree_.setTree(n,a);return new En(u)}}}function ya(t,n,e){let i=t;return y1(e,(a,u)=>{i=ri(i,b2(n,a),u)}),i}function Ma(t,n){if(At(n))return En.empty();{const e=t.writeTree_.setTree(n,new Qt(null));return new En(e)}}function p0(t,n){return null!=j3(t,n)}function j3(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(X1(e.path,n)):null}function g0(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(u2,(i,a)=>{n.push(new Nt(i,a))}):t.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&n.push(new Nt(i,a.value))}),n}function ii(t,n){if(At(n))return t;{const e=j3(t,n);return new En(null!=e?new Qt(e):t.writeTree_.subtree(n))}}function m0(t){return t.writeTree_.isEmpty()}function $3(t,n){return I7(qt(),t.writeTree_,n)}function I7(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((a,u)=>{".priority"===a?((0,T.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=I7(b2(t,a),u,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(b2(t,".priority"),i)),e}}function j8(t,n){return Z8(n,t)}function P7(t,n){if(t.snap)return ht(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&ht(b2(t.path,e),n))return!0;return!1}function An(t){return t.visible}function $8(t,n,e){let i=En.empty();for(let a=0;a<t.length;++a){const u=t[a];if(n(u)){const g=u.path;let C;if(u.snap)ht(e,g)?(C=X1(e,g),i=ri(i,C,u.snap)):ht(g,e)&&(C=X1(g,e),i=ri(i,qt(),u.snap.getChild(C)));else{if(!u.children)throw(0,T.g5)("WriteRecord should have .snap or .children");if(ht(e,g))C=X1(e,g),i=ya(i,C,u.children);else if(ht(g,e))if(C=X1(g,e),At(C))i=ya(i,qt(),u.children);else{const w=(0,T.DV)(u.children,Dt(C));if(w){const S=w.getChild(l2(C));i=ri(i,qt(),S)}}}}}return i}function k7(t,n,e,i,a){if(i||a){const u=ii(t.visibleWrites,n);return!a&&m0(u)?e:a||null!=e||p0(u,qt())?$3($8(t.allWrites,function(S){return(S.visible||a)&&(!i||!~i.indexOf(S.writeId))&&(ht(S.path,n)||ht(n,S.path))},n),e||xt.EMPTY_NODE):null}{const u=j3(t.visibleWrites,n);if(null!=u)return u;{const g=ii(t.visibleWrites,n);return m0(g)?e:null!=e||p0(g,qt())?$3(g,e||xt.EMPTY_NODE):null}}}function v0(t,n,e,i){return k7(t.writeTree,t.treePath,n,e,i)}function _0(t,n){return function kv(t,n,e){let i=xt.EMPTY_NODE;const a=j3(t.visibleWrites,n);if(a)return a.isLeafNode()||a.forEachChild(u2,(u,g)=>{i=i.updateImmediateChild(u,g)}),i;if(e){const u=ii(t.visibleWrites,n);return e.forEachChild(u2,(g,C)=>{const w=$3(ii(u,new Yt(g)),C);i=i.updateImmediateChild(g,w)}),g0(u).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}return g0(ii(t.visibleWrites,n)).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}(t.writeTree,t.treePath,n)}function R7(t,n,e,i){return function Uh(t,n,e,i,a){(0,T.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const u=b2(n,e);if(p0(t.visibleWrites,u))return null;{const g=ii(t.visibleWrites,u);return m0(g)?a.getChild(e):$3(g,a.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function ba(t,n){return function O7(t,n){return j3(t.visibleWrites,n)}(t.writeTree,b2(t.treePath,n))}function q8(t,n,e){return function G8(t,n,e,i){const a=b2(n,e),u=j3(t.visibleWrites,a);return null!=u?u:i.isCompleteForChild(e)?$3(ii(t.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function W8(t,n){return Z8(b2(t.treePath,n),t.writeTree)}function Z8(t,n){return{treePath:t,writeTree:n}}class Gh{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,T.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,T.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,bo(i,n.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,i4(i,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,pn(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,T.g5)("Illegal combination of changes: "+n+" occurred after "+a);this.changeMap.set(i,bo(i,n.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const C0=new class si{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class K8{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new Bi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q8(this.writes_,n,i)}}getChildAfterChild(n,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:a4(this.viewCache_),u=function $h(t,n,e,i,a,u){return function Bh(t,n,e,i,a,u,g){let C;const w=ii(t.visibleWrites,n),S=j3(w,qt());if(null!=S)C=S;else{if(null==e)return[];C=$3(w,e)}if(C=C.withIndex(g),C.isEmpty()||C.isLeafNode())return[];{const k=[],N=g.getCompare(),Z=u?C.getReverseIteratorFrom(i,g):C.getIteratorFrom(i,g);let re=Z.getNext();for(;re&&k.length<a;)0!==N(re,i)&&k.push(re),re=Z.getNext();return k}}(t.writeTree,t.treePath,n,e,i,a,u)}(this.writes_,a,e,1,i,n);return 0===u.length?null:u[0]}}function U7(t,n,e,i,a,u){const g=n.eventCache;if(null!=ba(i,e))return n;{let C,w;if(At(e))if((0,T.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const S=a4(n),N=_0(i,S instanceof xt?S:xt.EMPTY_NODE);C=t.filter.updateFullNode(n.eventCache.getNode(),N,u)}else{const S=v0(i,a4(n));C=t.filter.updateFullNode(n.eventCache.getNode(),S,u)}else{const S=Dt(e);if(".priority"===S){(0,T.hu)(1===M1(e),"Can't have a priority with additional path components");const k=g.getNode();w=n.serverCache.getNode();const N=R7(i,e,k,w);C=null!=N?t.filter.updatePriority(k,N):g.getNode()}else{const k=l2(e);let N;if(g.isCompleteForChild(S)){w=n.serverCache.getNode();const Z=R7(i,e,g.getNode(),w);N=null!=Z?g.getNode().getImmediateChild(S).updateChild(k,Z):g.getNode().getImmediateChild(S)}else N=q8(i,S,n.serverCache);C=null!=N?t.filter.updateChild(g.getNode(),S,N,k,a,u):g.getNode()}}return _a(n,C,g.isFullyInitialized()||At(e),t.filter.filtersNodes())}}function y0(t,n,e,i,a,u,g,C){const w=n.serverCache;let S;const k=g?t.filter:t.filter.getIndexedFilter();if(At(e))S=k.updateFullNode(w.getNode(),i,null);else if(k.filtersNodes()&&!w.isFiltered()){const re=w.getNode().updateChild(e,i);S=k.updateFullNode(w.getNode(),re,null)}else{const re=Dt(e);if(!w.isCompleteForPath(e)&&M1(e)>1)return n;const we=l2(e),wt=w.getNode().getImmediateChild(re).updateChild(we,i);S=".priority"===re?k.updatePriority(w.getNode(),wt):k.updateChild(w.getNode(),re,wt,we,C0,null)}const N=D7(n,S,w.isFullyInitialized()||At(e),k.filtersNodes());return U7(t,N,e,a,new K8(a,N,u),C)}function wa(t,n,e,i,a,u,g){const C=n.eventCache;let w,S;const k=new K8(a,n,u);if(At(e))S=t.filter.updateFullNode(n.eventCache.getNode(),i,g),w=_a(n,S,!0,t.filter.filtersNodes());else{const N=Dt(e);if(".priority"===N)S=t.filter.updatePriority(n.eventCache.getNode(),i),w=_a(n,S,C.isFullyInitialized(),C.isFiltered());else{const Z=l2(e),re=C.getNode().getImmediateChild(N);let we;if(At(Z))we=i;else{const Pe=k.getCompleteChild(N);we=null!=Pe?".priority"===c0(Z)&&Pe.getChild(f7(Z)).isEmpty()?Pe:Pe.updateChild(Z,i):xt.EMPTY_NODE}w=re.equals(we)?n:_a(n,t.filter.updateChild(C.getNode(),N,we,Z,k,g),C.isFullyInitialized(),t.filter.filtersNodes())}}return w}function B7(t,n){return t.eventCache.isCompleteForChild(n)}function Ha(t,n,e){return e.foreach((i,a)=>{n=n.updateChild(i,a)}),n}function Va(t,n,e,i,a,u,g,C){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let S,w=n;S=At(e)?i:new Qt(null).setTree(e,i);const k=n.serverCache.getNode();return S.children.inorderTraversal((N,Z)=>{if(k.hasChild(N)){const we=Ha(0,n.serverCache.getNode().getImmediateChild(N),Z);w=y0(t,w,new Yt(N),we,a,u,g,C)}}),S.children.inorderTraversal((N,Z)=>{const re=!n.serverCache.isCompleteForChild(N)&&null===Z.value;if(!k.hasChild(N)&&!re){const Pe=Ha(0,n.serverCache.getNode().getImmediateChild(N),Z);w=y0(t,w,new Yt(N),Pe,a,u,g,C)}}),w}class Fv{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new z7(i.getIndex()),u=function u0(t){return t.loadsAllData()?new z7(t.getIndex()):t.hasLimit()?new Av(t):new wo(t)}(i);this.processor_=function qh(t){return{filter:t}}(u);const g=e.serverCache,C=e.eventCache,w=a.updateFullNode(xt.EMPTY_NODE,g.getNode(),null),S=u.updateFullNode(xt.EMPTY_NODE,C.getNode(),null),k=new Bi(w,g.isFullyInitialized(),a.filtersNodes()),N=new Bi(S,C.isFullyInitialized(),u.filtersNodes());this.viewCache_=va(N,k),this.eventGenerator_=new U8(this.query_)}get query(){return this.query_}}function G7(t,n){const e=a4(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!At(n)&&!e.getImmediateChild(Dt(n)).isEmpty())?e.getChild(n):null}function Q8(t){return 0===t.eventRegistrations_.length}function oi(t,n,e){const i=[];if(e){(0,T.hu)(null==n,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(u=>{const g=u.createCancelEvent(e,a);g&&i.push(g)})}if(n){let a=[];for(let u=0;u<t.eventRegistrations_.length;++u){const g=t.eventRegistrations_[u];if(g.matches(n)){if(n.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(u+1));break}}else a.push(g)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function za(t,n,e,i){n.type===Sr.MERGE&&null!==n.source.queryId&&((0,T.hu)(a4(t.viewCache_),"We should always have a full cache before handling merges"),(0,T.hu)(Ca(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,u=function F7(t,n,e,i,a){const u=new Gh;let g,C;if(e.type===Sr.OVERWRITE){const S=e;S.source.fromUser?g=wa(t,n,S.path,S.snap,i,a,u):((0,T.hu)(S.source.fromServer,"Unknown source."),C=S.source.tagged||n.serverCache.isFiltered()&&!At(S.path),g=y0(t,n,S.path,S.snap,i,a,C,u))}else if(e.type===Sr.MERGE){const S=e;S.source.fromUser?g=function Zh(t,n,e,i,a,u,g){let C=n;return i.foreach((w,S)=>{const k=b2(e,w);B7(n,Dt(k))&&(C=wa(t,C,k,S,a,u,g))}),i.foreach((w,S)=>{const k=b2(e,w);B7(n,Dt(k))||(C=wa(t,C,k,S,a,u,g))}),C}(t,n,S.path,S.children,i,a,u):((0,T.hu)(S.source.fromServer,"Unknown source."),C=S.source.tagged||n.serverCache.isFiltered(),g=Va(t,n,S.path,S.children,i,a,C,u))}else if(e.type===Sr.ACK_USER_WRITE){const S=e;g=S.revert?function Y8(t,n,e,i,a,u){let g;if(null!=ba(i,e))return n;{const C=new K8(i,n,a),w=n.eventCache.getNode();let S;if(At(e)||".priority"===Dt(e)){let k;if(n.serverCache.isFullyInitialized())k=v0(i,a4(n));else{const N=n.serverCache.getNode();(0,T.hu)(N instanceof xt,"serverChildren would be complete if leaf node"),k=_0(i,N)}S=t.filter.updateFullNode(w,k,u)}else{const k=Dt(e);let N=q8(i,k,n.serverCache);null==N&&n.serverCache.isCompleteForChild(k)&&(N=w.getImmediateChild(k)),S=null!=N?t.filter.updateChild(w,k,N,l2(e),C,u):n.eventCache.getNode().hasChild(k)?t.filter.updateChild(w,k,xt.EMPTY_NODE,l2(e),C,u):w,S.isEmpty()&&n.serverCache.isFullyInitialized()&&(g=v0(i,a4(n)),g.isLeafNode()&&(S=t.filter.updateFullNode(S,g,u)))}return g=n.serverCache.isFullyInitialized()||null!=ba(i,qt()),_a(n,S,g,t.filter.filtersNodes())}}(t,n,S.path,i,a,u):function M0(t,n,e,i,a,u,g){if(null!=ba(a,e))return n;const C=n.serverCache.isFiltered(),w=n.serverCache;if(null!=i.value){if(At(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return y0(t,n,e,w.getNode().getChild(e),a,u,C,g);if(At(e)){let S=new Qt(null);return w.getNode().forEachChild(Fi,(k,N)=>{S=S.set(new Yt(k),N)}),Va(t,n,e,S,a,u,C,g)}return n}{let S=new Qt(null);return i.foreach((k,N)=>{const Z=b2(e,k);w.isCompleteForPath(Z)&&(S=S.set(k,w.getNode().getChild(Z)))}),Va(t,n,e,S,a,u,C,g)}}(t,n,S.path,S.affectedTree,i,a,u)}else{if(e.type!==Sr.LISTEN_COMPLETE)throw(0,T.g5)("Unknown operation type: "+e.type);g=function Rv(t,n,e,i,a){const u=n.serverCache;return U7(t,D7(n,u.getNode(),u.isFullyInitialized()||At(e),u.isFiltered()),e,i,C0,a)}(t,n,e.path,i,u)}const w=u.getChanges();return function Wh(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=Ca(t);(e.length>0||!t.eventCache.isFullyInitialized()||a&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push(l0(Ca(n)))}}(n,g,w),{viewCache:g,changes:w}}(t.processor_,a,n,e,i);return function Ov(t,n){(0,T.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,T.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,u.viewCache),(0,T.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Vo(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Vo(t,n,e,i){return function A7(t,n,e,i){const a=[],u=[];return n.forEach(g=>{"child_changed"===g.type&&t.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&u.push(function A8(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(g.childName,g.snapshotNode))}),c4(t,a,"child_removed",n,i,e),c4(t,a,"child_added",n,i,e),c4(t,a,"child_moved",u,i,e),c4(t,a,"child_changed",n,i,e),c4(t,a,"value",n,i,e),a}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let w0,V0;class H0{constructor(){this.views=new Map}}function l4(t,n,e,i){const a=n.source.queryId;if(null!==a){const u=t.views.get(a);return(0,T.hu)(null!=u,"SyncTree gave us an op for an invalid query."),za(u,n,e,i)}{let u=[];for(const g of t.views.values())u=u.concat(za(g,n,e,i));return u}}function W7(t,n,e,i,a){const g=t.views.get(n._queryIdentifier);if(!g){let C=v0(e,a?i:null),w=!1;C?w=!0:i instanceof xt?(C=_0(e,i),w=!1):(C=xt.EMPTY_NODE,w=!1);const S=va(new Bi(C,w,!1),new Bi(i,a,!1));return new Fv(n,S)}return g}function Jh(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function G3(t,n){let e=null;for(const i of t.views.values())e=e||G7(i,n);return e}function Z7(t,n){return n._queryParams.loadsAllData()?zo(t):t.views.get(n._queryIdentifier)}function K7(t,n){return null!=Z7(t,n)}function ji(t){return null!=zo(t)}function zo(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let ep=1;class Y7{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Qt(null),this.pendingWriteTree_=function jh(){return{visibleWrites:En.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function e5(t,n,e,i,a){return function Oh(t,n,e,i,a){(0,T.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:a}),a&&(t.visibleWrites=ri(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,a),a?$2(t,new Ui({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function q3(t,n,e=!1){const i=function Rh(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function N7(t,n){const e=t.allWrites.findIndex(C=>C.writeId===n);(0,T.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let a=i.visible,u=!1,g=t.allWrites.length-1;for(;a&&g>=0;){const C=t.allWrites[g];C.visible&&(g>=e&&P7(C,i.path)?a=!1:ht(i.path,C.path)&&(u=!0)),g--}return!!a&&(u?(function Fh(t){t.visibleWrites=$8(t.allWrites,An,qt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Ma(t.visibleWrites,i.path):y1(i.children,w=>{t.visibleWrites=Ma(t.visibleWrites,b2(i.path,w))}),!0))}(t.pendingWriteTree_,n)){let u=new Qt(null);return null!=i.snap?u=u.set(qt(),!0):y1(i.children,g=>{u=u.set(new Yt(g),!0)}),$2(t,new F8(i.path,u,e))}return[]}function W3(t,n,e){return $2(t,new Ui({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function z0(t,n,e,i,a=!1){const u=n._path,g=t.syncPointTree_.get(u);let C=[];if(g&&("default"===n._queryIdentifier||K7(g,n))){const w=function Qh(t,n,e,i){const a=n._queryIdentifier,u=[];let g=[];const C=ji(t);if("default"===a)for(const[w,S]of t.views.entries())g=g.concat(oi(S,e,i)),Q8(S)&&(t.views.delete(w),S.query._queryParams.loadsAllData()||u.push(S.query));else{const w=t.views.get(a);w&&(g=g.concat(oi(w,e,i)),Q8(w)&&(t.views.delete(a),w.query._queryParams.loadsAllData()||u.push(w.query)))}return C&&!ji(t)&&u.push(new(function Kh(){return(0,T.hu)(w0,"Reference.ts has not been loaded"),w0}())(n._repo,n._path)),{removed:u,events:g}}(g,n,e,i);(function Yh(t){return 0===t.views.size})(g)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const S=w.removed;if(C=w.events,!a){const k=-1!==S.findIndex(Z=>Z._queryParams.loadsAllData()),N=t.syncPointTree_.findOnPath(u,(Z,re)=>ji(re));if(k&&!N){const Z=t.syncPointTree_.subtree(u);if(!Z.isEmpty()){const re=function xo(t){return t.fold((n,e,i)=>{if(e&&ji(e))return[zo(e)];{let a=[];return e&&(a=Jh(e)),y1(i,(u,g)=>{a=a.concat(g)}),a}})}(Z);for(let we=0;we<re.length;++we){const Pe=re[we],wt=Pe.query,Tt=In(t,Pe);t.listenProvider_.startListening(ci(wt),f4(t,wt),Tt.hashFn,Tt.onComplete)}}}!N&&S.length>0&&!i&&(k?t.listenProvider_.stopListening(ci(n),null):S.forEach(Z=>{const re=t.queryToTagMap.get($i(Z));t.listenProvider_.stopListening(ci(Z),re)}))}!function So(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const a=$i(i),u=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(u)}}}(t,S)}return C}function Q7(t,n,e,i){const a=K3(t,i);if(null!=a){const u=Y3(a),g=u.path,C=u.queryId,w=X1(g,n);return Q3(t,g,new Ui(E7(C),w,e))}return[]}function n5(t,n,e,i=!1){const a=n._path;let u=null,g=!1;t.syncPointTree_.foreachOnPath(a,(Z,re)=>{const we=X1(Z,a);u=u||G3(re,we),g=g||ji(re)});let w,C=t.syncPointTree_.get(a);C?(g=g||ji(C),u=u||G3(C,qt())):(C=new H0,t.syncPointTree_=t.syncPointTree_.set(a,C)),null!=u?w=!0:(w=!1,u=xt.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((re,we)=>{const Pe=G3(we,qt());Pe&&(u=u.updateImmediateChild(re,Pe))}));const S=K7(C,n);if(!S&&!n._queryParams.loadsAllData()){const Z=$i(n);(0,T.hu)(!t.queryToTagMap.has(Z),"View does not exist, but we have a tag");const re=function Lo(){return ep++}();t.queryToTagMap.set(Z,re),t.tagToQueryMap.set(re,Z)}let N=function Uv(t,n,e,i,a,u){const g=W7(t,n,i,a,u);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,g),function J8(t,n){t.eventRegistrations_.push(n)}(g,e),function b0(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(u2,(u,g)=>{i.push(pn(u,g))}),e.isFullyInitialized()&&i.push(l0(e.getNode())),Vo(t,i,e.getNode(),n)}(g,e)}(C,n,e,j8(t.pendingWriteTree_,a),u,w);if(!S&&!g&&!i){const Z=Z7(C,n);N=N.concat(function Eo(t,n,e){const i=n._path,a=f4(t,n),u=In(t,e),g=t.listenProvider_.startListening(ci(n),a,u.hashFn,u.onComplete),C=t.syncPointTree_.subtree(i);if(a)(0,T.hu)(!ji(C.value),"If we're adding a query, it shouldn't be shadowed");else{const w=C.fold((S,k,N)=>{if(!At(S)&&k&&ji(k))return[zo(k).query];{let Z=[];return k&&(Z=Z.concat(Jh(k).map(re=>re.query))),y1(N,(re,we)=>{Z=Z.concat(we)}),Z}});for(let S=0;S<w.length;++S){const k=w[S];t.listenProvider_.stopListening(ci(k),f4(t,k))}}return g}(t,n,Z))}return N}function Dn(t,n,e){const a=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(n,(g,C)=>{const S=G3(C,X1(g,n));if(S)return S});return k7(a,n,u,e,!0)}function $2(t,n){return Z3(n,t.syncPointTree_,null,j8(t.pendingWriteTree_,qt()))}function Z3(t,n,e,i){if(At(t.path))return La(t,n,e,i);{const a=n.get(qt());null==e&&null!=a&&(e=G3(a,qt()));let u=[];const g=Dt(t.path),C=t.operationForChild(g),w=n.children.get(g);if(w&&C){const S=e?e.getImmediateChild(g):null,k=W8(i,g);u=u.concat(Z3(C,w,S,k))}return a&&(u=u.concat(l4(a,t,i,e))),u}}function La(t,n,e,i){const a=n.get(qt());null==e&&null!=a&&(e=G3(a,qt()));let u=[];return n.children.inorderTraversal((g,C)=>{const w=e?e.getImmediateChild(g):null,S=W8(i,g),k=t.operationForChild(g);k&&(u=u.concat(La(k,C,w,S)))}),a&&(u=u.concat(l4(a,t,i,e))),u}function In(t,n){const e=n.query,i=f4(t,e);return{hashFn:()=>(function j7(t){return t.viewCache_.serverCache.getNode()}(n)||xt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function xa(t,n,e){const i=K3(t,e);if(i){const a=Y3(i),u=a.path,g=a.queryId,C=X1(u,n);return Q3(t,u,new Jn(E7(g),C))}return[]}(t,e._path,i):function Bv(t,n){return $2(t,new Jn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const u=function ta(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(a,e);return z0(t,e,null,u)}}}}function f4(t,n){const e=$i(n);return t.queryToTagMap.get(e)}function $i(t){return t._path.toString()+"$"+t._queryIdentifier}function K3(t,n){return t.tagToQueryMap.get(n)}function Y3(t){const n=t.indexOf("$");return(0,T.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new Yt(t.substr(0,n))}}function Q3(t,n,e){const i=t.syncPointTree_.get(n);return(0,T.hu)(i,"Missing sync point for query tag that we're tracking"),l4(i,e,j8(t.pendingWriteTree_,n),null)}function ci(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function Xh(){return(0,T.hu)(V0,"Reference.ts has not been loaded"),V0}())(t._repo,t._path):t}class x0{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new x0(e)}node(){return this.node_}}class S0{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=b2(this.path_,n);return new S0(this.syncTree_,e)}node(){return Dn(this.syncTree_,this.path_)}}const r5=function(t,n,e){return t&&"object"==typeof t?((0,T.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?X7(t[".sv"],n,e):"object"==typeof t[".sv"]?ef(t[".sv"],n):void(0,T.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},X7=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,T.hu)(!1,"Unexpected server value: "+t)},ef=function(t,n,e){t.hasOwnProperty("increment")||(0,T.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,T.hu)(!1,"Unexpected increment value: "+i);const a=n.node();if((0,T.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const g=a.getValue();return"number"!=typeof g?i:g+i},i5=function(t,n,e,i){return E0(n,new S0(e,t),i)},L0=function(t,n,e){return E0(t,new x0(n),e)};function E0(t,n,e){const i=t.getPriority().val(),a=r5(i,n.getImmediateChild(".priority"),e);let u;if(t.isLeafNode()){const g=t,C=r5(g.getValue(),n,e);return C!==g.getValue()||a!==g.getPriority().val()?new r4(C,p2(a)):t}{const g=t;return u=g,a!==g.getPriority().val()&&(u=u.updatePriority(new r4(a))),g.forEachChild(u2,(C,w)=>{const S=E0(w,n.getImmediateChild(C),e);S!==w&&(u=u.updateImmediateChild(C,S))}),u}}class s5{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function A0(t,n){let e=n instanceof Yt?n:new Yt(n),i=t,a=Dt(e);for(;null!==a;){const u=(0,T.DV)(i.node.children,a)||{children:{},childCount:0};i=new s5(a,i,u),e=l2(e),a=Dt(e)}return i}function J3(t){return t.node.value}function o5(t,n){t.node.value=n,Ea(t)}function c5(t){return t.node.childCount>0}function Ao(t,n){y1(t.node.children,(e,i)=>{n(new s5(e,t,i))})}function tf(t,n,e,i){e&&!i&&n(t),Ao(t,a=>{tf(a,n,!0,i)}),e&&i&&n(t)}function X3(t){return new Yt(null===t.parent?t.name:X3(t.parent)+"/"+t.name)}function Ea(t){null!==t.parent&&function np(t,n,e){const i=function a5(t){return void 0===J3(t)&&!c5(t)}(e),a=(0,T.r3)(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,Ea(t)):!i&&!a&&(t.node.children[n]=e.node,t.node.childCount++,Ea(t))}(t.parent,t.name,t)}const I0=/[\[\].#$\/\u0000-\u001F\u007F]/,T0=/[\[\].#$\u0000-\u001F\u007F]/,N0=10485760,Aa=function(t){return"string"==typeof t&&0!==t.length&&!I0.test(t)},P0=function(t){return"string"==typeof t&&0!==t.length&&!T0.test(t)},Do=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!e0(t)||t&&"object"==typeof t&&(0,T.r3)(t,".sv")},Xn=function(t,n,e,i){i&&void 0===n||Io((0,T.gK)(t,"value"),n,e)},Io=function(t,n,e){const i=e instanceof Yt?new d7(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+n4(i));if("function"==typeof n)throw new Error(t+"contains a function "+n4(i)+" with contents = "+n.toString());if(e0(n))throw new Error(t+"contains "+n.toString()+" "+n4(i));if("string"==typeof n&&n.length>N0/3&&(0,T.ug)(n)>N0)throw new Error(t+"contains a string greater than "+N0+" utf8 bytes "+n4(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let a=!1,u=!1;if(y1(n,(g,C)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(u=!0,!Aa(g)))throw new Error(t+" contains an invalid key ("+g+") "+n4(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function h7(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,T.ug)(n),g7(t)})(i,g),Io(t,C,i),function p7(t){const n=t.parts_.pop();t.byteLength_-=(0,T.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),a&&u)throw new Error(t+' contains ".value" child '+n4(i)+" in addition to actual children.")}},l5=function(t,n,e,i){if(i&&void 0===n)return;const a=(0,T.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");const u=[];y1(n,(g,C)=>{const w=new Yt(g);if(Io(a,C,b2(e,w)),".priority"===c0(w)&&!Do(C))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(w)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const u=la(i);for(let g=0;g<u.length;g++)if((".priority"!==u[g]||g!==u.length-1)&&!Aa(u[g]))throw new Error(t+"contains an invalid key ("+u[g]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(zh);let a=null;for(e=0;e<n.length;e++){if(i=n[e],null!==a&&ht(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,u)},k0=function(t,n,e){if(!e||void 0!==n){if(e0(n))throw new Error((0,T.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Do(n))throw new Error((0,T.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},To=function(t,n,e,i){if(!(i&&void 0===e||Aa(e)))throw new Error((0,T.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},No=function(t,n,e,i){if(!(i&&void 0===e||P0(e)))throw new Error((0,T.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},er=function(t,n){if(".info"===Dt(n))throw new Error(t+" failed = Can't modify data under /.info/")},rf=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Aa(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),P0(t)}(e))throw new Error((0,T.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class u5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Po(t,n){let e=null;for(let i=0;i<n.length;i++){const a=n[i],u=a.getPath();null!==e&&!V8(u,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&t.eventLists_.push(e)}function f5(t,n,e){Po(t,e),d5(t,i=>V8(i,n))}function gn(t,n,e){Po(t,e),d5(t,i=>ht(i,n)||ht(n,i))}function d5(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const a=t.eventLists_[i];a&&(n(a.path)?(sf(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function sf(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();N3&&C1("event: "+e.toString()),uo(i)}}}const h5="repo_interrupt";class af{constructor(n,e,i,a){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new u5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=k8(),this.transactionQueueTree_=new s5,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sp(t){const e=t.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Da(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:sp(t)})}function uf(t,n,e,i,a){t.dataUpdateCount++;const u=new Yt(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let g=[];if(a)if(i){const w=(0,T.UI)(e,S=>p2(S));g=function t5(t,n,e,i){const a=K3(t,i);if(a){const u=Y3(a),g=u.path,C=u.queryId,w=X1(g,n),S=Qt.fromObject(e);return Q3(t,g,new Ho(E7(C),w,S))}return[]}(t.serverSyncTree_,u,w,a)}else{const w=p2(e);g=Q7(t.serverSyncTree_,u,w,a)}else if(i){const w=(0,T.UI)(e,S=>p2(S));g=function u4(t,n,e){const i=Qt.fromObject(e);return $2(t,new Ho({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,u,w)}else{const w=p2(e);g=W3(t.serverSyncTree_,u,w)}let C=u;g.length>0&&(C=tn(t,u)),gn(t.eventQueue_,C,g)}function p5(t,n){G2(t,"connected",n),!1===n&&function ap(t){Ta(t,"onDisconnectEvents");const n=Da(t),e=k8();O8(t.onDisconnect_,qt(),(a,u)=>{const g=i5(a,u,t.serverSyncTree_,n);o4(e,a,g)});let i=[];O8(e,qt(),(a,u)=>{i=i.concat(W3(t.serverSyncTree_,a,u));const g=y5(t,a);tn(t,g)}),t.onDisconnect_=k8(),gn(t.eventQueue_,qt(),i)}(t)}function G2(t,n,e){const i=new Yt("/.info/"+n),a=p2(e);t.infoData_.updateSnapshot(i,a);const u=W3(t.infoSyncTree_,i,a);gn(t.eventQueue_,i,u)}function Ia(t){return t.nextWriteId_++}function g5(t,n,e,i,a){Ta(t,"set",{path:n.toString(),value:e,priority:i});const u=Da(t),g=p2(e,i),C=Dn(t.serverSyncTree_,n),w=L0(g,C,u),S=Ia(t),k=e5(t.serverSyncTree_,n,w,S,!0);Po(t.eventQueue_,k),t.server_.put(n.toString(),g.val(!0),(Z,re)=>{const we="ok"===Z;we||R1("set at "+n+" failed: "+Z);const Pe=q3(t.serverSyncTree_,S,!we);gn(t.eventQueue_,n,Pe),Gi(0,a,Z,re)});const N=y5(t,n);tn(t,N),gn(t.eventQueue_,N,[])}function df(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,a)=>{"ok"===i&&d0(t.onDisconnect_,n),Gi(0,e,i,a)})}function m5(t,n,e,i){const a=p2(e);t.server_.onDisconnectPut(n.toString(),a.val(!0),(u,g)=>{"ok"===u&&o4(t.onDisconnect_,n,a),Gi(0,i,u,g)})}function O0(t,n,e){let i;i=".info"===Dt(n._path)?z0(t.infoSyncTree_,n,e):z0(t.serverSyncTree_,n,e),f5(t.eventQueue_,n._path,i)}function hf(t){t.persistentConnection_&&t.persistentConnection_.interrupt(h5)}function Ta(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),C1(e,...n)}function Gi(t,n,e,i){n&&uo(()=>{if("ok"===e)n(null);else{const a=(e||"error").toUpperCase();let u=a;i&&(u+=": "+i);const g=new Error(u);g.code=a,n(g)}})}function tr(t,n,e){return Dn(t.serverSyncTree_,n,e)||xt.EMPTY_NODE}function R0(t,n=t.transactionQueueTree_){if(n||F0(t,n),J3(n)){const e=_5(t,n);(0,T.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function fp(t,n,e){const i=e.map(S=>S.currentWriteId),a=tr(t,n,i);let u=a;const g=a.hash();for(let S=0;S<e.length;S++){const k=e[S];(0,T.hu)(0===k.status,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const N=X1(n,k.path);u=u.updateChild(N,k.currentOutputSnapshotRaw)}const C=u.val(!0),w=n;t.server_.put(w.toString(),C,S=>{Ta(t,"transaction put response",{path:w.toString(),status:S});let k=[];if("ok"===S){const N=[];for(let Z=0;Z<e.length;Z++)e[Z].status=2,k=k.concat(q3(t.serverSyncTree_,e[Z].currentWriteId)),e[Z].onComplete&&N.push(()=>e[Z].onComplete(null,!0,e[Z].currentOutputSnapshotResolved)),e[Z].unwatcher();F0(t,A0(t.transactionQueueTree_,n)),R0(t,t.transactionQueueTree_),gn(t.eventQueue_,n,k);for(let Z=0;Z<N.length;Z++)uo(N[Z])}else{if("datastale"===S)for(let N=0;N<e.length;N++)e[N].status=3===e[N].status?4:0;else{R1("transaction at "+w.toString()+" failed: "+S);for(let N=0;N<e.length;N++)e[N].status=4,e[N].abortReason=S}tn(t,n)}},g)}(t,X3(n),e)}else c5(n)&&Ao(n,e=>{R0(t,e)})}function tn(t,n){const e=nr(t,n),i=X3(e);return function Lr(t,n,e){if(0===n.length)return;const i=[];let a=[];const g=n.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<n.length;C++){const w=n[C],S=X1(e,w.path);let N,k=!1;if((0,T.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)k=!0,N=w.abortReason,a=a.concat(q3(t.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)k=!0,N="maxretry",a=a.concat(q3(t.serverSyncTree_,w.currentWriteId,!0));else{const Z=tr(t,w.path,g);w.currentInputSnapshot=Z;const re=n[C].update(Z.val());if(void 0!==re){Io("transaction failed: Data returned ",re,w.path);let we=p2(re);"object"==typeof re&&null!=re&&(0,T.r3)(re,".priority")||(we=we.updatePriority(Z.getPriority()));const wt=w.currentWriteId,Tt=Da(t),Xt=L0(we,Z,Tt);w.currentOutputSnapshotRaw=we,w.currentOutputSnapshotResolved=Xt,w.currentWriteId=Ia(t),g.splice(g.indexOf(wt),1),a=a.concat(e5(t.serverSyncTree_,w.path,Xt,w.currentWriteId,w.applyLocally)),a=a.concat(q3(t.serverSyncTree_,wt,!0))}else k=!0,N="nodata",a=a.concat(q3(t.serverSyncTree_,w.currentWriteId,!0))}gn(t.eventQueue_,e,a),a=[],k&&(n[C].status=2,setTimeout(n[C].unwatcher,Math.floor(0)),n[C].onComplete&&i.push("nodata"===N?()=>n[C].onComplete(null,!1,n[C].currentInputSnapshot):()=>n[C].onComplete(new Error(N),!1,null)))}F0(t,t.transactionQueueTree_);for(let C=0;C<i.length;C++)uo(i[C]);R0(t,t.transactionQueueTree_)}(t,_5(t,e),i),i}function nr(t,n){let e,i=t.transactionQueueTree_;for(e=Dt(n);null!==e&&void 0===J3(i);)i=A0(i,e),e=Dt(n=l2(n));return i}function _5(t,n){const e=[];return C5(t,n,e),e.sort((i,a)=>i.order-a.order),e}function C5(t,n,e){const i=J3(n);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);Ao(n,a=>{C5(t,a,e)})}function F0(t,n){const e=J3(n);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,o5(n,e.length>0?e:void 0)}Ao(n,i=>{F0(t,i)})}function y5(t,n){const e=X3(nr(t,n)),i=A0(t.transactionQueueTree_,n);return function D0(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,a=>{M5(t,a)}),M5(t,i),tf(i,a=>{M5(t,a)}),e}function M5(t,n){const e=J3(n);if(e){const i=[];let a=[],u=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,T.hu)(u===g-1,"All SENT items should be at beginning of queue."),u=g,e[g].status=3,e[g].abortReason="set"):((0,T.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(q3(t.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&i.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===u?o5(n,void 0):e.length=u+1,gn(t.eventQueue_,X3(n),a);for(let g=0;g<i.length;g++)uo(i[g])}}const d4=function(t,n){const e=hp(t),i=e.namespace;return"firebase.com"===e.domain&&xn(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&R1("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new n0(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new Yt(e.pathString)}},hp=function(t){let n="",e="",i="",a="",u="",g=!0,C="https",w=443;if("string"==typeof t){let S=t.indexOf("//");S>=0&&(C=t.substring(0,S-1),t=t.substring(S+2));let k=t.indexOf("/");-1===k&&(k=t.length);let N=t.indexOf("?");-1===N&&(N=t.length),n=t.substring(0,Math.min(k,N)),k<N&&(a=function dp(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}n+="/"+a}return n}(t.substring(k,N)));const Z=function b5(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):R1(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,N)));S=n.indexOf(":"),S>=0?(g="https"===C||"wss"===C,w=parseInt(n.substring(S+1),10)):S=n.length;const re=n.slice(0,S);if("localhost"===re.toLowerCase())e="localhost";else if(re.split(".").length<=2)e=re;else{const we=n.indexOf(".");i=n.substring(0,we).toLowerCase(),e=n.substring(we+1),u=i}"ns"in Z&&(u=Z.ns)}return{host:n,port:w,domain:e,subdomain:i,secure:g,scheme:C,pathString:a,namespace:u}},w5="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pp=function(){let t=0;const n=[];return function(e){const i=e===t;let a;t=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=w5.charAt(e%64),e=Math.floor(e/64);(0,T.hu)(0===e,"Cannot push at time == 0");let g=u.join("");if(i){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=w5.charAt(n[a]);return(0,T.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();class H5{constructor(n,e,i,a){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,T.Wl)(this.snapshot.exportVal())}}class V5{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Oo{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,T.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class gf{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new T.BH;return df(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){er("OnDisconnect.remove",this._path);const n=new T.BH;return m5(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){er("OnDisconnect.set",this._path),Xn("OnDisconnect.set",n,this._path,!1);const e=new T.BH;return m5(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){er("OnDisconnect.setWithPriority",this._path),Xn("OnDisconnect.setWithPriority",n,this._path,!1),k0("OnDisconnect.setWithPriority",e,!1);const i=new T.BH;return function ko(t,n,e,i,a){const u=p2(e,i);t.server_.onDisconnectPut(n.toString(),u.val(!0),(g,C)=>{"ok"===g&&o4(t.onDisconnect_,n,u),Gi(0,a,g,C)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){er("OnDisconnect.update",this._path),l5("OnDisconnect.update",n,this._path,!1);const e=new T.BH;return function lp(t,n,e,i){if((0,T.xb)(e))return C1("onDisconnect().update() called with empty data.  Don't do anything."),void Gi(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(a,u)=>{"ok"===a&&y1(e,(g,C)=>{const w=p2(C);o4(t.onDisconnect_,b2(n,g),w)}),Gi(0,i,a,u)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class nn{constructor(n,e,i,a){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return At(this._path)?null:c0(this._path)}get ref(){return new mn(this._repo,this._path)}get _queryIdentifier(){const n=N8(this._queryParams),e=l8(n);return"{}"===e?"default":e}get _queryObject(){return N8(this._queryParams)}isEqual(n){if(!((n=(0,T.m9)(n))instanceof nn))return!1;const e=this._repo===n._repo,i=V8(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Vh(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function Na(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function ai(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Fi){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==P3)throw new Error(i);if("string"!=typeof n)throw new Error(a)}if(t.hasEnd()){if(t.getIndexEndName()!==Oi)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(t.getIndex()===u2){if(null!=n&&!Do(n)||null!=e&&!Do(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,T.hu)(t.getIndex()instanceof Ln||t.getIndex()===E8,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function h4(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class mn extends nn{constructor(n,e){super(n,e,new s4,!1)}get parent(){const n=f7(this._path);return null===n?null:new mn(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class qi{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new Yt(n),i=es(this.ref,n);return new qi(this._node.getChild(e),i,u2)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>n(new qi(a,es(this.ref,i),u2)))}hasChild(n){const e=new Yt(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function z5(t,n){return(t=(0,T.m9)(t))._checkNotDeleted("ref"),void 0!==n?es(t._root,n):t._root}function x5(t,n){(t=(0,T.m9)(t))._checkNotDeleted("refFromURL");const e=d4(n,t._repo.repoInfo_.nodeAdmin);rf("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&xn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),z5(t,e.path.toString())}function es(t,n){return null===Dt((t=(0,T.m9)(t))._path)?(e=n,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),No("child","path",e,!1)):No("child","path",n,!1),new mn(t._repo,b2(t._path,n));var e}function S5(t,n){t=(0,T.m9)(t),er("set",t._path),Xn("set",n,t._path,!1);const e=new T.BH;return g5(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function _p(t,n){l5("update",n,t._path,!1);const e=new T.BH;return function ff(t,n,e,i){Ta(t,"update",{path:n.toString(),value:e});let a=!0;const u=Da(t),g={};if(y1(e,(C,w)=>{a=!1,g[C]=i5(b2(n,C),p2(w),t.serverSyncTree_,u)}),a)C1("update() called with empty data.  Don't do anything."),Gi(0,i,"ok",void 0);else{const C=Ia(t),w=function tp(t,n,e,i){!function T7(t,n,e,i){(0,T.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=ya(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const a=Qt.fromObject(e);return $2(t,new Ho({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,a))}(t.serverSyncTree_,n,g,C);Po(t.eventQueue_,w),t.server_.merge(n.toString(),e,(S,k)=>{const N="ok"===S;N||R1("update at "+n+" failed: "+S);const Z=q3(t.serverSyncTree_,C,!N),re=Z.length>0?tn(t,n):n;gn(t.eventQueue_,re,Z),Gi(0,i,S,k)}),y1(e,S=>{const k=y5(t,b2(n,S));tn(t,k)}),gn(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function Cp(t){t=(0,T.m9)(t);const n=new Oo(()=>{}),e=new Pa(n);return function cp(t,n,e){const i=function Sa(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(S,k)=>{const N=X1(S,e);i=i||G3(k,N)});let a=t.syncPointTree_.get(e);a?i=i||G3(a,qt()):(a=new H0,t.syncPointTree_=t.syncPointTree_.set(e,a));const u=null!=i,g=u?new Bi(i,!0,!1):null;return function $7(t){return Ca(t.viewCache_)}(W7(a,n,j8(t.pendingWriteTree_,n._path),u?g.getNode():xt.EMPTY_NODE,u))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(a=>{const u=p2(a).withIndex(n._queryParams.getIndex());let g;if(n5(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())g=W3(t.serverSyncTree_,n._path,u);else{const C=f4(t.serverSyncTree_,n);g=Q7(t.serverSyncTree_,n._path,u,C)}return gn(t.eventQueue_,n._path,g),z0(t.serverSyncTree_,n,e,null,!0),u},a=>(Ta(t,"get for query "+(0,T.Wl)(n)+" failed: "+a),Promise.reject(new Error(a))))}(t._repo,t,e).then(i=>new qi(i,new mn(t._repo,t._path),t._queryParams.getIndex()))}class Pa{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new H5("value",this,new qi(n.snapshotNode,new mn(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new V5(this,n,e):null}matches(n){return n instanceof Pa&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class U0{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new V5(this,n,e):null}createEvent(n,e){(0,T.hu)(null!=n.childName,"Child events should have a childName.");const i=es(new mn(e._repo,e._path),n.childName),a=e._queryParams.getIndex();return new H5(n.type,this,new qi(n.snapshotNode,i,a),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof U0&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ka(t,n,e,i,a){let u;if("object"==typeof i&&(u=void 0,a=i),"function"==typeof i&&(u=i),a&&a.onlyOnce){const w=e,S=(k,N)=>{O0(t._repo,t,C),w(k,N)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new Oo(e,u||void 0),C="value"===n?new Pa(g):new U0(n,g);return function up(t,n,e){let i;i=".info"===Dt(n._path)?n5(t.infoSyncTree_,n,e):n5(t.serverSyncTree_,n,e),f5(t.eventQueue_,n._path,i)}(t._repo,t,C),()=>O0(t._repo,t,C)}function L5(t,n,e,i){return ka(t,"value",n,e,i)}function _f(t,n,e,i){return ka(t,"child_added",n,e,i)}function Cf(t,n,e,i){return ka(t,"child_changed",n,e,i)}function yf(t,n,e,i){return ka(t,"child_moved",n,e,i)}function Mf(t,n,e,i){return ka(t,"child_removed",n,e,i)}function bf(t,n,e){let i=null;const a=e?new Oo(e):null;"value"===n?i=new Pa(a):n&&(i=new U0(n,a)),O0(t._repo,t,i)}class Er{}class wf extends Er{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xn("endAt",this._value,n._path,!0);const e=T8(n._queryParams,this._value,this._key);if(h4(e),ai(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nn(n._repo,n._path,e,n._orderByCalled)}}class Mp extends Er{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xn("endBefore",this._value,n._path,!1);const e=function Th(t,n,e){let i;return i=T8(t,n,t.index_===Fi||e?e:P3),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(h4(e),ai(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nn(n._repo,n._path,e,n._orderByCalled)}}class E5 extends Er{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xn("startAt",this._value,n._path,!0);const e=ma(n._queryParams,this._value,this._key);if(h4(e),ai(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new nn(n._repo,n._path,e,n._orderByCalled)}}class zf extends Er{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xn("startAfter",this._value,n._path,!1);const e=function Dv(t,n,e){let i;return i=ma(t,n,t.index_===Fi||e?e:Oi),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(h4(e),ai(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new nn(n._repo,n._path,e,n._orderByCalled)}}class Sf extends Er{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new nn(n._repo,n._path,function D8(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class Ef extends Er{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new nn(n._repo,n._path,function I8(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Df extends Er{constructor(n){super(),this._path=n}_apply(n){Na(n,"orderByChild");const e=new Yt(this._path);if(At(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Ln(e),a=f0(n._queryParams,i);return ai(a),new nn(n._repo,n._path,a,!0)}}class p4 extends Er{_apply(n){Na(n,"orderByKey");const e=f0(n._queryParams,Fi);return ai(e),new nn(n._repo,n._path,e,!0)}}class wp extends Er{_apply(n){Na(n,"orderByPriority");const e=f0(n._queryParams,u2);return ai(e),new nn(n._repo,n._path,e,!0)}}class jv extends Er{_apply(n){Na(n,"orderByValue");const e=f0(n._queryParams,E8);return ai(e),new nn(n._repo,n._path,e,!0)}}class $v extends Er{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(Xn("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wf(this._value,this._key)._apply(new E5(this._value,this._key)._apply(n))}}function rr(t,...n){let e=(0,T.m9)(t);for(const i of n)e=i._apply(e);return e}(function q7(t){(0,T.hu)(!w0,"__referenceConstructor has already been defined"),w0=t})(mn),function X8(t){(0,T.hu)(!V0,"__referenceConstructor has already been defined"),V0=t}(mn);const mt={};function Pf(t,n,e,i,a){let u=i||t.options.databaseURL;void 0===u&&(t.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C1("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let w,S,g=d4(u,a),C=g.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(w=!0,u=`http://${S}?ns=${C.namespace}`,g=d4(u,a),C=g.repoInfo):w=!g.repoInfo.secure;const k=a&&w?new na(na.OWNER):new xv(t.name,t.options,n);rf("Invalid Firebase Database URL",g),At(g.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const N=function Vp(t,n,e,i){let a=mt[n.name];a||(a={},mt[n.name]=a);let u=a[t.toURLString()];return u&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new af(t,false,e,i),a[t.toURLString()]=u,u}(C,t,k,new d8(t.name,e));return new j0(N,t)}class j0{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function lf(t,n,e){if(t.stats_=m8(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new P8(t.repoInfo_,(i,a,u,g)=>{uf(t,i,a,u,g)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>p5(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,T.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Sn(t.repoInfo_,n,(i,a,u,g)=>{uf(t,i,a,u,g)},i=>{p5(t,i)},i=>{!function op(t,n){y1(n,(e,i)=>{G2(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function uh(t,n){const e=t.toString();return R3[e]||(R3[e]=n()),R3[e]}(t.repoInfo_,()=>new Pv(t.stats_,t.server_)),t.infoData_=new Nh,t.infoSyncTree_=new Y7({startListening:(i,a,u,g)=>{let C=[];const w=t.infoData_.getNode(i._path);return w.isEmpty()||(C=W3(t.infoSyncTree_,i._path,w),setTimeout(()=>{g("ok")},0)),C},stopListening:()=>{}}),G2(t,"connected",!1),t.serverSyncTree_=new Y7({startListening:(i,a,u,g)=>(t.server_.listen(i,u,a,(C,w)=>{const S=g(C,w);gn(t.eventQueue_,i._path,S)}),[]),stopListening:(i,a)=>{t.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mn(this._repo,qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Fo(t,n){const e=mt[n];(!e||e[t.key]!==t)&&xn(`Database ${n}(${t.repoInfo_}) has already been deleted.`),hf(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&xn("Cannot call "+n+" on a deleted database.")}}function E2(){o0.IS_TRANSPORT_INITIALIZED&&R1("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qv(){E2(),F3.forceDisallow()}function kf(){E2(),mo.forceDisallow(),F3.forceAllow()}function Uf(t,n){$u(t,n)}const xp={".sv":"timestamp"};class Oa{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Sn.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Sn.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function Bf(t){ao(Di.SDK_VERSION),(0,Di._registerComponent)(new wr.wA("database",(n,{instanceIdentifier:e})=>Pf(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Di.registerVersion)(t4,"0.14.4",t),(0,Di.registerVersion)(t4,"0.14.4","esm2017")}();const $f=new Hc.Yd("@firebase/database-compat"),D5=function(t){$f.warn("FIREBASE WARNING: "+t)};class Fa{constructor(n){this._delegate=n}cancel(n){(0,T.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,T.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,T.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,T.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,T.Dv)("OnDisconnect.set",1,2,arguments.length),(0,T.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,T.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,T.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(n,e);return i&&a.then(()=>i(null),u=>i(u)),a}update(n,e){if((0,T.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let u=0;u<n.length;++u)a[""+u]=n[u];n=a,D5("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,T.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),a=>e(a)),i}}class Dp{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,T.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ts{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,T.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,T.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,T.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,T.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,T.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),No("DataSnapshot.child","path",n,!1),new ts(this._database,this._delegate.child(n))}hasChild(n){return(0,T.Dv)("DataSnapshot.hasChild",1,1,arguments.length),No("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,T.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,T.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,T.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new ts(this._database,e)))}hasChildren(){return(0,T.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,T.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,T.Dv)("DataSnapshot.ref",0,0,arguments.length),new vn(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class L1{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,a){var u;(0,T.Dv)("Query.on",2,4,arguments.length),(0,T.Wj)("Query.on","callback",e,!1);const g=L1.getCancelAndContextArgs_("Query.on",i,a),C=(S,k)=>{e.call(g.context,new ts(this.database,S),k)};C.userCallback=e,C.context=g.context;const w=null===(u=g.cancel)||void 0===u?void 0:u.bind(g.context);switch(n){case"value":return L5(this._delegate,C,w),e;case"child_added":return _f(this._delegate,C,w),e;case"child_removed":return Mf(this._delegate,C,w),e;case"child_changed":return Cf(this._delegate,C,w),e;case"child_moved":return yf(this._delegate,C,w),e;default:throw new Error((0,T.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,T.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,T.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,T.Wj)("Query.off","callback",e,!0),(0,T.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,bf(this._delegate,n,a)}else bf(this._delegate,n)}get(){return Cp(this._delegate).then(n=>new ts(this.database,n))}once(n,e,i,a){(0,T.Dv)("Query.once",1,4,arguments.length),(0,T.Wj)("Query.once","callback",e,!0);const u=L1.getCancelAndContextArgs_("Query.once",i,a),g=new T.BH,C=(S,k)=>{const N=new ts(this.database,S);e&&e.call(u.context,N,k),g.resolve(N)};C.userCallback=e,C.context=u.context;const w=S=>{u.cancel&&u.cancel.call(u.context,S),g.reject(S)};switch(n){case"value":L5(this._delegate,C,w,{onlyOnce:!0});break;case"child_added":_f(this._delegate,C,w,{onlyOnce:!0});break;case"child_removed":Mf(this._delegate,C,w,{onlyOnce:!0});break;case"child_changed":Cf(this._delegate,C,w,{onlyOnce:!0});break;case"child_moved":yf(this._delegate,C,w,{onlyOnce:!0});break;default:throw new Error((0,T.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(n){return(0,T.Dv)("Query.limitToFirst",1,1,arguments.length),new L1(this.database,rr(this._delegate,function Lf(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Sf(t)}(n)))}limitToLast(n){return(0,T.Dv)("Query.limitToLast",1,1,arguments.length),new L1(this.database,rr(this._delegate,function Af(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ef(t)}(n)))}orderByChild(n){return(0,T.Dv)("Query.orderByChild",1,1,arguments.length),new L1(this.database,rr(this._delegate,function If(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return No("orderByChild","path",t,!1),new Df(t)}(n)))}orderByKey(){return(0,T.Dv)("Query.orderByKey",0,0,arguments.length),new L1(this.database,rr(this._delegate,function bp(){return new p4}()))}orderByPriority(){return(0,T.Dv)("Query.orderByPriority",0,0,arguments.length),new L1(this.database,rr(this._delegate,function Ro(){return new wp}()))}orderByValue(){return(0,T.Dv)("Query.orderByValue",0,0,arguments.length),new L1(this.database,rr(this._delegate,function A5(){return new jv}()))}startAt(n=null,e){return(0,T.Dv)("Query.startAt",0,2,arguments.length),new L1(this.database,rr(this._delegate,function Vf(t=null,n){return To("startAt","key",n,!0),new E5(t,n)}(n,e)))}startAfter(n=null,e){return(0,T.Dv)("Query.startAfter",0,2,arguments.length),new L1(this.database,rr(this._delegate,function xf(t,n){return To("startAfter","key",n,!0),new zf(t,n)}(n,e)))}endAt(n=null,e){return(0,T.Dv)("Query.endAt",0,2,arguments.length),new L1(this.database,rr(this._delegate,function yp(t,n){return To("endAt","key",n,!0),new wf(t,n)}(n,e)))}endBefore(n=null,e){return(0,T.Dv)("Query.endBefore",0,2,arguments.length),new L1(this.database,rr(this._delegate,function Hf(t,n){return To("endBefore","key",n,!0),new Mp(t,n)}(n,e)))}equalTo(n,e){return(0,T.Dv)("Query.equalTo",1,2,arguments.length),new L1(this.database,rr(this._delegate,function Tf(t,n){return To("equalTo","key",n,!0),new $v(t,n)}(n,e)))}toString(){return(0,T.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,T.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,T.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof L1))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,T.Wj)(n,"cancel",a.cancel,!0),a.context=i,(0,T.lb)(n,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,T.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new vn(this.database,new mn(this._delegate._repo,this._delegate._path))}}class vn extends L1{constructor(n,e){super(n,new nn(e._repo,e._path,new s4,!1)),this.database=n,this._delegate=e}getKey(){return(0,T.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,T.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new vn(this.database,es(this._delegate,n))}getParent(){(0,T.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new vn(this.database,n):null}getRoot(){return(0,T.Dv)("Reference.root",0,0,arguments.length),new vn(this.database,this._delegate.root)}set(n,e){(0,T.Dv)("Reference.set",1,2,arguments.length),(0,T.Wj)("Reference.set","onComplete",e,!0);const i=S5(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}update(n,e){if((0,T.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let u=0;u<n.length;++u)a[""+u]=n[u];n=a,D5("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}er("Reference.update",this._delegate._path),(0,T.Wj)("Reference.update","onComplete",e,!0);const i=_p(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,T.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,T.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function vp(t,n,e){if(er("setWithPriority",t._path),Xn("setWithPriority",n,t._path,!1),k0("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new T.BH;return g5(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&a.then(()=>i(null),u=>i(u)),a}remove(n){(0,T.Dv)("Reference.remove",0,1,arguments.length),(0,T.Wj)("Reference.remove","onComplete",n,!0);const e=function vf(t){return er("remove",t._path),S5(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,T.Dv)("Reference.transaction",1,3,arguments.length),(0,T.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,T.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,T.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function Ep(t,n,e){var i;if(t=(0,T.m9)(t),er("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const a=null===(i=e?.applyLocally)||void 0===i||i,u=new T.BH,C=L5(t,()=>{});return function v5(t,n,e,i,a,u){Ta(t,"transaction on "+n);const g={path:n,update:e,onComplete:i,status:null,order:Q6(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=tr(t,n,void 0);g.currentInputSnapshot=C;const w=g.update(C.val());if(void 0===w)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Io("transaction failed: Data returned ",w,g.path),g.status=0;const S=A0(t.transactionQueueTree_,n),k=J3(S)||[];let N;k.push(g),o5(S,k),"object"==typeof w&&null!==w&&(0,T.r3)(w,".priority")?(N=(0,T.DV)(w,".priority"),(0,T.hu)(Do(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(Dn(t.serverSyncTree_,n)||xt.EMPTY_NODE).getPriority().val();const Z=Da(t),re=p2(w,N),we=L0(re,C,Z);g.currentOutputSnapshotRaw=re,g.currentOutputSnapshotResolved=we,g.currentWriteId=Ia(t);const Pe=e5(t.serverSyncTree_,n,we,g.currentWriteId,g.applyLocally);gn(t.eventQueue_,n,Pe),R0(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(w,S,k)=>{let N=null;w?u.reject(w):(N=new qi(k,new mn(t._repo,t._path),u2),u.resolve(new Oa(S,N)))},C,a),u.promise}(this._delegate,n,{applyLocally:i}).then(u=>new Dp(u.committed,new ts(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(n,e){(0,T.Dv)("Reference.setPriority",1,2,arguments.length),(0,T.Wj)("Reference.setPriority","onComplete",e,!0);const i=function mp(t,n){t=(0,T.m9)(t),er("setPriority",t._path),k0("setPriority",n,!1);const e=new T.BH;return g5(t._repo,b2(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}push(n,e){(0,T.Dv)("Reference.push",0,2,arguments.length),(0,T.Wj)("Reference.push","onComplete",e,!0);const i=function mf(t,n){t=(0,T.m9)(t),er("push",t._path),Xn("push",n,t._path,!0);const e=sp(t._repo),i=pp(e),a=es(t,i),u=es(t,i);let g;return g=null!=n?S5(u,n).then(()=>u):Promise.resolve(u),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,n),a=i.then(g=>new vn(this.database,g));e&&a.then(()=>e(null),g=>e(g));const u=new vn(this.database,i);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return er("Reference.onDisconnect",this._delegate._path),new Fa(new gf(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Uo{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:qv,forceLongPolling:kf}}useEmulator(n,e,i={}){!function Of(t,n,e,i={}){(t=(0,T.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");const a=t._repoInternal;let u;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new na(na.OWNER);else if(i.mockUserToken){const g="string"==typeof i.mockUserToken?i.mockUserToken:(0,T.Sg)(i.mockUserToken,t.app.options.projectId);u=new na(g)}!function Hp(t,n,e,i){t.repoInfo_=new n0(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(a,n,e,u)}(this._delegate,n,e,i)}ref(n){if((0,T.Dv)("database.ref",0,1,arguments.length),n instanceof vn){const e=x5(this._delegate,n.toString());return new vn(this,e)}{const e=z5(this._delegate,n);return new vn(this,e)}}refFromURL(n){(0,T.Dv)("database.refFromURL",1,1,arguments.length);const i=x5(this._delegate,n);return new vn(this,i)}goOffline(){return(0,T.Dv)("database.goOffline",0,0,arguments.length),function Rf(t){(t=(0,T.m9)(t))._checkNotDeleted("goOffline"),hf(t._repo)}(this._delegate)}goOnline(){return(0,T.Dv)("database.goOnline",0,0,arguments.length),function Ff(t){(t=(0,T.m9)(t))._checkNotDeleted("goOnline"),function pf(t){t.persistentConnection_&&t.persistentConnection_.resume(h5)}(t._repo)}(this._delegate)}}Uo.ServerValue={TIMESTAMP:function Sp(){return xp}(),increment:t=>function Lp(t){return{".sv":{increment:t}}}(t)};var Ip=Object.freeze({__proto__:null,initStandalone:function Gf({app:t,url:n,version:e,customAuthImpl:i,namespace:a,nodeAdmin:u=!1}){ao(e);const g=new wr.zt("auth-internal",new wr.H0("database-standalone"));return g.setComponent(new wr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Uo(Pf(t,g,void 0,n,u),t),namespace:a}}});const qf=Uo.ServerValue;function Pp(t){return null==t}function kp(t){return"function"==typeof t.set}function Op(t,n){return kp(n)?n:t.ref(n)}function I5(t,n){if(function Np(t){return"string"==typeof t}(t))return n.stringCase();if(kp(t))return n.firebaseCase();if(function Kv(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function ns(t,n,e="on",i=Te.z){return new F2.y(a=>{let u=null;return u=t[e](n,(g,C)=>{i.schedule(()=>{a.next({snapshot:g,prevKey:C})}),"once"===e&&i.schedule(()=>a.complete())},g=>{i.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=u&&t.off(n,u)}}:{unsubscribe(){}}}).pipe((0,Ze.U)(a=>{const{snapshot:u,prevKey:g}=a;let C=null;return u.exists()&&(C=u.key),{type:n,payload:u,prevKey:g,key:C}}),(0,V3.B)())}function Wf(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function Ua(t,n){const{payload:e,prevKey:i,key:a}=n,u=Wf(t,a),g=function Zf(t,n){if(Pp(n))return 0;{const e=Wf(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let C=null;n.payload.forEach(w=>{const S={payload:w,type:"value",prevKey:C,key:w.key};return C=w.key,t=[...t,S],!1})}return t;case"child_added":if(u>-1){const C=t[u-1];(C&&C.key||null)!==i&&(t=t.filter(w=>w.payload.key!==e.key)).splice(g,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(g,0,n)}return t;case"child_removed":return t.filter(C=>C.payload.key!==e.key);case"child_changed":return t.map(C=>C.payload.key===a?n:C);case"child_moved":if(u>-1){const C=t.splice(u,1)[0];return(t=t.slice()).splice(g,0,C),t}return t;default:return t}}function Kf(t){return(Pp(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Yf(t,n,e){return function Rp(t,n,e){return ns(t,"value","once",e).pipe(Gt(i=>{const a=[Ue(i)];return n.forEach(u=>a.push(ns(t,u,"on",e))),(0,Us.T)(...a).pipe(dt(Ua,[]))}),function ft(t,n=Qe.y){return t=t??Q2,(0,U2.e)((e,i)=>{let a,u=!0;e.subscribe((0,jt.x)(i,g=>{const C=n(g);(u||!t(a,C))&&(u=!1,a=C,i.next(g))}))})}())}(t,n=Kf(n),e)}function Qf(t,n,e){const i=(n=Kf(n)).map(a=>ns(t,a,"on",e));return(0,Us.T)(...i)}function Xf(t,n){return function(i,a){return I5(i,{stringCase:()=>t.child(i)[n](a),firebaseCase:()=>i[n](a),snapshotCase:()=>i.ref[n](a)})}}function Bp(t){return function(e){return e?I5(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function ed(t,n){return function(){return ns(t,"value","on",n)}}!function Tp(t){t.INTERNAL.registerComponent(new wr.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),a=n.getProvider("database").getImmediate({identifier:e});return new Uo(a,i)},"PUBLIC").setServiceProps({Reference:vn,Query:L1,Database:Uo,DataSnapshot:ts,enableLogging:Uf,INTERNAL:Ip,ServerValue:qf}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(K6.Z);const jp=new c.OlP("angularfire2.realtimeDatabaseURL"),nd=new c.OlP("angularfire2.database.use-emulator");let Tn=(()=>{class t{constructor(e,i,a,u,g,C,w,S,k,N,Z,re,we,Pe,wt){this.schedulers=C;const Tt=w,Xt=(0,s1.on)(e,g,i);S&&E(Xt,g,k,Z,re,we,N,Pe),this.database=(0,s1.cc)(`${Xt.name}.database.${a}`,"AngularFireDatabase",Xt.name,()=>{const E1=g.runOutsideAngular(()=>Xt.database(a||void 0));return Tt&&E1.useEmulator(...Tt),E1},[Tt])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>Op(this.database,e));let u=a;return i&&(u=i(a)),function Ba(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Xf(i,"update"),set:Xf(i,"set"),push:a=>i.push(a),remove:Bp(i),snapshotChanges:a=>Yf(t,a,e).pipe($t.iC),stateChanges:a=>Qf(t,a,e).pipe($t.iC),auditTrail:a=>function Fp(t,n,e){return function Jf(t,n,e){return function Up(t,n){return ns(t,"value","on",n).pipe((0,Ze.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(function co(...t){const n=(0,qn.jO)(t);return(0,U2.e)((e,i)=>{const a=t.length,u=new Array(a);let g=t.map(()=>!1),C=!1;for(let w=0;w<a;w++)(0,Y1.Xf)(t[w]).subscribe((0,jt.x)(i,S=>{u[w]=S,!C&&!g[w]&&(g[w]=!0,(C=g.every(Qe.y))&&(g=null))},dn.Z));e.subscribe((0,jt.x)(i,w=>{if(C){const S=[w,...u];i.next(n?n(...S):S)}}))})}(n),(0,Ze.U)(([a,u])=>{const g=a.lastKeyToLoad,C=u.map(w=>w.key);return{actions:u,lastKeyToLoad:g,loadedKeys:C}}),function W6(t){return(0,U2.e)((n,e)=>{let i=!1,a=0;n.subscribe((0,jt.x)(e,u=>(i||(i=!t(u,a++)))&&e.next(u)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ze.U)(a=>a.actions))}(t,Qf(t,n).pipe(dt((a,u)=>[...a,u],[])),e)}(t,a,e).pipe($t.iC),valueChanges:(a,u)=>Yf(t,a,e).pipe((0,Ze.U)(C=>C.map(w=>u&&u.idField?Object.assign(Object.assign({},w.payload.val()),{[u.idField]:w.key}):w.payload.val())),$t.iC)}}(u,this)}object(e){return function td(t,n){return{query:t,snapshotChanges:()=>ed(t,n.schedulers.outsideAngular)().pipe($t.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>ed(t,n.schedulers.outsideAngular)().pipe($t.iC,(0,Ze.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Op(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(s1.Dh),c.LFG(s1.xv,8),c.LFG(jp,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG($t.HU),c.LFG(nd,8),c.LFG($,8),c.LFG(Qc,8),c.LFG(m,8),c.LFG(d,8),c.LFG(h,8),c.LFG(_,8),c.LFG(z,8),c.LFG(io,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),T5=(()=>{class t{constructor(){Yc.Z.registerVersion("angularfire",$t.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[Tn]}),t})();class Ar extends K1.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:N5}=Array,{getPrototypeOf:$p,prototype:rd,keys:id}=Object;function sd(t){if(1===t.length){const n=t[0];if(N5(n))return{args:n,keys:null};if(function Gp(t){return t&&"object"==typeof t&&$p(t)===rd}(n)){const e=id(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:qp}=Array;function od(t){return(0,Ze.U)(n=>function P5(t,n){return qp(n)?t(...n):t(n)}(t,n))}function k5(t,n){return t.reduce((e,i,a)=>(e[i]=n[a],e),{})}var Wp=I(9672);function G0(...t){const n=(0,qn.yG)(t),e=(0,qn.jO)(t),{args:i,keys:a}=sd(t);if(0===i.length)return(0,r2.D)([],n);const u=new F2.y(function Zp(t,n,e=Qe.y){return i=>{cd(n,()=>{const{length:a}=t,u=new Array(a);let g=a,C=a;for(let w=0;w<a;w++)cd(n,()=>{const S=(0,r2.D)(t[w],n);let k=!1;S.subscribe((0,jt.x)(i,N=>{u[w]=N,k||(k=!0,C--),C||i.next(e(u.slice()))},()=>{--g||i.complete()}))},i)},i)}}(i,n,a?g=>k5(a,g):Qe.y));return e?u.pipe(od(e)):u}function cd(t,n,e){t?(0,Wp.f)(e,t,n):n()}var ja=I(8189);function O5(...t){return function Kp(){return(0,ja.J)(1)}()((0,r2.D)(t,(0,qn.yG)(t)))}function ad(t){return new F2.y(n=>{(0,Y1.Xf)(t()).subscribe(n)})}var ld=I(9635);function Bo(t,n){const e=(0,bt.m)(t)?t:()=>t,i=a=>a.error(e());return new F2.y(n?a=>n.schedule(i,0,a):i)}var ud=I(727);function R5(){return(0,U2.e)((t,n)=>{let e=null;t._refCount++;const i=(0,jt.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,u=e;e=null,a&&(!u||a===u)&&a.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class F5 extends F2.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,U2.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ud.w0;const e=this.getSubject();n.add(this.source.subscribe((0,jt.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ud.w0.EMPTY)}return n}refCount(){return R5()(this)}}var rn=I(5577);function rs(t,n){return(0,bt.m)(n)?(0,rn.z)(t,n,1):(0,rn.z)(t,1)}var b1=I(8505);function Dr(t){return(0,U2.e)((n,e)=>{let u,i=null,a=!1;i=n.subscribe((0,jt.x)(e,void 0,void 0,g=>{u=(0,Y1.Xf)(t(g,Dr(t)(n))),i?(i.unsubscribe(),i=null,u.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,u.subscribe(e))})}function q0(t){return t<=0?()=>P.E:(0,U2.e)((n,e)=>{let i=[];n.subscribe((0,jt.x)(e,a=>{i.push(a),t<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function W0(t,n){const e=arguments.length>=2;return i=>i.pipe(t?x((a,u)=>t(a,u,i)):Qe.y,q0(1),e?J(n):ze(()=>new H))}function $a(t){return(0,U2.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const It="primary",jo=Symbol("RouteTitle");class $o{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function g4(t){return new $o(t)}function Xp(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const a={};for(let u=0;u<i.length;u++){const g=i[u],C=t[u];if(g.startsWith(":"))a[g.substring(1)]=C;else if(g!==C.path)return null}return{consumed:t.slice(0,i.length),posParams:a}}function Ir(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!Z0(t[a],n[a]))return!1;return!0}function Z0(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((a,u)=>i[u]===a)}return t===n}function fd(t){return Array.prototype.concat.apply([],t)}function K0(t){return t.length>0?t[t.length-1]:null}function w1(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function li(t){return(0,c.CqO)(t)?t:(0,c.QGY)(t)?(0,r2.D)(Promise.resolve(t)):Ue(t)}const hd={exact:function gd(t,n,e){if(!v4(t.segments,n.segments)||!Ga(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!gd(t.children[i],n.children[i],e))return!1;return!0},subset:B5},U5={exact:function eg(t,n){return Ir(t,n)},subset:function tg(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Z0(t[e],n[e]))},ignored:()=>!0};function pd(t,n,e){return hd[e.paths](t.root,n.root,e.matrixParams)&&U5[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function B5(t,n,e){return ng(t,n,n.segments,e)}function ng(t,n,e,i){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!v4(a,e)||n.hasChildren()||!Ga(a,e,i))}if(t.segments.length===e.length){if(!v4(t.segments,e)||!Ga(t.segments,e,i))return!1;for(const a in n.children)if(!t.children[a]||!B5(t.children[a],n.children[a],i))return!1;return!0}{const a=e.slice(0,t.segments.length),u=e.slice(t.segments.length);return!!(v4(t.segments,a)&&Ga(t.segments,a,i)&&t.children[It])&&ng(t.children[It],n,u,i)}}function Ga(t,n,e){return n.every((i,a)=>U5[e](t[a].parameters,i.parameters))}class m4{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=g4(this.queryParams)),this._queryParamMap}toString(){return ig.serialize(this)}}class Pt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,w1(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qa(this)}}class Q0{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=g4(this.parameters)),this._parameterMap}toString(){return $5(this)}}function v4(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let md=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return new J0},providedIn:"root"}),t})();class J0{parse(n){const e=new cg(n);return new m4(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Wa(n.root,!0)}`,i=function Cd(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(a=>`${X0(e)}=${X0(a)}`).join("&"):`${X0(e)}=${X0(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function sg(t){return encodeURI(t)}(n.fragment)}`:""}`}}const ig=new J0;function qa(t){return t.segments.map(n=>$5(n)).join("/")}function Wa(t,n){if(!t.hasChildren())return qa(t);if(n){const e=t.children[It]?Wa(t.children[It],!1):"",i=[];return w1(t.children,(a,u)=>{u!==It&&i.push(`${u}:${Wa(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function rg(t,n){let e=[];return w1(t.children,(i,a)=>{a===It&&(e=e.concat(n(i,a)))}),w1(t.children,(i,a)=>{a!==It&&(e=e.concat(n(i,a)))}),e}(t,(i,a)=>a===It?[Wa(t.children[It],!1)]:[`${a}:${Wa(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[It]?`${qa(t)}/${e[0]}`:`${qa(t)}/(${e.join("//")})`}}function vd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function X0(t){return vd(t).replace(/%3B/gi,";")}function j5(t){return vd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function el(t){return decodeURIComponent(t)}function Go(t){return el(t.replace(/\+/g,"%20"))}function $5(t){return`${j5(t.path)}${function _d(t){return Object.keys(t).map(n=>`;${j5(n)}=${j5(t[n])}`).join("")}(t.parameters)}`}const yd=/^[^\/()?;=#]+/;function Za(t){const n=t.match(yd);return n?n[0]:""}const Md=/^[^=?&#]+/,Xv=/^[^&#]+/;class cg{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[It]=new Pt(n,e)),i}parseSegment(){const n=Za(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(n),new Q0(el(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Za(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=Za(this.remaining);a&&(i=a,this.capture(i))}n[el(e)]=el(i)}parseQueryParam(n){const e=function og(t){const n=t.match(Md);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const g=function bd(t){const n=t.match(Xv);return n?n[0]:""}(this.remaining);g&&(i=g,this.capture(i))}const a=Go(e),u=Go(i);if(n.hasOwnProperty(a)){let g=n[a];Array.isArray(g)||(g=[g],n[a]=g),g.push(u)}else n[a]=u}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Za(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new c.vHH(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=It);const g=this.parseChildren();e[u]=1===Object.keys(g).length?g[It]:new Pt([],g),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new c.vHH(4011,!1)}}function G5(t){return t.segments.length>0?new Pt([],{[It]:t}):t}function tl(t){const n={};for(const i of Object.keys(t.children)){const u=tl(t.children[i]);(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function ag(t){if(1===t.numberOfChildren&&t.children[It]){const n=t.children[It];return new Pt(t.segments.concat(n.segments),n.children)}return t}(new Pt(t.segments,n))}function Tr(t){return t instanceof m4}function W5(t,n,e,i,a){if(0===e.length)return qo(n.root,n.root,n.root,i,a);const u=function Qa(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ya(!0,0,t);let n=0,e=!1;const i=t.reduce((a,u,g)=>{if("object"==typeof u&&null!=u){if(u.outlets){const C={};return w1(u.outlets,(w,S)=>{C[S]="string"==typeof w?w.split("/"):w}),[...a,{outlets:C}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===g?(u.split("/").forEach((C,w)=>{0==w&&"."===C||(0==w&&""===C?e=!0:".."===C?n++:""!=C&&a.push(C))}),a):[...a,u]},[]);return new Ya(e,n,i)}(e);return u.toRoot()?qo(n.root,n.root,new Pt([],{}),i,a):function g(w){const S=function Vd(t,n,e,i){if(t.isAbsolute)return new Wo(n.root,!0,0);if(-1===i)return new Wo(e,e===n.root,0);return function Z5(t,n,e){let i=t,a=n,u=e;for(;u>a;){if(u-=a,i=i.parent,!i)throw new c.vHH(4005,!1);a=i.segments.length}return new Wo(i,!1,a-u)}(e,i+(Wi(t.commands[0])?0:1),t.numberOfDoubleDots)}(u,n,t.snapshot?._urlSegment,w),k=S.processChildren?Ja(S.segmentGroup,S.index,u.commands):nl(S.segmentGroup,S.index,u.commands);return qo(n.root,S.segmentGroup,k,i,a)}(t.snapshot?._lastPathIndex)}function Wi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ka(t){return"object"==typeof t&&null!=t&&t.outlets}function qo(t,n,e,i,a){let g,u={};i&&w1(i,(w,S)=>{u[S]=Array.isArray(w)?w.map(k=>`${k}`):`${w}`}),g=t===n?e:Hd(t,n,e);const C=G5(tl(g));return new m4(C,u,a)}function Hd(t,n,e){const i={};return w1(t.children,(a,u)=>{i[u]=a===n?e:Hd(a,n,e)}),new Pt(t.segments,i)}class Ya{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Wi(i[0]))throw new c.vHH(4003,!1);const a=i.find(Ka);if(a&&a!==K0(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wo{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function nl(t,n,e){if(t||(t=new Pt([],{})),0===t.segments.length&&t.hasChildren())return Ja(t,n,e);const i=function fg(t,n,e){let i=0,a=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(i>=e.length)return u;const g=t.segments[a],C=e[i];if(Ka(C))break;const w=`${C}`,S=i<e.length-1?e[i+1]:null;if(a>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!Q5(w,S,g))return u;i+=2}else{if(!Q5(w,{},g))return u;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(t,n,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const u=new Pt(t.segments.slice(0,i.pathIndex),{});return u.children[It]=new Pt(t.segments.slice(i.pathIndex),t.children),Ja(u,0,a)}return i.match&&0===a.length?new Pt(t.segments,{}):i.match&&!t.hasChildren()?zd(t,n,e):i.match?Ja(t,0,a):zd(t,n,e)}function Ja(t,n,e){if(0===e.length)return new Pt(t.segments,{});{const i=function K5(t){return Ka(t[0])?t[0].outlets:{[It]:t}}(e),a={};return w1(i,(u,g)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[g]=nl(t.children[g],n,u))}),w1(t.children,(u,g)=>{void 0===i[g]&&(a[g]=u)}),new Pt(t.segments,a)}}function zd(t,n,e){const i=t.segments.slice(0,n);let a=0;for(;a<e.length;){const u=e[a];if(Ka(u)){const w=Y5(u.outlets);return new Pt(i,w)}if(0===a&&Wi(e[0])){i.push(new Q0(t.segments[n].path,rl(e[0]))),a++;continue}const g=Ka(u)?u.outlets[It]:`${u}`,C=a<e.length-1?e[a+1]:null;g&&C&&Wi(C)?(i.push(new Q0(g,rl(C))),a+=2):(i.push(new Q0(g,{})),a++)}return new Pt(i,{})}function Y5(t){const n={};return w1(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=zd(new Pt([],{}),0,e))}),n}function rl(t){const n={};return w1(t,(e,i)=>n[i]=`${e}`),n}function Q5(t,n,e){return t==e.path&&Ir(n,e.parameters)}class Nr{constructor(n,e){this.id=n,this.url=e}}class Xa extends Nr{constructor(n,e,i="imperative",a=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _4 extends Nr{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class il extends Nr{constructor(n,e,i,a){super(n,e),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xd extends Nr{constructor(n,e,i,a){super(n,e),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dg extends Nr{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sd extends Nr{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J5 extends Nr{constructor(n,e,i,a,u){super(n,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ld extends Nr{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ed extends Nr{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ad{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dd{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hg{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Id{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Td{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pg{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X5{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class F1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=is(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=is(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=eu(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return eu(n,this._root).map(e=>e.value)}}function is(t,n){if(t===n.value)return n;for(const e of n.children){const i=is(t,e);if(i)return i}return null}function eu(t,n){if(t===n.value)return[n];for(const e of n.children){const i=eu(t,e);if(i.length)return i.unshift(n),i}return[]}class Zi{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function e6(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class mg extends F1{constructor(n,e){super(n),this.snapshot=e,iu(this,n)}toString(){return this.snapshot.toString()}}function tu(t,n){const e=function Nd(t,n){const g=new sl([],{},{},"",{},It,n,null,t.root,-1,{});return new ru("",new Zi(g,[]))}(t,n),i=new Ar([new Q0("",{})]),a=new Ar({}),u=new Ar({}),g=new Ar({}),C=new Ar(""),w=new Pr(i,a,g,C,u,It,n,e.root);return w.snapshot=e.root,new mg(new Zi(w,[]),e)}class Pr{constructor(n,e,i,a,u,g,C,w){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=g,this.component=C,this.title=this.data?.pipe((0,Ze.U)(S=>S[jo]))??Ue(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(n=>g4(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(n=>g4(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pd(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const a=e[i],u=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(u.component)break;i--}}return function nu(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sl{constructor(n,e,i,a,u,g,C,w,S,k,N,Z){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=g,this.component=C,this.title=this.data?.[jo],this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=k,this._correctedLastPathIndex=Z??k,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=g4(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=g4(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ru extends F1{constructor(n,e){super(e),this.url=n,iu(this,e)}toString(){return kd(this._root)}}function iu(t,n){n.value._routerState=t,n.children.forEach(e=>iu(t,e))}function kd(t){const n=t.children.length>0?` { ${t.children.map(kd).join(", ")} } `:"";return`${t.value}${n}`}function su(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ir(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Ir(n.params,e.params)||t.params.next(e.params),function Yv(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ir(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Ir(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function t6(t,n){const e=Ir(t.params,n.params)&&function Jv(t,n){return v4(t,n)&&t.every((e,i)=>Ir(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||t6(t.parent,n.parent))}function Zo(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const a=function ol(t,n,e){return n.children.map(i=>{for(const a of e.children)if(t.shouldReuseRoute(i.value,a.value.snapshot))return Zo(t,i,a);return Zo(t,i)})}(t,n,e);return new Zi(i,a)}{if(t.shouldAttach(n.value)){const u=t.retrieve(n.value);if(null!==u){const g=u.route;return g.value._futureSnapshot=n.value,g.children=n.children.map(C=>Zo(t,C)),g}}const i=function ou(t){return new Pr(new Ar(t.url),new Ar(t.params),new Ar(t.queryParams),new Ar(t.fragment),new Ar(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(u=>Zo(t,u));return new Zi(i,a)}}const Rd="ngNavigationCancelingError";function cu(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Tr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,a=Fd(!1,0,n);return a.url=e,a.navigationBehaviorOptions=i,a}function Fd(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[Rd]=!0,i.cancellationCode=n,e&&(i.url=e),i}function au(t){return C4(t)&&Tr(t.url)}function C4(t){return t&&t[Rd]}class vg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ko,this.attachRef=null}}let Ko=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new vg,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yo=!1;let Ud=(()=>{class t{constructor(e,i,a,u,g){this.parentContexts=e,this.location=i,this.changeDetector=u,this.environmentInjector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||It,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Yo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Yo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Yo);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,Yo);this._activatedRoute=e;const a=this.location,g=e._futureSnapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,w=new _g(e,C,a.injector);if(i&&function e_(t){return!!t.resolveComponentFactory}(i)){const S=i.resolveComponentFactory(g);this.activated=a.createComponent(S,a.length,w)}else this.activated=a.createComponent(g,{index:a.length,injector:w,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(Ko),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},t.\u0275dir=c.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class _g{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Pr?this.route:n===Ko?this.childContexts:this.parent.get(n,e)}}let lu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[Ud],encapsulation:2}),t})();function Bd(t,n){return t.providers&&!t._injector&&(t._injector=(0,c.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}function al(t){const n=t.children&&t.children.map(al),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==It&&(e.component=lu),e}function ir(t){return t.outlet||It}function uu(t,n){const e=t.filter(i=>ir(i)===n);return e.push(...t.filter(i=>ir(i)!==n)),e}function Qo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Gd{constructor(n,e,i,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),su(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const a=e6(e);n.children.forEach(u=>{const g=u.value.outlet;this.deactivateRoutes(u,a[g],i),delete a[g]}),w1(a,(u,g)=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,e,i){const a=n.value,u=e?e.value:null;if(a===u)if(a.component){const g=i.getContext(a.outlet);g&&this.deactivateChildRoutes(n,e,g.children)}else this.deactivateChildRoutes(n,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,u=e6(n);for(const g of Object.keys(u))this.deactivateRouteAndItsChildren(u[g],a);if(i&&i.outlet){const g=i.outlet.detach(),C=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:g,route:n,contexts:C})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,u=e6(n);for(const g of Object.keys(u))this.deactivateRouteAndItsChildren(u[g],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const a=e6(e);n.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],i),this.forwardEvent(new pg(u.value.snapshot))}),n.children.length&&this.forwardEvent(new Id(n.value.snapshot))}activateRoutes(n,e,i){const a=n.value,u=e?e.value:null;if(su(a),a===u)if(a.component){const g=i.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,g.children)}else this.activateChildRoutes(n,e,i);else if(a.component){const g=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const C=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(C.contexts),g.attachRef=C.componentRef,g.route=C.route.value,g.outlet&&g.outlet.attach(C.componentRef,C.route.value),su(C.route.value),this.activateChildRoutes(n,null,g.children)}else{const C=Qo(a.snapshot),w=C?.get(c._Vd)??null;g.attachRef=null,g.route=a,g.resolver=w,g.injector=C,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,i)}}class qd{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ll{constructor(n,e){this.component=n,this.route=e}}function r_(t,n,e){const i=t._root;return ul(i,n?n._root:null,e,[i.value])}function n6(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,c.Z0I)(t)?n.get(t):t:i}function ul(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=e6(n);return t.children.forEach(g=>{(function i_(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,g=n?n.value:null,C=e?e.getContext(t.value.outlet):null;if(g&&u.routeConfig===g.routeConfig){const w=function s_(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!v4(t.url,n.url);case"pathParamsOrQueryParamsChange":return!v4(t.url,n.url)||!Ir(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!t6(t,n)||!Ir(t.queryParams,n.queryParams);default:return!t6(t,n)}}(g,u,u.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new qd(i)):(u.data=g.data,u._resolvedData=g._resolvedData),ul(t,n,u.component?C?C.children:null:e,i,a),w&&C&&C.outlet&&C.outlet.isActivated&&a.canDeactivateChecks.push(new ll(C.outlet.component,g))}else g&&fl(n,C,a),a.canActivateChecks.push(new qd(i)),ul(t,null,u.component?C?C.children:null:e,i,a)})(g,u[g.value.outlet],e,i.concat([g.value]),a),delete u[g.value.outlet]}),w1(u,(g,C)=>fl(g,e.getContext(C),a)),a}function fl(t,n,e){const i=e6(t),a=t.value;w1(i,(u,g)=>{fl(u,a.component?n?n.children.getContext(g):null:n,e)}),e.canDeactivateChecks.push(new ll(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}function dl(t){return"function"==typeof t}function Yd(t){return t instanceof H||"EmptyError"===t?.name}const Jo=Symbol("INITIAL_VALUE");function y4(){return Gt(t=>G0(t.map(n=>n.pipe(q(1),function Yp(...t){const n=(0,qn.yG)(t);return(0,U2.e)((e,i)=>{(n?O5(t,e,n):O5(t,e)).subscribe(i)})}(Jo)))).pipe((0,Ze.U)(n=>{for(const e of n)if(!0!==e){if(e===Jo)return Jo;if(!1===e||e instanceof m4)return e}return!0}),x(n=>n!==Jo),q(1)))}function Sg(t){return(0,ld.z)((0,b1.b)(n=>{if(Tr(n))throw cu(0,n)}),(0,Ze.U)(n=>!0===n))}const fu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jd(t,n,e,i,a){const u=du(t,n,e);return u.matched?function d_(t,n,e,i){const a=n.canMatch;return a&&0!==a.length?Ue(a.map(g=>{const C=n6(g,t);return li(function pl(t){return t&&dl(t.canMatch)}(C)?C.canMatch(n,e):t.runInContext(()=>C(n,e)))})).pipe(y4(),Sg()):Ue(!0)}(i=Bd(n,i),n,e).pipe((0,Ze.U)(g=>!0===g?u:{...fu})):Ue(u)}function du(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...fu}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(n.matcher||Xp)(e,t,n);if(!a)return{...fu};const u={};w1(a.posParams,(C,w)=>{u[w]=C.path});const g=a.consumed.length>0?{...u,...a.consumed[a.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function hu(t,n,e,i,a="corrected"){if(e.length>0&&function e9(t,n,e){return e.some(i=>_n(t,n,i)&&ir(i)!==It)}(t,e,i)){const g=new Pt(n,function Xd(t,n,e,i){const a={};a[It]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const u of e)if(""===u.path&&ir(u)!==It){const g=new Pt([],{});g._sourceSegment=t,g._segmentIndexShift=n.length,a[ir(u)]=g}return a}(t,n,i,new Pt(e,t.children)));return g._sourceSegment=t,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function h_(t,n,e){return e.some(i=>_n(t,n,i))}(t,e,i)){const g=new Pt(t.segments,function Lg(t,n,e,i,a,u){const g={};for(const C of i)if(_n(t,e,C)&&!a[ir(C)]){const w=new Pt([],{});w._sourceSegment=t,w._segmentIndexShift="legacy"===u?t.segments.length:n.length,g[ir(C)]=w}return{...a,...g}}(t,n,e,i,t.children,a));return g._sourceSegment=t,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:e}}const u=new Pt(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:e}}function _n(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function t9(t,n,e,i){return!!(ir(t)===i||i!==It&&_n(n,e,t))&&("**"===t.path||du(n,t,e).matched)}function ml(t,n,e){return 0===n.length&&!t.children[e]}const vl=!1;class sn{constructor(n){this.segmentGroup=n||null}}class n9{constructor(n){this.urlTree=n}}function M4(t){return Bo(new sn(t))}function r9(t){return Bo(new n9(t))}class s9{constructor(n,e,i,a,u){this.injector=n,this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=u,this.allowRedirects=!0}apply(){const n=hu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,It).pipe((0,Ze.U)(u=>this.createUrlTree(tl(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dr(u=>{if(u instanceof n9)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof sn?this.noMatchError(u):u}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,It).pipe((0,Ze.U)(a=>this.createUrlTree(tl(a),n.queryParams,n.fragment))).pipe(Dr(a=>{throw a instanceof sn?this.noMatchError(a):a}))}noMatchError(n){return new c.vHH(4002,vl)}createUrlTree(n,e,i){const a=G5(n);return new m4(a,e,i)}expandSegmentGroup(n,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,Ze.U)(u=>new Pt([],u))):this.expandSegment(n,i,e,i.segments,a,!0)}expandChildren(n,e,i){const a=[];for(const u of Object.keys(i.children))"primary"===u?a.unshift(u):a.push(u);return(0,r2.D)(a).pipe(rs(u=>{const g=i.children[u],C=uu(e,u);return this.expandSegmentGroup(n,C,g,u).pipe((0,Ze.U)(w=>({segment:w,outlet:u})))}),dt((u,g)=>(u[g.outlet]=g.segment,u),{}),W0())}expandSegment(n,e,i,a,u,g){return(0,r2.D)(i).pipe(rs(C=>this.expandSegmentAgainstRoute(n,e,i,C,a,u,g).pipe(Dr(S=>{if(S instanceof sn)return Ue(null);throw S}))),Je(C=>!!C),Dr((C,w)=>{if(Yd(C))return ml(e,a,u)?Ue(new Pt([],{})):M4(e);throw C}))}expandSegmentAgainstRoute(n,e,i,a,u,g,C){return t9(a,e,u,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,u,g):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,a,u,g):M4(e):M4(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,a,u,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,u,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,a){const u=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?r9(u):this.lineralizeSegments(i,u).pipe((0,rn.z)(g=>{const C=new Pt(g,{});return this.expandSegment(n,C,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,u,g){const{matched:C,consumedSegments:w,remainingSegments:S,positionalParamSegments:k}=du(e,a,u);if(!C)return M4(e);const N=this.applyRedirectCommands(w,a.redirectTo,k);return a.redirectTo.startsWith("/")?r9(N):this.lineralizeSegments(a,N).pipe((0,rn.z)(Z=>this.expandSegment(n,e,i,Z.concat(S),g,!1)))}matchSegmentAgainstRoute(n,e,i,a,u){return"**"===i.path?(n=Bd(i,n),i.loadChildren?(i._loadedRoutes?Ue({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe((0,Ze.U)(C=>(i._loadedRoutes=C.routes,i._loadedInjector=C.injector,new Pt(a,{})))):Ue(new Pt(a,{}))):Jd(e,i,a,n).pipe(Gt(({matched:g,consumedSegments:C,remainingSegments:w})=>g?this.getChildConfig(n=i._injector??n,i,a).pipe((0,rn.z)(k=>{const N=k.injector??n,Z=k.routes,{segmentGroup:re,slicedSegments:we}=hu(e,C,w,Z),Pe=new Pt(re.segments,re.children);if(0===we.length&&Pe.hasChildren())return this.expandChildren(N,Z,Pe).pipe((0,Ze.U)(E1=>new Pt(C,E1)));if(0===Z.length&&0===we.length)return Ue(new Pt(C,{}));const wt=ir(i)===u;return this.expandSegment(N,Pe,Z,we,wt?It:u,!0).pipe((0,Ze.U)(Xt=>new Pt(C.concat(Xt.segments),Xt.children)))})):M4(e)))}getChildConfig(n,e,i){return e.children?Ue({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Ue({routes:e._loadedRoutes,injector:e._loadedInjector}):function f_(t,n,e,i){const a=n.canLoad;return void 0===a||0===a.length?Ue(!0):Ue(a.map(g=>{const C=n6(g,t);return li(function c_(t){return t&&dl(t.canLoad)}(C)?C.canLoad(n,e):t.runInContext(()=>C(n,e)))})).pipe(y4(),Sg())}(n,e,i).pipe((0,rn.z)(a=>a?this.configLoader.loadChildren(n,e).pipe((0,b1.b)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function pu(t){return Bo(Fd(vl,3))}())):Ue({routes:[],injector:n})}lineralizeSegments(n,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return Ue(i);if(a.numberOfChildren>1||!a.children[It])return Bo(new c.vHH(4e3,vl));a=a.children[It]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,a){const u=this.createSegmentGroup(n,e.root,i,a);return new m4(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return w1(n,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const C=a.substring(1);i[u]=e[C]}else i[u]=a}),i}createSegmentGroup(n,e,i,a){const u=this.createSegments(n,e.segments,i,a);let g={};return w1(e.children,(C,w)=>{g[w]=this.createSegmentGroup(n,C,i,a)}),new Pt(u,g)}createSegments(n,e,i,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,a):this.findOrReturn(u,i))}findPosParam(n,e,i){const a=i[e.path.substring(1)];if(!a)throw new c.vHH(4001,vl);return a}findOrReturn(n,e){let i=0;for(const a of e){if(a.path===n.path)return e.splice(i),a;i++}return n}}class o9{}class Ig{constructor(n,e,i,a,u,g,C,w){this.injector=n,this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=u,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=C,this.urlSerializer=w}recognize(){const n=hu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,It).pipe((0,Ze.U)(e=>{if(null===e)return null;const i=new sl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Zi(i,e),u=new ru(this.url,a);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(n){const e=n.value,i=Pd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,a)}processChildren(n,e,i){return(0,r2.D)(Object.keys(i.children)).pipe(rs(a=>{const u=i.children[a],g=uu(e,a);return this.processSegmentGroup(n,g,u,a)}),dt((a,u)=>a&&u?(a.push(...u),a):null),function Qp(t,n=!1){return(0,U2.e)((e,i)=>{let a=0;e.subscribe((0,jt.x)(i,u=>{const g=t(u,a++);(g||n)&&i.next(u),!g&&i.complete()}))})}(a=>null!==a),J(null),W0(),(0,Ze.U)(a=>{if(null===a)return null;const u=_l(a);return function gu(t){t.sort((n,e)=>n.value.outlet===It?-1:e.value.outlet===It?1:n.value.outlet.localeCompare(e.value.outlet))}(u),u}))}processSegment(n,e,i,a,u){return(0,r2.D)(e).pipe(rs(g=>this.processSegmentAgainstRoute(g._injector??n,g,i,a,u)),Je(g=>!!g),Dr(g=>{if(Yd(g))return ml(i,a,u)?Ue([]):Ue(null);throw g}))}processSegmentAgainstRoute(n,e,i,a,u){if(e.redirectTo||!t9(e,i,a,u))return Ue(null);let g;if("**"===e.path){const C=a.length>0?K0(a).parameters:{},w=Tg(i)+a.length;g=Ue({snapshot:new sl(a,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f9(e),ir(e),e.component??e._loadedComponent??null,e,l9(i),w,d9(e),w),consumedSegments:[],remainingSegments:[]})}else g=Jd(i,e,a,n).pipe((0,Ze.U)(({matched:C,consumedSegments:w,remainingSegments:S,parameters:k})=>{if(!C)return null;const N=Tg(i)+w.length;return{snapshot:new sl(w,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f9(e),ir(e),e.component??e._loadedComponent??null,e,l9(i),N,d9(e),N),consumedSegments:w,remainingSegments:S}}));return g.pipe(Gt(C=>{if(null===C)return Ue(null);const{snapshot:w,consumedSegments:S,remainingSegments:k}=C;n=e._injector??n;const N=e._loadedInjector??n,Z=function ss(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:re,slicedSegments:we}=hu(i,S,k,Z.filter(wt=>void 0===wt.redirectTo),this.relativeLinkResolution);if(0===we.length&&re.hasChildren())return this.processChildren(N,Z,re).pipe((0,Ze.U)(wt=>null===wt?null:[new Zi(w,wt)]));if(0===Z.length&&0===we.length)return Ue([new Zi(w,[])]);const Pe=ir(e)===u;return this.processSegment(N,Z,re,we,Pe?It:u).pipe((0,Ze.U)(wt=>null===wt?null:[new Zi(w,wt)]))}))}}function a9(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function _l(t){const n=[],e=new Set;for(const i of t){if(!a9(i)){n.push(i);continue}const a=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):n.push(i)}for(const i of e){const a=_l(i.children);n.push(new Zi(i.value,a))}return n.filter(i=>!e.has(i))}function l9(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Tg(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function f9(t){return t.data||{}}function d9(t){return t.resolve||{}}function kg(t){return"string"==typeof t.title||null===t.title}function i6(t){return Gt(n=>{const e=t(n);return e?(0,r2.D)(e).pipe((0,Ze.U)(()=>n)):Ue(n)})}let mu=(()=>{class t{buildTitle(e){let i,a=e.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(u=>u.outlet===It);return i}getResolvedTitleForRoute(e){return e.data[jo]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(vu)},providedIn:"root"}),t})(),vu=(()=>{class t extends mu{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Ns))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class m9{}class Cl extends class v9{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const s6=new c.OlP("",{providedIn:"root",factory:()=>({})}),Ml=new c.OlP("ROUTES");let bl=(()=>{class t{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ue(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=li(e.loadComponent()).pipe((0,b1.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),$a(()=>{this.componentLoaders.delete(e)})),a=new F5(i,()=>new K1.x).pipe(R5());return this.componentLoaders.set(e,a),a}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ue({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ze.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(i);let w,S,k=!1;Array.isArray(C)?S=C:(w=C.create(e).injector,S=fd(w.get(Ml,[],c.XFs.Self|c.XFs.Optional)));return{routes:S.map(al),injector:w}}),$a(()=>{this.childrenLoaders.delete(i)})),g=new F5(u,()=>new K1.x).pipe(R5());return this.childrenLoaders.set(i,g),g}loadModuleFactoryOrRoutes(e){return li(e()).pipe((0,rn.z)(i=>i instanceof c.YKP||Array.isArray(i)?Ue(i):(0,r2.D)(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(c.zs3),c.LFG(c.Sil))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Rg{}class Fg{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function g_(t){throw t}function C9(t,n,e){return n.parse("/")}const Ug={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $g(){const t=(0,c.f3M)(md),n=(0,c.f3M)(Ko),e=(0,c.f3M)(Me),i=(0,c.f3M)(c.zs3),a=(0,c.f3M)(c.Sil),u=(0,c.f3M)(Ml,{optional:!0})??[],g=(0,c.f3M)(s6,{optional:!0})??{},C=(0,c.f3M)(vu),w=(0,c.f3M)(mu,{optional:!0}),S=(0,c.f3M)(Rg,{optional:!0}),k=(0,c.f3M)(m9,{optional:!0}),N=new w2(null,t,n,e,i,a,fd(u));return S&&(N.urlHandlingStrategy=S),k&&(N.routeReuseStrategy=k),N.titleStrategy=w??C,function jg(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(g,N),N}let w2=(()=>{class t{constructor(e,i,a,u,g,C,w){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new K1.x,this.errorHandler=g_,this.malformedUriErrorHandler=C9,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ue(void 0),this.urlHandlingStrategy=new Fg,this.routeReuseStrategy=new Cl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=g.get(bl),this.configLoader.onLoadEndListener=Z=>this.triggerEvent(new Dd(Z)),this.configLoader.onLoadStartListener=Z=>this.triggerEvent(new Ad(Z)),this.ngModule=g.get(c.h0i),this.console=g.get(c.c2e);const N=g.get(c.R0b);this.isNgZoneEnabled=N instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function dd(){return new m4(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tu(this.currentUrlTree,this.rootComponentType),this.transitions=new Ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(x(a=>0!==a.id),(0,Ze.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Gt(a=>{let u=!1,g=!1;return Ue(a).pipe((0,b1.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.rawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gt(C=>{const w=this.browserUrlTree.toString(),S=!this.navigated||C.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return Gg(C.source)&&(this.browserUrlTree=C.extractedUrl),Ue(C).pipe(Gt(N=>{const Z=this.transitions.getValue();return i.next(new Xa(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),Z!==this.transitions.getValue()?P.E:Promise.resolve(N)}),function Ag(t,n,e,i){return Gt(a=>function i9(t,n,e,i,a){return new s9(t,n,e,i,a).apply()}(t,n,e,a.extractedUrl,i).pipe((0,Ze.U)(u=>({...a,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,b1.b)(N=>{this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects},a.urlAfterRedirects=N.urlAfterRedirects}),function Ng(t,n,e,i,a,u){return(0,rn.z)(g=>function c9(t,n,e,i,a,u,g="emptyOnly",C="legacy"){return new Ig(t,n,e,i,a,g,C,u).recognize().pipe(Gt(w=>null===w?function Dg(t){return new F2.y(n=>n.error(t))}(new o9):Ue(w)))}(t,n,e,g.urlAfterRedirects,i.serialize(g.urlAfterRedirects),i,a,u).pipe((0,Ze.U)(C=>({...g,targetSnapshot:C}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,b1.b)(N=>{if(a.targetSnapshot=N.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(re,N)}this.browserUrlTree=N.urlAfterRedirects}const Z=new dg(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);i.next(Z)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Z,extractedUrl:re,source:we,restoredState:Pe,extras:wt}=C,Tt=new Xa(Z,this.serializeUrl(re),we,Pe);i.next(Tt);const Xt=tu(re,this.rootComponentType).snapshot;return Ue(a={...C,targetSnapshot:Xt,urlAfterRedirects:re,extras:{...wt,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=C.rawUrl,C.resolve(null),P.E}),(0,b1.b)(C=>{const w=new Sd(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(w)}),(0,Ze.U)(C=>a={...C,guards:r_(C.targetSnapshot,C.currentSnapshot,this.rootContexts)}),function Hg(t,n){return(0,rn.z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:g}}=e;return 0===g.length&&0===u.length?Ue({...e,guardsResult:!0}):function Qd(t,n,e,i){return(0,r2.D)(t).pipe((0,rn.z)(a=>function xg(t,n,e,i,a){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return u&&0!==u.length?Ue(u.map(C=>{const w=Qo(n)??a,S=n6(C,w);return li(function Zd(t){return t&&dl(t.canDeactivate)}(S)?S.canDeactivate(t,n,e,i):w.runInContext(()=>S(t,n,e,i))).pipe(Je())})).pipe(y4()):Ue(!0)}(a.component,a.route,e,n,i)),Je(a=>!0!==a,!0))}(g,i,a,t).pipe((0,rn.z)(C=>C&&function o_(t){return"boolean"==typeof t}(C)?function l_(t,n,e,i){return(0,r2.D)(n).pipe(rs(a=>O5(function Vg(t,n){return null!==t&&n&&n(new hg(t)),Ue(!0)}(a.route.parent,i),function u_(t,n){return null!==t&&n&&n(new Td(t)),Ue(!0)}(a.route,i),function gl(t,n,e){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(g=>function Wd(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(g)).filter(g=>null!==g).map(g=>ad(()=>Ue(g.guards.map(w=>{const S=Qo(g.node)??e,k=n6(w,S);return li(function a_(t){return t&&dl(t.canActivateChild)}(k)?k.canActivateChild(i,t):S.runInContext(()=>k(i,t))).pipe(Je())})).pipe(y4())));return Ue(u).pipe(y4())}(t,a.path,e),function zg(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Ue(!0);const a=i.map(u=>ad(()=>{const g=Qo(n)??e,C=n6(u,g);return li(function hl(t){return t&&dl(t.canActivate)}(C)?C.canActivate(n,t):g.runInContext(()=>C(n,t))).pipe(Je())}));return Ue(a).pipe(y4())}(t,a.route,e))),Je(a=>!0!==a,!0))}(i,u,t,n):Ue(C)),(0,Ze.U)(C=>({...e,guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),(0,b1.b)(C=>{if(a.guardsResult=C.guardsResult,Tr(C.guardsResult))throw cu(0,C.guardsResult);const w=new J5(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(w)}),x(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,"",3),!1)),i6(C=>{if(C.guards.canActivateChecks.length)return Ue(C).pipe((0,b1.b)(w=>{const S=new Ld(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),Gt(w=>{let S=!1;return Ue(w).pipe(function h9(t,n){return(0,rn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return Ue(e);let u=0;return(0,r2.D)(a).pipe(rs(g=>function p_(t,n,e,i){const a=t.routeConfig,u=t._resolve;return void 0!==a?.title&&!kg(a)&&(u[jo]=a.title),function p9(t,n,e,i){const a=function Pg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===a.length)return Ue({});const u={};return(0,r2.D)(a).pipe((0,rn.z)(g=>function g9(t,n,e,i){const a=Qo(n)??i,u=n6(t,a);return li(u.resolve?u.resolve(n,e):a.runInContext(()=>u(n,e)))}(t[g],n,e,i).pipe(Je(),(0,b1.b)(C=>{u[g]=C}))),q0(1),function Jp(t){return(0,Ze.U)(()=>t)}(u),Dr(g=>Yd(g)?P.E:Bo(g)))}(u,t,n,i).pipe((0,Ze.U)(g=>(t._resolvedData=g,t.data=Pd(t,e).resolve,a&&kg(a)&&(t.data[jo]=a.title),null)))}(g.route,i,t,n)),(0,b1.b)(()=>u++),q0(1),(0,rn.z)(g=>u===a.length?Ue(e):P.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,b1.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,b1.b)(w=>{const S=new Ed(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),i6(C=>{const w=S=>{const k=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&k.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,b1.b)(N=>{S.component=N}),(0,Ze.U)(()=>{})));for(const N of S.children)k.push(...w(N));return k};return G0(w(C.targetSnapshot.root)).pipe(J(),q(1))}),i6(()=>this.afterPreactivation()),(0,Ze.U)(C=>{const w=function Od(t,n,e){const i=Zo(t,n._root,e?e._root:void 0);return new mg(i,n)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return a={...C,targetRouterState:w}}),(0,b1.b)(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((t,n,e)=>(0,Ze.U)(i=>(new Gd(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),(0,b1.b)({next(){u=!0},complete(){u=!0}}),$a(()=>{u||g||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Dr(C=>{if(g=!0,C4(C)){au(C)||(this.navigated=!0,this.restoreHistory(a,!0));const w=new il(a.id,this.serializeUrl(a.extractedUrl),C.message,C.cancellationCode);if(i.next(w),au(C)){const S=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree),k={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gg(a.source)};this.scheduleNavigation(S,"imperative",null,k,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new xd(a.id,this.serializeUrl(a.extractedUrl),C,a.targetSnapshot??void 0);i.next(w);try{a.resolve(this.errorHandler(C))}catch(S){a.reject(S)}}return P.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const a={replaceUrl:!0},u=e.state?.navigationId?e.state:null;if(u){const C={...u};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(a.state=C)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(al),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:u,fragment:g,queryParamsHandling:C,preserveFragment:w}=i,S=a||this.routerState.root,k=w?this.currentUrlTree.fragment:g;let N=null;switch(C){case"merge":N={...this.currentUrlTree.queryParams,...u};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),W5(S,this.currentUrlTree,e,N,k??null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Tr(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function m_(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?{...Ug}:!1===i?{...Bg}:i,Tr(e))return pd(this.currentUrlTree,e,a);const u=this.parseUrl(e);return pd(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const u=e[a];return null!=u&&(i[a]=u),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new _4(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,u,g){if(this.disposed)return Promise.resolve(!1);let C,w,S;g?(C=g.resolve,w=g.reject,S=g.promise):S=new Promise((Z,re)=>{C=Z,w=re});const k=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),N=a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):N=0,this.setTransition({id:k,targetPageId:N,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:C,reject:w,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(Z=>Promise.reject(Z))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),u={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,a){const u=new il(e.id,this.serializeUrl(e.extractedUrl),i,a);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){c.$Z()},t.\u0275prov=c.Yz7({token:t,factory:function(){return $g()},providedIn:"root"}),t})();function Gg(t){return"imperative"!==t}class M9{}let b9=(()=>{class t{constructor(e,i,a,u,g){this.router=e,this.injector=a,this.preloadingStrategy=u,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(x(e=>e instanceof _4),rs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,e,`Route: ${u.path}`));const g=u._injector??e,C=u._loadedInjector??g;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?a.push(this.preloadConfig(g,u)):(u.children||u._loadedRoutes)&&a.push(this.processRoutes(C,u.children??u._loadedRoutes))}return(0,r2.D)(a).pipe((0,ja.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ue(null);const u=a.pipe((0,rn.z)(g=>null===g?Ue(void 0):(i._loadedRoutes=g.routes,i._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(i.loadComponent&&!i._loadedComponent){const g=this.loader.loadComponent(i);return(0,r2.D)([u,g]).pipe((0,ja.J)())}return u})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(w2),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(M9),c.LFG(bl))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const o6=new c.OlP("");let Hl=(()=>{class t{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Xa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _4&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof X5&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new X5(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){c.$Z()},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();function Yi(t,n){return{\u0275kind:t,\u0275providers:n}}function H9(t){return[{provide:Ml,multi:!0,useValue:t}]}function Zg(){const t=(0,c.f3M)(c.zs3);return n=>{const e=t.get(c.z2F);if(n!==e.components[0])return;const i=t.get(w2),a=t.get(Kg);1===t.get(xl)&&i.initialNavigation(),t.get(V9,null,c.XFs.Optional)?.setUpPreloading(),t.get(o6,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const Kg=new c.OlP("",{factory:()=>new K1.x}),xl=new c.OlP("",{providedIn:"root",factory:()=>1});const V9=new c.OlP("");function z9(t){return Yi(0,[{provide:V9,useExisting:b9},{provide:M9,useExisting:t}])}const x9=new c.OlP("ROUTER_FORROOT_GUARD"),S9=[Me,{provide:md,useClass:J0},{provide:w2,useFactory:$g},Ko,{provide:Pr,useFactory:function zl(t){return t.routerState.root},deps:[w2]},bl];function yu(){return new c.PXZ("Router",w2)}let em=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[S9,[],H9(e),{provide:x9,useFactory:nm,deps:[[w2,new c.FiY,new c.tp0]]},{provide:s6,useValue:i||{}},i?.useHash?{provide:de,useClass:st}:{provide:de,useClass:Ge},{provide:o6,useFactory:()=>{const t=(0,c.f3M)(w2),n=(0,c.f3M)(n3),e=(0,c.f3M)(s6);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Hl(t,n,e)}},i?.preloadingStrategy?z9(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:yu},i?.initialNavigation?__(i):[],[{provide:rm,useFactory:Zg},{provide:c.tb,multi:!0,useExisting:rm}]]}}static forChild(e){return{ngModule:t,providers:[H9(e)]}}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(x9,8))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[lu]}),t})();function nm(t){return"guarded"}function __(t){return["disabled"===t.initialNavigation?Yi(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const n=(0,c.f3M)(w2);return()=>{n.setUpLocationChangeListener()}}},{provide:xl,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Yi(2,[{provide:xl,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:n=>{const e=n.get(U,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(u=>{const g=n.get(w2),C=n.get(Kg);(function a(u){n.get(w2).events.pipe(x(C=>C instanceof _4||C instanceof il||C instanceof xd),(0,Ze.U)(C=>C instanceof _4||C instanceof il&&(0===C.code||1===C.code)&&null),x(C=>null!==C),q(1)).subscribe(()=>{u()})})(()=>{u(!0),i=!0}),g.afterPreactivation=()=>(u(!0),i||C.closed?Ue(void 0):C),g.initialNavigation()}))}}]).\u0275providers:[]]}const rm=new c.OlP("");let b4=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["header"]],decls:19,vars:0,consts:[[1,"main"],[1,"container-fluid","logo-div"],["href","#",1,"navbar-brand"],["src","../../../../assets/LogoNoCircle.svg","alt","Logo",1,"d-inline-block","align-text-top","logo"],[1,"links-div"],[1,"nav"],[1,"item"],["href","courses",1,"link"],["href","about",1,"link"],["href","contact",1,"link"],["href","login"],["href","about",1,"login-button"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"a",2),c._UZ(3,"img",3),c.qZA()(),c.TgZ(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),c._uU(8,"COURSES"),c.qZA()(),c.TgZ(9,"li",6)(10,"a",8),c._uU(11,"ABOUT"),c.qZA()(),c.TgZ(12,"li",6)(13,"a",9),c._uU(14,"CONTACT US"),c.qZA()(),c.TgZ(15,"li",6)(16,"a",10)(17,"button",11),c._uU(18," LOG IN "),c.qZA()()()()()())},styles:['.login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#242572,#2b2fe7);height:9vh}.logo[_ngcontent-%COMP%]{position:relative;width:75px;top:5px}.logo-div[_ngcontent-%COMP%]{margin-left:150px;display:inline}.links-div[_ngcontent-%COMP%]{display:inline;position:relative;top:22px}.nav[_ngcontent-%COMP%]{list-style-type:none;display:inline;float:right;margin-right:150px}.item[_ngcontent-%COMP%]{display:inline;margin-left:75px}.link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px;position:relative}.link[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:#ff570a;height:3px;width:0%;left:0;bottom:0;top:17px;transition:.3s}.link[_ngcontent-%COMP%]:hover:after{width:100%}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 1919px){.main[_ngcontent-%COMP%]{display:none}}']}),t})(),y_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["about-page"]],decls:18,vars:0,consts:[[1,"main"],[1,"page-container"],[1,"left-div"],[1,"page-title"],[1,"site-description"],["href","courses"],[1,"login-button"],[1,"right-div"],["src","../../../../assets/AboutArt.svg",1,"about-art"]],template:function(e,i){1&e&&(c._UZ(0,"header"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),c._uU(5,"ABOUT US"),c.qZA(),c._UZ(6,"hr"),c.TgZ(7,"p",4),c._uU(8," Our platform provides an interactive learning experience where students can submit questions and professors can review and approve them for use in quizzes. We believe in empowering students to take control of their education by encouraging them to engage with the material and ask questions. "),c.qZA(),c.TgZ(9,"p",4),c._uU(10," Our platform offers a variety of courses, which can be written by our team of professors or generated with the help of AI. We understand that everyone learns differently, which is why we offer a range of courses to suit different learning styles. "),c.qZA(),c.TgZ(11,"p",4),c._uU(12," Completing quizzes and studying our courses will not only improve your knowledge but also your grade. Our platform is designed to support you in your academic journey and help you achieve your goals. "),c.qZA(),c.TgZ(13,"a",5)(14,"button",6),c._uU(15," CHECK OUT OUR COURSES"),c.qZA()()(),c.TgZ(16,"div",7),c._UZ(17,"img",8),c.qZA()()())},dependencies:[b4],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{background-image:url(Background.4d74e8bb045b39e6.svg);height:91vh;background-size:101vw}.about-art[_ngcontent-%COMP%]{width:1000px;position:relative;bottom:20px}.page-title[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:65px;letter-spacing:1px;margin-bottom:0;color:#242582}.site-description[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;margin-bottom:20px;color:#242582}hr[_ngcontent-%COMP%]{width:250px;margin-left:0;margin-bottom:50px;border-width:3px;border-color:#242582;border-radius:25px}.left-div[_ngcontent-%COMP%]{display:inline-block;width:40%;margin-left:150px;position:relative;top:75px}.right-div[_ngcontent-%COMP%], .page-container[_ngcontent-%COMP%]{display:inline-block}.login-button[_ngcontent-%COMP%]{width:300px;height:60px;margin-top:20px}.login-a[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})(),M_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-changelog-page"]],decls:41,vars:0,consts:[[1,"main"],["id","accordionPanelsStayOpenExample",1,"accordion"],[1,"accordion-item"],["id","panelsStayOpen-headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#panelsStayOpen-collapseOne","aria-expanded","true","aria-controls","panelsStayOpen-collapseOne",1,"accordion-button"],["id","panelsStayOpen-collapseOne","aria-labelledby","panelsStayOpen-headingOne",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],["id","panelsStayOpen-headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#panelsStayOpen-collapseTwo","aria-expanded","false","aria-controls","panelsStayOpen-collapseTwo",1,"accordion-button","collapsed"],["id","panelsStayOpen-collapseTwo","aria-labelledby","panelsStayOpen-headingTwo",1,"accordion-collapse","collapse"],["id","panelsStayOpen-headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#panelsStayOpen-collapseThree","aria-expanded","false","aria-controls","panelsStayOpen-collapseThree",1,"accordion-button","collapsed"],["id","panelsStayOpen-collapseThree","aria-labelledby","panelsStayOpen-headingThree",1,"accordion-collapse","collapse"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"button",4),c._uU(5," v 0.1 "),c.qZA()(),c.TgZ(6,"div",5)(7,"div",6)(8,"ul")(9,"li"),c._uU(10," Change 1"),c.qZA(),c.TgZ(11,"li"),c._uU(12," Change 2"),c.qZA(),c.TgZ(13,"li"),c._uU(14," Change 3"),c.qZA()()()()(),c.TgZ(15,"div",2)(16,"h2",7)(17,"button",8),c._uU(18," v 0.2 "),c.qZA()(),c.TgZ(19,"div",9)(20,"div",6)(21,"ul")(22,"li"),c._uU(23," Change 1"),c.qZA(),c.TgZ(24,"li"),c._uU(25," Change 2"),c.qZA(),c.TgZ(26,"li"),c._uU(27," Change 3"),c.qZA()()()()(),c.TgZ(28,"div",2)(29,"h2",10)(30,"button",11),c._uU(31," v 0.3 "),c.qZA()(),c.TgZ(32,"div",12)(33,"div",6)(34,"ul")(35,"li"),c._uU(36," Change 1"),c.qZA(),c.TgZ(37,"li"),c._uU(38," Change 2"),c.qZA(),c.TgZ(39,"li"),c._uU(40," Change 3"),c.qZA()()()()()()())},styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#242582,#2b2ff7);height:100vh;padding:25px}"]}),t})(),b_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["contact-form"]],decls:22,vars:0,consts:[[1,"mb-3"],["for","firstNameInput",1,"form-label"],["type","text","id","firstNameInput","placeholder","John",1,"form-control"],["type","text","id","firstNameInput","placeholder","Smith",1,"form-control"],["for","emailInput",1,"form-label"],["type","email","id","emailInput","placeholder","name@example.com",1,"form-control"],["for","messageInput",1,"form-label"],["id","messageInput","placeholder","I love this eLearning Platform!","rows","3",1,"form-control"],[1,"alert",2,"visibility","hidden"],[1,"mb-3","button-div"],["type","submit","href","",1,"login-button"]],template:function(e,i){1&e&&(c.TgZ(0,"form")(1,"div",0)(2,"label",1),c._uU(3,"First Name"),c.qZA(),c._UZ(4,"input",2),c.qZA(),c.TgZ(5,"div",0)(6,"label",1),c._uU(7,"Last Name"),c.qZA(),c._UZ(8,"input",3),c.qZA(),c.TgZ(9,"div",0)(10,"label",4),c._uU(11,"Email address"),c.qZA(),c._UZ(12,"input",5),c.qZA(),c.TgZ(13,"div",0)(14,"label",6),c._uU(15,"Your Message"),c.qZA(),c._UZ(16,"textarea",7),c.qZA(),c.TgZ(17,"p",8),c._uU(18,"Your Form Has Been Submitted!"),c.qZA(),c.TgZ(19,"div",9)(20,"button",10),c._uU(21,"SUBMIT"),c.qZA()()())},styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.login-button[_ngcontent-%COMP%]{width:200px;height:50px;border-radius:7px;float:right;position:relative;top:-40px}.alert[_ngcontent-%COMP%]{color:#d72638;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:-20px;position:relative;top:25px;font-size:18px}textarea[_ngcontent-%COMP%]{resize:none}label[_ngcontent-%COMP%]{color:#fff}"]}),t})(),w_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["contact-page"]],decls:10,vars:0,consts:[[1,"main"],[1,"page-container"],[1,"left-div"],[1,"page-title"],[1,"right-div"],["src","../../../../assets/ContactArt.svg",1,"contact-art"]],template:function(e,i){1&e&&(c._UZ(0,"header"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),c._uU(5,"CONTACT US"),c.qZA(),c._UZ(6,"hr")(7,"contact-form"),c.qZA(),c.TgZ(8,"div",4),c._UZ(9,"img",5),c.qZA()()())},dependencies:[b4,b_],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:91vh;background-image:url(InvertedBackground.64e775a2f2d31b2e.svg);background-size:101%;background-position-y:-1px}.page-title[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:65px;letter-spacing:1px;margin-bottom:0;color:#fff}.left-div[_ngcontent-%COMP%]{display:inline-block;width:40%;margin-left:150px;position:relative;top:75px}.right-div[_ngcontent-%COMP%]{display:inline-block}hr[_ngcontent-%COMP%]{width:250px;margin-left:0;margin-bottom:50px;border-width:3px;border-color:#fff;border-radius:25px}.contact-art[_ngcontent-%COMP%]{width:700px;position:relative;bottom:100px;right:-15vw}"]}),t})(),w4=(()=>{class t{constructor(e){this.db=e,this.courses$=this.db.list("/course").valueChanges()}getAllCourses(){return this.courses$}getCorrespondingProfessorName(e){return this.db.list("/user").valueChanges().pipe((0,Ze.U)(i=>i.find(a=>a.id===parseInt(e)).firstName+" "+i.find(a=>a.id===parseInt(e)).lastName))}getQuizAmount(e){return this.db.list("/quiz").valueChanges().pipe((0,Ze.U)(a=>a.filter(g=>g.courseId===e).length))}getLectureAmount(e){return this.db.list("/lecture").valueChanges().pipe((0,Ze.U)(a=>a.filter(g=>g.courseId===e).length))}getEnrolledCoursesForUserId(e){return this.db.list("/enrolled").valueChanges().pipe(Gt(i=>G0(i.filter(g=>g.studentId===e).map(g=>g.courseId).map(g=>this.getCourseById(g))).pipe((0,Ze.U)(g=>g.flat()))))}getOtherCoursesForUserId(e){return G0([this.getAllCourses(),this.getEnrolledCoursesForUserId(e)]).pipe((0,Ze.U)(([i,a])=>{const u=a.map(g=>g.id);return i.filter(g=>!u.includes(g.id))}))}getProfessorCourses(e){return this.getAllCourses().pipe((0,Ze.U)(i=>i.filter(a=>a.professorId===e)))}getUserById(e){return this.db.list("user",a=>a.orderByChild("id").equalTo(e)).valueChanges()}getCourseById(e){return this.db.list("course",a=>a.orderByChild("id").equalTo(e)).valueChanges()}getProfessorNameById(e){return new F2.y(i=>{this.db.list("user",u=>u.orderByChild("id").equalTo(e)).valueChanges().subscribe(u=>{const g=u[0].title+" "+u[0].firstName+" "+u[0].lastName;console.log(g),i.next(g),i.complete()})})}getLecturesForCurrentCourse(e){return this.db.list("lecture",i=>i.orderByChild("courseId").equalTo(e)).valueChanges()}enrollInCourse(e,i){const a={courseId:e,studentId:i};this.db.list("/enrolled").push(a).then(()=>{console.log("Enrollment successful")}).catch(u=>{console.error("Enrollment failed:",u)})}addLecture(e){this.db.list("/lecture").push(e)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sm=(()=>{class t{constructor(e){this.courseService=e}ngOnInit(){this.courseService.getCorrespondingProfessorName(this.professorId).subscribe(e=>{this.professorName=e}),this.courseService.getQuizAmount(parseInt(this.courseId)).subscribe(e=>{this.quizNumber=e}),this.courseService.getLectureAmount(parseInt(this.courseId)).subscribe(e=>{this.lectureNumber=e})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(w4))},t.\u0275cmp=c.Xpm({type:t,selectors:[["course-card"]],inputs:{professorId:"professorId",courseName:"courseName",lectureNumber:"lectureNumber",quizNumber:"quizNumber",courseImage:"courseImage",courseId:"courseId"},decls:8,vars:5,consts:[[1,"main"],[1,"professor"],[1,"course"],[1,"data"],[1,"image",3,"src"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"h3",1),c._uU(2),c.qZA(),c.TgZ(3,"h2",2),c._uU(4),c.qZA(),c.TgZ(5,"p",3),c._uU(6),c.qZA(),c._UZ(7,"img",4),c.qZA()),2&e&&(c.xp6(2),c.hij(" ",i.professorName," "),c.xp6(2),c.hij(" ",i.courseName," "),c.xp6(2),c.AsE(" ",i.lectureNumber," lectures | ",i.quizNumber," quizzes "),c.xp6(1),c.s9C("src",i.courseImage,c.LSH))},styles:[".main[_ngcontent-%COMP%]{text-align:center;padding:20px 0;height:425px;border-radius:25px;position:relative}.image[_ngcontent-%COMP%]{width:250px;position:absolute;left:175px;bottom:5px}.professor[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:20px;margin-top:10px;text-align:left;margin-left:35px;color:#fff}.course[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-top:50px;font-size:40px;max-height:140px;overflow:hidden;color:#fff;margin-bottom:0;text-align:left;margin-left:35px;padding-right:35px}.data[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#fff;text-align:left;margin-left:35px;margin-top:20px}"]}),t})();function H_(t,n){if(1&t&&c._UZ(0,"course-card",4),2&t){const e=n.$implicit;c.s9C("courseId",e.id),c.s9C("professorId",e.professorId),c.s9C("courseName",e.name),c.s9C("courseImage",e.courseImage)}}let V_=(()=>{class t{constructor(e,i){this.courseService=e,this.db=i}ngOnInit(){this.courses$=this.courseService.getAllCourses()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(w4),c.Y36(Tn))},t.\u0275cmp=c.Xpm({type:t,selectors:[["courses-page"]],decls:9,vars:3,consts:[[1,"main"],[1,"page-title"],[1,"container"],["class","course-card",3,"courseId","professorId","courseName","courseImage",4,"ngFor","ngForOf"],[1,"course-card",3,"courseId","professorId","courseName","courseImage"]],template:function(e,i){1&e&&(c._UZ(0,"header"),c.TgZ(1,"div",0)(2,"div")(3,"h1",1),c._uU(4,"COURSES"),c.qZA(),c._UZ(5,"hr"),c.TgZ(6,"div",2),c.YNc(7,H_,1,4,"course-card",3),c.ALo(8,"async"),c.qZA()()()),2&e&&(c.xp6(7),c.Q6J("ngForOf",c.lcZ(8,1,i.courses$)))},dependencies:[u1,b4,sm,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%;background-attachment:fixed;background-repeat:no-repeat}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:30px;padding:10px;margin-top:100px;overflow:scroll}.page-title[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:65px;letter-spacing:1px;margin-bottom:0;color:#242582;position:relative;top:50px;text-align:center}hr[_ngcontent-%COMP%]{width:250px;border-width:3px;border-color:#242582;border-radius:25px;position:relative;top:50px;margin-left:auto;margin-right:auto}.course-card[_ngcontent-%COMP%]:nth-child(4n+1){background-color:#d72638}.course-card[_ngcontent-%COMP%]:nth-child(4n+2){background-color:#2f2fa2}.course-card[_ngcontent-%COMP%]:nth-child(4n+3){background-color:#ff570a}.course-card[_ngcontent-%COMP%]:nth-child(4n+4){background-color:#92b4f4}.course-card[_ngcontent-%COMP%]{border-radius:25px;margin-bottom:25px;transition:all .2s ease-in-out}.course-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]}),t})(),om=(()=>{class t{constructor(e){this.db=e}ngOnInit(){console.log("Test"),this.courses$=this.db.list("/course").valueChanges(),this.courses$.subscribe(e=>console.log(e))}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(Tn))},t.\u0275cmp=c.Xpm({type:t,selectors:[["home-page"]],decls:15,vars:0,consts:[[1,"main"],[1,"text-div"],["href","login"],[1,"login-button"],[1,"image-div"],["src","../../../../assets/WelcomeArt.svg",1,"image"],[1,"mobile"]],template:function(e,i){1&e&&(c._UZ(0,"header"),c.TgZ(1,"div",0)(2,"div",1)(3,"h1"),c._uU(4,"Achieve All Your Academic Goals With Our Adaptive e-Learning Technology"),c.qZA(),c.TgZ(5,"h2"),c._uU(6,"Smart Solutions For Smarter Learning"),c.qZA(),c.TgZ(7,"a",2)(8,"button",3),c._uU(9," LOG IN "),c.qZA()()(),c.TgZ(10,"div",4),c._UZ(11,"img",5),c.qZA()(),c.TgZ(12,"div",6)(13,"h1"),c._uU(14,"Not Yet Available For This Device Type :("),c.qZA()())},dependencies:[b4],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#242582,#2b2ff7);height:91vh}.image[_ngcontent-%COMP%]{width:750px;margin-top:175px}.text-div[_ngcontent-%COMP%]{display:inline-block;width:50%;position:relative;top:250px;margin-left:250px;margin-right:-200px}.image-div[_ngcontent-%COMP%]{display:inline-block;margin-right:150px}h1[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:50px;width:60%;color:#fff;margin-bottom:25px}h2[_ngcontent-%COMP%]{font-family:monospace;font-weight:0px;letter-spacing:1px;color:#fff;margin-bottom:50px}.login-button[_ngcontent-%COMP%]{width:200px;height:50px;font-size:20px;margin-top:20px}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 1919px){.main[_ngcontent-%COMP%]{display:none}.mobile[_ngcontent-%COMP%]{display:block!important;background-image:linear-gradient(to left,#242582,#2b2ff7);height:100vh}.mobile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;text-align:center;margin:auto;color:#fff;position:relative;top:45%}}.mobile[_ngcontent-%COMP%]{display:none}"]}),t})(),cm=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.Qsj),c.Y36(c.SBq))},t.\u0275dir=c.lG2({type:t}),t})(),ec=(()=>{class t extends cm{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,features:[c.qOj]}),t})();const r=new c.OlP("NgValueAccessor"),l={provide:r,useExisting:(0,c.Gpc)(()=>v),multi:!0},p=new c.OlP("CompositionEventMode");let v=(()=>{class t extends cm{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function f(){const t=D()?D().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(p,8))},t.\u0275dir=c.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[c._Bn([l]),c.qOj]}),t})();const L=new c.OlP("NgValidators"),A=new c.OlP("NgAsyncValidators");function ke(t){return function M(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function f2(t){return null}function os(t){return null!=t}function Sl(t){return(0,c.QGY)(t)?(0,r2.D)(t):t}function Ll(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function El(t,n){return n.map(e=>e(t))}function Al(t){return t.map(n=>function bu(t){return!t.validate}(n)?n:e=>n.validate(e))}function a6(t){return null!=t?function Dl(t){if(!t)return null;const n=t.filter(os);return 0==n.length?null:function(e){return Ll(El(e,n))}}(Al(t)):null}function l6(t){return null!=t?function Il(t){if(!t)return null;const n=t.filter(os);return 0==n.length?null:function(e){return function z_(...t){const n=(0,qn.jO)(t),{args:e,keys:i}=sd(t),a=new F2.y(u=>{const{length:g}=e;if(!g)return void u.complete();const C=new Array(g);let w=g,S=g;for(let k=0;k<g;k++){let N=!1;(0,Y1.Xf)(e[k]).subscribe((0,jt.x)(u,Z=>{N||(N=!0,S--),C[k]=Z},()=>w--,void 0,()=>{(!w||!N)&&(S||u.next(i?k5(i,C):C),u.complete())}))}});return n?a.pipe(od(n)):a}(El(e,n).map(Sl)).pipe((0,Ze.U)(Ll))}}(Al(t)):null}function x_(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function am(t){return t?Array.isArray(t)?t:[t]:[]}function E9(t,n){return Array.isArray(t)?t.includes(n):t===n}function E_(t,n){const e=am(n);return am(t).forEach(a=>{E9(e,a)||e.push(a)}),e}function A_(t,n){return am(n).filter(e=>!E9(t,e))}class D_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=a6(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=l6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Nn extends D_{get formDirective(){return null}get path(){return null}}class tc extends D_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class I_{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cs=(()=>{class t extends I_{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(tc,2))},t.\u0275dir=c.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),t})(),A9=(()=>{class t extends I_{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(Nn,10))},t.\u0275dir=c.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),t})();const wu="VALID",I9="INVALID",Tl="PENDING",Hu="DISABLED";function dm(t){return(T9(t)?t.validators:t)||null}function N_(t){return Array.isArray(t)?a6(t):t||null}function hm(t,n){return(T9(n)?n.asyncValidators:t)||null}function P_(t){return Array.isArray(t)?l6(t):t||null}function T9(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class R_{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=N_(this._rawValidators),this._composedAsyncValidatorFn=P_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===wu}get invalid(){return this.status===I9}get pending(){return this.status==Tl}get disabled(){return this.status===Hu}get enabled(){return this.status!==Hu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=N_(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=P_(n)}addValidators(n){this.setValidators(E_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(E_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(A_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(A_(n,this._rawAsyncValidators))}hasValidator(n){return E9(this._rawValidators,n)}hasAsyncValidator(n){return E9(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Tl,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Hu,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=wu,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wu||this.status===Tl)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hu:wu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Tl,this._hasOwnPendingAsyncValidator=!0;const e=Sl(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,a)=>i&&i._find(a),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Hu:this.errors?I9:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tl)?Tl:this._anyControlsHaveStatus(I9)?I9:wu}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){T9(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class pm extends R_{constructor(n,e,i){super(dm(e),hm(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function O_(t,n,e){t._forEachChild((i,a)=>{if(void 0===e[a])throw new c.vHH(1002,"")})})(this,0,n),Object.keys(n).forEach(i=>{(function k_(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const a=this.controls[i];a&&a.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,a)=>((i.enabled||this.disabled)&&(e[a]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((a,u)=>{i=e(i,a,u)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function Vu(t,n){gm(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&n.valueAccessor.setDisabledState?.(!0),function hx(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&F_(t,n)})}(t,n),function gx(t,n){const e=(i,a)=>{n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function px(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&F_(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function dx(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function k9(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function gm(t,n){const e=function S_(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(x_(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function L_(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(x_(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const a=()=>t.updateValueAndValidity();k9(n._rawValidators,a),k9(n._rawAsyncValidators,a)}function F_(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const yx={provide:Nn,useExisting:(0,c.Gpc)(()=>Nl)},zu=(()=>Promise.resolve())();let Nl=(()=>{class t extends Nn{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new pm({},a6(e),l6(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Vu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){zu.then(()=>{const i=this._findContainer(e.path),a=new pm({});(function U_(t,n){gm(t,n)})(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){zu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function j_(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(L,10),c.Y36(A,10))},t.\u0275dir=c.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([yx]),c.qOj]}),t})();function $_(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function G_(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const q_=class extends R_{constructor(n=null,e,i){super(dm(e),hm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),T9(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=G_(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){$_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){$_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){G_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},wx={provide:tc,useExisting:(0,c.Gpc)(()=>Qi)},K_=(()=>Promise.resolve())();let Qi=(()=>{class t extends tc{constructor(e,i,a,u,g){super(),this._changeDetectorRef=g,this.control=new q_,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function vm(t,n){if(!n)return null;let e,i,a;return Array.isArray(n),n.forEach(u=>{u.constructor===v?e=u:function _x(t){return Object.getPrototypeOf(t.constructor)===ec}(u)?i=u:a=u}),a||i||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function mm(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){K_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=0!==i&&(0,c.D6c)(i);K_.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function N9(t,n){return[...n.path,t]}(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(Nn,9),c.Y36(L,10),c.Y36(A,10),c.Y36(r,10),c.Y36(c.sBO,8))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([wx]),c.qOj,c.TTD]}),t})(),R9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Q_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),t})();const _m=new c.OlP("NgModelWithFormControlWarning"),Ix={provide:r,useExisting:(0,c.Gpc)(()=>xu),multi:!0};function rC(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let xu=(()=>{class t extends ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const a=rC(this._getOptionId(e),e);this.setProperty("value",a)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Tx(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&c.NdJ("change",function(u){return i.onChange(u.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ix]),c.qOj]}),t})(),bm=(()=>{class t{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(rC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(xu,9))},t.\u0275dir=c.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Nx={provide:r,useExisting:(0,c.Gpc)(()=>wm),multi:!0};function iC(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let wm=(()=>{class t extends ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const a=e.map(u=>this._getOptionId(u));i=(u,g)=>{u._setSelected(a.indexOf(g.toString())>-1)}}else i=(a,u)=>{a._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const a=[],u=i.selectedOptions;if(void 0!==u){const g=u;for(let C=0;C<g.length;C++){const S=this._getOptionValue(g[C].value);a.push(S)}}else{const g=i.options;for(let C=0;C<g.length;C++){const w=g[C];if(w.selected){const S=this._getOptionValue(w.value);a.push(S)}}}this.value=a,e(a)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Px(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("change",function(u){return i.onChange(u.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Nx]),c.qOj]}),t})(),Hm=(()=>{class t{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(iC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(iC(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(wm,9))},t.\u0275dir=c.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),u6=(()=>{class t{constructor(){this._validator=f2}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):f2,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.lG2({type:t,features:[c.TTD]}),t})();const Rx={provide:L,useExisting:(0,c.Gpc)(()=>Su),multi:!0};let Su=(()=>{class t extends u6{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=e=>ke}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Rx]),c.qOj]}),t})(),pC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[Q_]}),t})(),f6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[pC]}),t})(),gC=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:_m,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[pC]}),t})(),qx=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["forgot-password-page"]],decls:20,vars:0,consts:[[1,"main"],[1,"forgot-password-div"],[1,"page-title"],[1,"instruction"],[1,"mb-3"],["type","email","id","emailInput","placeholder","name@example.com",1,"form-control"],[1,"alert",2,"visibility","hidden"],[1,"mb-3","button-div"],["href","login"],["type","submit","href","",1,"login-button"],[1,"go-back"]],template:function(e,i){1&e&&(c._UZ(0,"header"),c.TgZ(1,"div",0)(2,"div",1)(3,"h1",2),c._uU(4," Forgot Password "),c.qZA(),c._UZ(5,"hr"),c.TgZ(6,"form")(7,"p",3),c._uU(8,"Please Enter Your Email Address Below"),c.qZA(),c.TgZ(9,"div",4),c._UZ(10,"input",5),c.qZA(),c.TgZ(11,"p",6),c._uU(12,"If The Address Exists, An Email Has Been Sent!"),c.qZA(),c.TgZ(13,"div",7)(14,"a",8)(15,"button",9),c._uU(16,"RECOVER PASSWORD"),c.qZA()(),c.TgZ(17,"p",10)(18,"a",8),c._uU(19,"Go Back"),c.qZA()()()()()())},dependencies:[b4,R9,A9,Nl],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:91vh;background-image:url(InvertedBackground.64e775a2f2d31b2e.svg);background-position-y:-1px}.forgot-password-div[_ngcontent-%COMP%]{width:25vw;background-color:#fff;padding:35px;border-radius:25px;height:550px;margin-left:auto;margin-right:auto;position:relative;top:15vh;box-shadow:1px 5px 5px #c5c5c591}.page-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:35px;color:#242582}.login-button[_ngcontent-%COMP%]{width:250px;height:60px;display:block;margin:0 auto;border-radius:30px}input[_ngcontent-%COMP%]{outline:0;border-width:0 0 2px;border-color:#d4d4d4;margin-top:35px}form[_ngcontent-%COMP%]{margin-top:50px}.alert[_ngcontent-%COMP%]{text-align:center;color:#d72638;margin-top:75px;margin-bottom:10px}a[_ngcontent-%COMP%]{text-decoration:none}.instruction[_ngcontent-%COMP%]{text-align:center;color:#242582}.go-back[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.go-back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#242582}.go-back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff570a}"]}),t})(),U1=(()=>{class t{constructor(){}createCookie(e,i,a){let u="";if(a){const g=new Date;g.setTime(g.getTime()+24*a*60*60*1e3),u=`; expires=${g.toUTCString()}`}document.cookie=`${e}=${i}${u}; path=/`}getCookie(e){const i=document.cookie.split(";");for(let a=0;a<i.length;a++){const u=i[a].trim();if(u.startsWith(e+"="))return u.substring(e.length+1)}return"null"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wx=(()=>{class t{constructor(e,i,a){this.db=e,this.router=i,this.cookieService=a}ngOnInit(){}login(){this.db.list("/user",e=>e.orderByChild("email").equalTo(this.email).limitToFirst(1)).valueChanges().subscribe(e=>{console.log(e);var i=e;e.length>0&&i[0].password===this.password?(this.router.navigate(["/welcome"]),this.cookieService.createCookie("currentUser",i[0].id,7)):alert("Invalid email or password")})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(Tn),c.Y36(w2),c.Y36(U1))},t.\u0275cmp=c.Xpm({type:t,selectors:[["login-page"]],decls:25,vars:2,consts:[[1,"main"],[1,"login-div"],[1,"page-title"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],["type","email","id","emailInput","placeholder","name@example.com","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","emailInput","placeholder","YourPassword1234","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"forgot-password"],["href","forgot-password",1,"forgot-password-a"],[1,"alert",2,"visibility","hidden"],[1,"mb-3","button-div"],["href","welcome"],["type","submit","href","",1,"login-button"],[1,"register"],["href","register"]],template:function(e,i){1&e&&(c._UZ(0,"header"),c.TgZ(1,"div",0)(2,"div",1)(3,"h1",2),c._uU(4," Login "),c.qZA(),c._UZ(5,"hr"),c.TgZ(6,"form",3,4),c.NdJ("ngSubmit",function(){return i.login()}),c.TgZ(8,"div",5)(9,"input",6),c.NdJ("ngModelChange",function(u){return i.email=u}),c.qZA()(),c.TgZ(10,"div",5)(11,"input",7),c.NdJ("ngModelChange",function(u){return i.password=u}),c.qZA()(),c.TgZ(12,"p",8)(13,"a",9),c._uU(14," Forgot Your Password? "),c.qZA()(),c.TgZ(15,"p",10),c._uU(16,"Your Login Data Is Invalid!"),c.qZA(),c.TgZ(17,"div",11)(18,"a",12)(19,"button",13),c._uU(20,"LOG IN"),c.qZA()()(),c.TgZ(21,"p",14),c._uU(22,"Not a member? "),c.TgZ(23,"a",15),c._uU(24,"Register"),c.qZA()()()()()),2&e&&(c.xp6(9),c.Q6J("ngModel",i.email),c.xp6(2),c.Q6J("ngModel",i.password))},dependencies:[b4,R9,v,cs,A9,Su,Qi,Nl],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:91vh;background-image:url(InvertedBackground.64e775a2f2d31b2e.svg);background-position-y:-1px}.login-div[_ngcontent-%COMP%]{width:25vw;background-color:#fff;padding:35px;border-radius:25px;height:550px;margin-left:auto;margin-right:auto;position:relative;top:15vh;box-shadow:1px 5px 5px #c5c5c591}.page-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:35px;color:#242582}.register[_ngcontent-%COMP%]{text-align:center}.login-button[_ngcontent-%COMP%]{width:200px;height:50px;display:block;margin:0 auto}a[_ngcontent-%COMP%]{text-decoration:none;color:#242582}.forgot-password[_ngcontent-%COMP%]{color:#242582;text-align:center;margin-top:35px;margin-bottom:-15px}input[_ngcontent-%COMP%]{outline:0;border-width:0 0 2px;border-color:#d4d4d4;margin-top:35px}form[_ngcontent-%COMP%]{margin-top:50px}.alert[_ngcontent-%COMP%]{text-align:center;color:#d72638;margin-top:15px;margin-bottom:10px}.forgot-password-a[_ngcontent-%COMP%]:hover, .register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff570a}"]}),t})(),Zx=(()=>{class t{constructor(e){this.db=e}checkIfEmailExists(e){return this.db.list("/user").valueChanges().pipe((0,Ze.U)(i=>!!i.find(u=>u.email===e)),Dr(i=>Ue(!1)))}addUser(e){this.db.list("/user").push(e)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Kx=(()=>{class t{constructor(e,i,a){this.db=e,this.router=i,this.loginService=a}ngOnInit(){throw new Error("Method not implemented.")}onSubmit(e){if(e.valid){const a={firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,id:Math.floor(1e9*Math.random()),title:"Mr",type:0,status:0,profilePicURL:"../../../../assets/ProfilePic.png"};var i=0;this.loginService.checkIfEmailExists(this.email).subscribe(u=>{u?1!=i&&alert("Email Address already exists!"):(this.loginService.addUser(a),this.router.navigate(["/login"]),i=1)})}}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(Tn),c.Y36(w2),c.Y36(Zx))},t.\u0275cmp=c.Xpm({type:t,selectors:[["register-page"]],decls:57,vars:4,consts:[[1,"main"],[1,"register-div"],[1,"page-title"],[3,"ngSubmit"],["registerForm","ngForm"],[1,"input-group","mb-3"],["type","text","id","firstNameInput","placeholder","John","name","firstName","required","",1,"form-control","first-group",3,"ngModel","ngModelChange"],["type","text","id","lastNameInput","placeholder","Smith","name","lastName","required","",1,"form-control","second-group",3,"ngModel","ngModelChange"],["type","email","id","emailInput","placeholder","name@example.com","name","email","required","",1,"form-control","first-group",3,"ngModel","ngModelChange"],["type","password","id","passwordInput","placeholder","YourPassword1234","name","password","required","",1,"form-control","second-group",3,"ngModel","ngModelChange"],[1,"alert",2,"visibility","hidden"],[1,"mb-3","button-div"],["href","landing"],["type","submit","href","",1,"register-button","login-button"],[1,"login"],["href","login"],[1,"cost-plan"],[1,"cost-title"],[1,"cost-description"],[1,"cost-amount"],[1,"cost-span-1"],[1,"cost-span"],[1,"login-button","cost-button"],[1,"benefits"],[1,"row"],[1,"column"],[1,"column","c2"]],template:function(e,i){if(1&e){const a=c.EpF();c._UZ(0,"header"),c.TgZ(1,"div",0)(2,"div",1)(3,"h1",2),c._uU(4," Register "),c.qZA(),c._UZ(5,"hr"),c.TgZ(6,"form",3,4),c.NdJ("ngSubmit",function(){c.CHM(a);const g=c.MAs(7);return c.KtG(i.onSubmit(g))}),c.TgZ(8,"div",5)(9,"input",6),c.NdJ("ngModelChange",function(g){return i.firstName=g}),c.qZA(),c.TgZ(10,"input",7),c.NdJ("ngModelChange",function(g){return i.lastName=g}),c.qZA()(),c.TgZ(11,"div",5)(12,"input",8),c.NdJ("ngModelChange",function(g){return i.email=g}),c.qZA(),c.TgZ(13,"input",9),c.NdJ("ngModelChange",function(g){return i.password=g}),c.qZA()(),c.TgZ(14,"p",10),c._uU(15,"An Account With This Email Already Exists"),c.qZA(),c.TgZ(16,"div",11)(17,"a",12)(18,"button",13),c._uU(19,"REGISTER"),c.qZA()()(),c.TgZ(20,"p",14),c._uU(21,"Already a member? "),c.TgZ(22,"a",15),c._uU(23,"Login"),c.qZA()()()(),c.TgZ(24,"div",16)(25,"h2",17),c._uU(26," Full Access Account"),c.qZA(),c.TgZ(27,"p",18),c._uU(28," Gain Full Access To The Platform"),c.qZA(),c.TgZ(29,"h3",19)(30,"span",20),c._uU(31,"$19.99"),c.qZA(),c.TgZ(32,"span",21),c._uU(33,"/mo"),c.qZA()(),c.TgZ(34,"button",22),c._uU(35,"NOW FREE"),c.qZA(),c.TgZ(36,"div",23)(37,"div",24)(38,"div",25),c._uU(39,"Full Access"),c.qZA(),c.TgZ(40,"div",26),c._uU(41,"\u2713"),c.qZA()(),c.TgZ(42,"div",24)(43,"div",25),c._uU(44,"Add Your Own Questions"),c.qZA(),c.TgZ(45,"div",26),c._uU(46,"\u2713"),c.qZA()(),c.TgZ(47,"div",24)(48,"div",25),c._uU(49,"Live Chat With Professors"),c.qZA(),c.TgZ(50,"div",26),c._uU(51,"\u2713"),c.qZA()(),c.TgZ(52,"div",24)(53,"div",25),c._uU(54,"Join Any Course"),c.qZA(),c.TgZ(55,"div",26),c._uU(56,"\u2713"),c.qZA()()()()()}2&e&&(c.xp6(9),c.Q6J("ngModel",i.firstName),c.xp6(1),c.Q6J("ngModel",i.lastName),c.xp6(2),c.Q6J("ngModel",i.email),c.xp6(1),c.Q6J("ngModel",i.password))},dependencies:[b4,R9,v,cs,A9,Su,Qi,Nl],styles:['.login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:91vh;background-image:url(InvertedBackground.64e775a2f2d31b2e.svg);background-size:101%;background-position-y:-1px}.register-div[_ngcontent-%COMP%]{width:50vw;background-color:#fff;padding:35px;border-radius:25px;height:550px;margin-left:150px;position:relative;top:15vh;box-shadow:1px 5px 5px #c5c5c591;display:inline-block}.page-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:35px;color:#242582}.login[_ngcontent-%COMP%]{text-align:center}.register-button[_ngcontent-%COMP%]{width:200px;height:50px;display:block;margin:0 auto}a[_ngcontent-%COMP%]{text-decoration:none;color:#242582}input[_ngcontent-%COMP%]{outline:0;border-width:0 0 2px;border-color:#d4d4d4;margin-top:35px}form[_ngcontent-%COMP%]{margin-top:50px}.alert[_ngcontent-%COMP%]{text-align:center;color:#d72638;margin-top:15px;margin-bottom:10px}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff570a}.cost-plan[_ngcontent-%COMP%]{background-color:#fff;float:right;width:400px;height:550px;position:relative;margin-right:150px;border-radius:25px;top:140px;box-shadow:5px 5px 5px #c5c5c591;padding:35px}.input-group[_ngcontent-%COMP%]{width:95%}.second-group[_ngcontent-%COMP%]{position:relative;left:45px}.column[_ngcontent-%COMP%]{float:left;width:50%}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.cost-button[_ngcontent-%COMP%]{width:200px;height:50px;display:block;margin:50px auto 0}.cost-title[_ngcontent-%COMP%]{color:#ff570a;font-size:25px;text-align:center;font-weight:700;margin-top:25px}.cost-description[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:14px}.cost-amount[_ngcontent-%COMP%]{color:#ff570a;font-size:40px;text-align:center;margin-top:50px}.cost-span[_ngcontent-%COMP%]{font-size:14px}.cost-span-1[_ngcontent-%COMP%]{-webkit-text-decoration:line-through black;text-decoration:line-through black}.c2[_ngcontent-%COMP%]{text-align:end;color:#ff570a;font-weight:700}.benefits[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-top:40px}.cost-button[_ngcontent-%COMP%]:active, .cost-button[_ngcontent-%COMP%]:hover{background-color:#ff570a}']}),t})(),mC=(()=>{class t{constructor(e,i){this.db=e,this.cookieService=i,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser"))}getAllChatrooms(e){return this.db.list("/chatroom").valueChanges().pipe((0,Ze.U)(i=>i.filter(a=>a.user1===e||a.user2===e)))}getLastMessageByChatroomId(e){return this.db.list("message",i=>i.orderByChild("chatroomId").equalTo(e).limitToFirst(1)).valueChanges()}getMessagesByChatroomId(e){return this.db.list("message",i=>i.orderByChild("chatroomId").equalTo(e)).valueChanges()}pushNewMessage(e){this.db.list("message").push(e)}updateMessageStatus(e){this.db.object("/message").query.once("value",function(i){i.forEach(function(a){a.val().id===e.id&&a.ref.update({readStatus:0})})})}checkEmailExists(e){var i=this;return(0,br.Z)(function*(){const u=(yield i.db.list("/user",g=>g.orderByChild("email").equalTo(e).limitToFirst(1)).query.once("value")).val();return!!u&&u[Object.keys(u)[0]].id})()}createNewChatroom(e){const i={id:Math.floor(1e6*Math.random()),user1:this.currentUserId,user2:e};this.db.list("chatroom").push(i)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn),c.LFG(U1))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vm=(()=>{class t{constructor(e){this.db=e}getUserById(e){return this.db.list("user",a=>a.orderByChild("id").equalTo(parseInt(e))).valueChanges()}updateUser(e,i){return this.db.object(`/user/${e}`).update(i)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F9=(()=>{class t{constructor(e){this.db=e}getNotificationsForCurrentUser(e){return this.db.list("notification",i=>i.orderByChild("to").equalTo(parseInt(e))).valueChanges()}getUserPicture(e){return this.db.list("user",a=>a.orderByChild("id").equalTo(e)).valueChanges().pipe((0,Ze.U)(a=>a.length>0?a[0].profilePicURL:""))}addNotification(e){this.db.list("/notification").push(e)}updateNotificationStatus(e){this.db.list("/notification",a=>a.orderByChild("id").equalTo(e)).snapshotChanges().forEach(a=>{a.forEach(u=>{u.payload.val(),this.db.object(`/notification/${u.key}`).update({status:!1})})})}getNotificationsForCurrentUserWithStatus(e,i){return this.db.list("notification",a=>a.orderByChild("to").equalTo(parseInt(e))).snapshotChanges().pipe((0,Ze.U)(a=>a.filter(u=>u.payload.val().status===i).map(u=>({key:u.payload.key,...u.payload.val()}))))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yx=["statusDropdown"];function Qx(t,n){if(1&t&&(c.TgZ(0,"p",31),c._uU(1),c.qZA()),2&t){const e=c.oxw();c.xp6(1),c.hij(" ",e.notificationsNumber,"")}}function Jx(t,n){if(1&t&&(c.TgZ(0,"p",31),c._uU(1),c.qZA()),2&t){const e=c.oxw();c.xp6(1),c.hij(" ",e.chatsNumber," ")}}const Xx=function(t,n,e){return{available:t,away:n,busy:e}},Pl=function(t){return{active:t}};let H4=(()=>{class t{constructor(e,i,a,u,g){this.messageService=e,this.navbarService=i,this.cookieService=a,this.notificationsService=u,this.router=g,this.currentUserId=this.cookieService.getCookie("currentUser")}ngOnInit(){this.navbarService.getUserById(this.currentUserId).subscribe(e=>{this.currentUser=e[0]}),this.notificationsService.getNotificationsForCurrentUserWithStatus(this.cookieService.getCookie("currentUser"),!0).subscribe(e=>{this.notificationsNumber=e.length}),this.setSelectedTab(),this.getChatsNumber(),console.log(this.chatsNumber)}setSelectedTab(){var e=this.router.url;this.selectedTab="/settings"===e?"settings":"/my-courses"===e?"courses":"/quizzes"===e?"quizzes":"/questions"===e?"questions":"/messages"===e?"messages":"/notifications"===e?"notifications":"/"}myFunction(){this.statusDropdown&&this.statusDropdown.nativeElement.classList.toggle("show")}updateUserStatus(e){this.currentUser.status="available"===e?0:"away"===e?1:2,this.navbarService.updateUser(this.currentUser.id,this.currentUser)}getChatsNumber(){this.chatsNumber=0;var e=parseInt(this.currentUserId);this.messageService.getAllChatrooms(e).subscribe(a=>{a.forEach(u=>{this.messageService.getLastMessageByChatroomId(u.id).subscribe(C=>{1==C[0].readStatus&&this.increaseChatsNumber()})})})}increaseChatsNumber(){this.chatsNumber++,console.log("WORK DUMBASS"+this.chatsNumber)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(mC),c.Y36(Vm),c.Y36(U1),c.Y36(F9),c.Y36(w2))},t.\u0275cmp=c.Xpm({type:t,selectors:[["navbar"]],viewQuery:function(e,i){if(1&e&&c.Gf(Yx,5),2&e){let a;c.iGM(a=c.CRH())&&(i.statusDropdown=a.first)}},decls:58,vars:29,consts:[[1,"main"],["src","../../../../assets/LogoNoCircle.svg",1,"logo"],[1,"profile-section>"],[1,"profile-pic",3,"src"],[1,"status",3,"ngClass","click"],["id","statusDropdown",1,"dropdown-content"],["statusDropdown",""],[1,"av",3,"click"],[1,"aw",3,"click"],[1,"bs",3,"click"],[1,"name"],[1,"personal-section"],[1,"section-name"],["href","notifications"],[1,"tab-section",3,"ngClass"],[1,"icon","fa-solid","fa-bell","fa-xl"],[1,"tab-title"],["class","notification",4,"ngIf"],["href","settings"],[1,"icon","fa-solid","fa-gear","fa-xl"],[1,"tab-title","settings-text"],[1,"academic-section"],["href","my-courses"],[1,"icon","fa-solid","fa-book-journal-whills","fa-xl"],["href","quizzes"],[1,"icon","fa-solid","fa-pen","fa-xl"],["href","questions"],[1,"icon","fa-solid","fa-clipboard-question","fa-xl"],[1,"social-section"],["href","messages"],[1,"icon","fa-solid","fa-message","fa-xl"],[1,"notification"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"img",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.TgZ(4,"button",4),c.NdJ("click",function(){return i.myFunction()}),c.qZA(),c.TgZ(5,"div",5,6)(7,"p",7),c.NdJ("click",function(){return i.updateUserStatus("available")}),c._uU(8,"Available"),c.qZA(),c.TgZ(9,"p",8),c.NdJ("click",function(){return i.updateUserStatus("away")}),c._uU(10,"Away"),c.qZA(),c.TgZ(11,"p",9),c.NdJ("click",function(){return i.updateUserStatus("busy")}),c._uU(12,"Busy"),c.qZA()()(),c.TgZ(13,"p",10)(14,"span"),c._uU(15),c.qZA(),c._uU(16),c.qZA(),c.TgZ(17,"div",11)(18,"h1",12),c._uU(19,"PERSONAL"),c.qZA(),c.TgZ(20,"a",13)(21,"div",14),c._UZ(22,"i",15),c.TgZ(23,"h2",16),c._uU(24," Notifications "),c.qZA(),c.YNc(25,Qx,2,1,"p",17),c.qZA()(),c.TgZ(26,"a",18)(27,"div",14),c._UZ(28,"i",19),c.TgZ(29,"h2",20),c._uU(30," Settings "),c.qZA()()()(),c.TgZ(31,"div",21)(32,"h1",12),c._uU(33,"ACADEMIC"),c.qZA(),c.TgZ(34,"a",22)(35,"div",14),c._UZ(36,"i",23),c.TgZ(37,"h2",16),c._uU(38," Courses "),c.qZA()()(),c.TgZ(39,"a",24)(40,"div",14),c._UZ(41,"i",25),c.TgZ(42,"h2",16),c._uU(43," Quizzes "),c.qZA()()(),c.TgZ(44,"a",26)(45,"div",14),c._UZ(46,"i",27),c.TgZ(47,"h2",16),c._uU(48," Questions "),c.qZA()()()(),c.TgZ(49,"div",28)(50,"h1",12),c._uU(51,"SOCIAL"),c.qZA(),c.TgZ(52,"a",29)(53,"div",14),c._UZ(54,"i",30),c.TgZ(55,"h2",16),c._uU(56," Messages "),c.qZA(),c.YNc(57,Jx,2,1,"p",17),c.qZA()()()()),2&e&&(c.xp6(3),c.s9C("src",i.currentUser.profilePicURL,c.LSH),c.xp6(1),c.Q6J("ngClass",c.kEZ(13,Xx,0===i.currentUser.status,1===i.currentUser.status,2===i.currentUser.status)),c.xp6(11),c.hij("",i.currentUser.title,"."),c.xp6(1),c.AsE(" ",i.currentUser.firstName," ",i.currentUser.lastName,""),c.xp6(5),c.Q6J("ngClass",c.VKq(17,Pl,"notifications"===i.selectedTab)),c.xp6(4),c.Q6J("ngIf",i.notificationsNumber>0),c.xp6(2),c.Q6J("ngClass",c.VKq(19,Pl,"settings"===i.selectedTab)),c.xp6(8),c.Q6J("ngClass",c.VKq(21,Pl,"courses"===i.selectedTab)),c.xp6(5),c.Q6J("ngClass",c.VKq(23,Pl,"quizzes"===i.selectedTab)),c.xp6(5),c.Q6J("ngClass",c.VKq(25,Pl,"questions"===i.selectedTab)),c.xp6(8),c.Q6J("ngClass",c.VKq(27,Pl,"messages"===i.selectedTab)),c.xp6(4),c.Q6J("ngIf",i.chatsNumber>0))},dependencies:[Ut,t2],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{width:400px;height:100vh;background-color:#242582;padding:50px;box-shadow:5px 0 5px -2px #22222260}.profile-pic[_ngcontent-%COMP%]{width:75px;max-height:75px;border-radius:25px;min-width:75px;max-width:75px}.fa-solid[_ngcontent-%COMP%]{color:#fff;display:inline-block;width:50px}.tab-title[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:20px;font-family:Arial,Helvetica,sans-serif;width:220px}.tab-section[_ngcontent-%COMP%]{padding-left:20px;margin-left:-20px;width:113%;border-radius:10px;padding-bottom:7px;padding-top:15px}.section-name[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:1px;margin-top:40px;margin-bottom:30px}.name[_ngcontent-%COMP%]{color:#fff;margin-top:30px}.status[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#00da00;border-radius:50px;display:inline-block;position:relative;left:-17px;top:-18px;border-color:#242582;border-style:solid}.logo[_ngcontent-%COMP%]{width:100px;display:block;margin:-20px auto 20px}.active[_ngcontent-%COMP%]{background-color:#2f2fa2}.active[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .tab-section[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%], .tab-section[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:#92b4f4}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;min-width:150px;overflow:auto;box-shadow:0 8px 16px #0003;z-index:1;position:fixed;top:145px;left:135px;background-color:#92b4f4;border-radius:10px;padding-bottom:0}.dropdown-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0!important;margin-top:0!important;padding:15px;text-align:center;text-decoration:none;display:block}.show[_ngcontent-%COMP%]{display:block}.av[_ngcontent-%COMP%]:hover{background-color:#00da00;color:#007400}.aw[_ngcontent-%COMP%]:hover{background-color:#ff570a;color:#7a2b06}.bs[_ngcontent-%COMP%]:hover{background-color:#d72638;color:#811823}.notification[_ngcontent-%COMP%]{display:inline-block;width:30px;height:20px;background-color:#d72638;text-align:center;color:#fff;border-radius:25px;font-size:12px;position:static;margin:3px auto 0}.icon[_ngcontent-%COMP%]{color:#fff;width:20px;margin-right:35px}.available[_ngcontent-%COMP%]{background-color:#00da00}.away[_ngcontent-%COMP%]{background-color:#ff570a}.busy[_ngcontent-%COMP%]{background-color:#d72638}"]}),t})();const eS=["mainDiv"],tS=function(t){return{"from-me":t}};let nS=(()=>{class t{constructor(e){this.cookieService=e,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser"))}ngOnInit(){}ngAfterViewInit(){this.mainDiv&&"2"==this.from&&this.mainDiv.nativeElement.classList.add("from-me"),this.from=this.message.senderId===this.currentUserId?"1":"2"}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1))},t.\u0275cmp=c.Xpm({type:t,selectors:[["message"]],viewQuery:function(e,i){if(1&e&&c.Gf(eS,5),2&e){let a;c.iGM(a=c.CRH())&&(i.mainDiv=a.first)}},inputs:{from:"from",text:"text",time:"time",message:"message"},decls:7,vars:5,consts:[[1,"main",3,"ngClass"],["mainDiv",""],[1,"message"],[1,"text"],[1,"time"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1)(2,"div",2)(3,"p",3),c._uU(4),c.qZA()(),c.TgZ(5,"p",4),c._uU(6),c.qZA()()),2&e&&(c.Q6J("ngClass",c.VKq(3,tS,"1"===i.from)),c.xp6(4),c.hij(" ",i.text," "),c.xp6(2),c.hij(" ",i.time," "))},dependencies:[Ut],styles:[".message[_ngcontent-%COMP%]{background-color:#e2e2e9;min-height:50px;min-width:50px;max-width:600px;margin-left:50px;margin-bottom:25px;border-radius:10px;padding:12px 15px 10px;width:-moz-fit-content;width:fit-content}p[_ngcontent-%COMP%]{margin-bottom:0}.time[_ngcontent-%COMP%]{position:relative;margin-top:-10px;top:-13px;font-size:12px;margin-left:55px}.from-me[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:auto;margin-right:35px;text-align:right}.from-me[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{text-align:right;margin-right:40px}.from-me[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:right}"]}),t})();const rS=function(t){return{active:t}},iS=function(t){return{"not-read":t}};function sS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",11),c.NdJ("click",function(){const u=c.CHM(e).$implicit,g=c.oxw();return c.KtG(g.onChatroomClick(u))}),c._UZ(1,"img",12),c.ALo(2,"async"),c.TgZ(3,"div",13)(4,"p",14),c._uU(5),c.ALo(6,"async"),c.qZA(),c.TgZ(7,"p",15),c._uU(8),c.qZA()(),c.TgZ(9,"div",16)(10,"p",17),c._uU(11),c.qZA(),c._UZ(12,"div",18),c.qZA()()}if(2&t){const e=n.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(10,rS,i.selectedChatroom===e)),c.xp6(1),c.s9C("src",c.lcZ(2,6,i.getOtherUserPic(e)),c.LSH),c.xp6(4),c.Oqu(c.lcZ(6,8,i.getOtherUserName(e))),c.xp6(3),c.Oqu(i.chatroomLastMessages[e.id]),c.xp6(3),c.Oqu(i.chatroomLastMessagesTime[e.id]),c.xp6(1),c.Q6J("ngClass",c.VKq(12,iS,1===i.chatroomLastMessagesStatus[e.id]))}}function oS(t,n){if(1&t&&c._UZ(0,"message",34),2&t){const e=n.$implicit,i=c.oxw(2);c.Q6J("message",e)("text",e.text)("time",i.timeAgoString(e.time))}}function cS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",19)(1,"div",20),c._UZ(2,"img",21)(3,"div",22),c.TgZ(4,"h1",23),c._uU(5),c.qZA(),c._UZ(6,"hr",24),c.qZA(),c.TgZ(7,"div",25)(8,"div",26),c.YNc(9,oS,1,3,"message",27),c.ALo(10,"async"),c.qZA(),c.TgZ(11,"div",28),c._UZ(12,"img",29),c.qZA()(),c.TgZ(13,"div",30)(14,"input",31),c.NdJ("ngModelChange",function(a){c.CHM(e);const u=c.oxw();return c.KtG(u.newMessage=a)}),c.qZA(),c.TgZ(15,"button",32),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.addNewMessage())}),c._UZ(16,"i",33),c.qZA()()()}if(2&t){const e=c.oxw();c.xp6(2),c.s9C("src",null==e.selectedChatroomUser?null:e.selectedChatroomUser.profilePicURL,c.LSH),c.xp6(1),c.Q6J("ngClass",e.statusClass),c.xp6(2),c.lnq(" ",null==e.selectedChatroomUser?null:e.selectedChatroomUser.title," ",null==e.selectedChatroomUser?null:e.selectedChatroomUser.firstName," ",null==e.selectedChatroomUser?null:e.selectedChatroomUser.lastName," "),c.xp6(4),c.Q6J("ngForOf",c.lcZ(10,7,e.selectedChatroomMessages)),c.xp6(5),c.Q6J("ngModel",e.newMessage)}}let aS=(()=>{class t{constructor(e,i,a,u){this.cookieService=e,this.messagesService=i,this.navbarService=a,this.notificationsService=u,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.chatroomUserNames={},this.chatroomUserPics={},this.chatroomUserIds={},this.chatroomLastMessages={},this.chatroomLastMessagesTime={},this.chatroomLastMessagesStatus={},this.selectedChatroom=null,this.newMessage="",this.statusClass=""}ngOnInit(){this.availableChatrooms=this.messagesService.getAllChatrooms(this.currentUserId),this.availableChatrooms.subscribe(e=>{e.forEach(i=>{const a=i.user1===this.currentUserId?i.user2:i.user1;this.chatroomUserNames[i.id]=this.navbarService.getUserById(a).pipe((0,Ze.U)(u=>`${u[0].firstName} ${u[0].lastName}`)),this.chatroomUserPics[i.id]=this.navbarService.getUserById(a).pipe((0,Ze.U)(u=>u[0].profilePicURL)),this.chatroomUserIds[i.id]=this.navbarService.getUserById(a).pipe((0,Ze.U)(u=>u[0].id)),this.messagesService.getLastMessageByChatroomId(i.id).subscribe(u=>{u.length>0&&(this.chatroomLastMessages[i.id]=u[0].text,this.chatroomLastMessagesTime[i.id]=this.timeAgoString(u[0].time),this.chatroomLastMessagesStatus[i.id]=u[0].readStatus)})})})}updateStatusClass(){0===this.selectedChatroomUser?.status?this.statusClass="available":1===this.selectedChatroomUser?.status?this.statusClass="away":2===this.selectedChatroomUser?.status&&(this.statusClass="busy")}sendNewMessageNotification(){const e=new Date,i=e.getFullYear()+":"+(e.getMonth()+1).toString().padStart(2,"0")+":"+e.getDate().toString().padStart(2,"0")+":"+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0"),a={title:this.selectedChatroomUser?.title+this.selectedChatroomUser?.firstName+this.selectedChatroomUser?.lastName+"has sent you a new message",description:this.newMessage,id:Math.floor(1e6*Math.random()),status:!0,from:this.currentUserId,time:i,to:this.selectedChatroomUser?.id};this.notificationsService.addNotification(a)}getOtherUserName(e){return this.chatroomUserNames[e.id]}getOtherUserPic(e){return this.chatroomUserPics[e.id]}onChatroomClick(e){this.selectedChatroom=e,this.navbarService.getUserById(this.getOtherUserId(e).toString()).subscribe(i=>{this.selectedChatroomUser=i[0]}),this.selectedChatroomMessages=this.getMessagesForSelectedChatroom().pipe((0,Ze.U)(i=>i.slice().reverse())),this.updateReadStatus()}getMessagesForSelectedChatroom(){return this.selectedChatroom?this.messagesService.getMessagesByChatroomId(this.selectedChatroom.id):Ue([])}getOtherUserId(e){return e.user1===this.currentUserId?e.user2:e.user1}timeAgoString(e){const[i,a,u,g,C]=e.split(":").map(Number),w=new Date(i,a-1,u,g,C),k=(new Date).getTime()-w.getTime(),N=6e4,Z=60*N,re=24*Z,we=7*re;if(k<N)return"just now";if(k<Z){const Pe=Math.floor(k/N);return`${Pe} minute${Pe>1?"s":""} ago`}if(k<re){const Pe=Math.floor(k/Z);return`${Pe} hour${Pe>1?"s":""} ago`}if(k<we){const Pe=Math.floor(k/re);return`${Pe} day${Pe>1?"s":""} ago`}{const Pe=Math.floor(k/we);return`${Pe} week${Pe>1?"s":""} ago`}}addNewMessage(){const e=new Date,i=e.getFullYear()+":"+(e.getMonth()+1).toString().padStart(2,"0")+":"+e.getDate().toString().padStart(2,"0")+":"+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0"),a={text:this.newMessage,chatroomId:this.selectedChatroom.id,id:Math.floor(1e6*Math.random()),readStatus:0,senderId:this.currentUserId,time:i};this.messagesService.pushNewMessage(a),this.sendNewMessageNotification(),this.newMessage=""}updateReadStatus(){this.selectedChatroomMessages.forEach(e=>{e.forEach(i=>{this.messagesService.updateMessageStatus(i)})})}addNewChatroom(){var e=this;return(0,br.Z)(function*(){const i=document.getElementById("form1").value,a=yield e.messagesService.checkEmailExists(i);if(0==a)alert("The email address does not exist in our system!");else if("string"==typeof a||"number"==typeof a){const g=parseInt(a);var u=!1;for(let C in e.chatroomUserIds)e.chatroomUserIds[C].subscribe(w=>{w==g&&(u=!0)});if(u)alert("You already have a chatroom with this user!");else{const C=parseInt(a);e.messagesService.createNewChatroom(C)}}})()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1),c.Y36(mC),c.Y36(Vm),c.Y36(F9))},t.\u0275cmp=c.Xpm({type:t,selectors:[["messages-page"]],decls:14,vars:4,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"chat-list-div"],[1,"new-chat-div"],["type","search","id","form1","placeholder","Search for user to start a new chat..."],[1,"btn-1",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"chat-list"],["class","chat",3,"ngClass","click",4,"ngFor","ngForOf"],["class","chat-div",4,"ngIf"],[1,"chat",3,"ngClass","click"],[3,"src"],[1,"section-2"],[1,"chat-name"],[1,"chat-text"],[1,"section-3"],[1,"chat-time"],[1,"read-status",3,"ngClass"],[1,"chat-div"],[1,"chat-header"],[1,"chat-window-img",3,"src"],[1,"status",3,"ngClass"],[1,"chat-window-name"],[1,"chat-window-hr"],[1,"chat-main"],[1,"not-empty"],[3,"message","text","time",4,"ngFor","ngForOf"],["hidden","",1,"empty"],["src","../../../../assets/Empty.svg",1,"empty-image"],[1,"chat-footer"],["type","text","placeholder","Send a message",1,"message",3,"ngModel","ngModelChange"],[3,"click"],[1,"fa-solid","fa-paper-plane"],[3,"message","text","time"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4),c._UZ(6,"input",5),c.TgZ(7,"button",6),c.NdJ("click",function(){return i.addNewChatroom()}),c._UZ(8,"i",7),c.qZA(),c._UZ(9,"hr"),c.qZA(),c.TgZ(10,"div",8),c.YNc(11,sS,13,14,"div",9),c.ALo(12,"async"),c.qZA()(),c.YNc(13,cS,17,9,"div",10),c.qZA()()),2&e&&(c.xp6(11),c.Q6J("ngForOf",c.lcZ(12,2,i.availableChatrooms)),c.xp6(2),c.Q6J("ngIf",i.selectedChatroomMessages))},dependencies:[Ut,u1,t2,H4,v,cs,Qi,nS,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-size:110%}.chat-list-div[_ngcontent-%COMP%]{display:inline-block;width:30vw;height:100vh;background-color:#e0e2f0;vertical-align:top;box-shadow:15px 0 16px -15px #000 inset}.chat-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;box-shadow:15px 0 16px -15px #000}.navbar-div[_ngcontent-%COMP%]{display:inline-block}input[_ngcontent-%COMP%]{outline:none!important;width:400px;height:40px;border-radius:5px;border:1px solid rgb(212,212,212);padding-left:12px;outline:none;background-color:#f9faff;font-size:14px;margin:30px 25px 25px;width:91%}.btn-1[_ngcontent-%COMP%]{margin-left:-70px;background-color:transparent}hr[_ngcontent-%COMP%]{width:90%;margin:0 auto}.chat-list[_ngcontent-%COMP%]{width:520px;position:relative;margin:25px auto 0;height:790px;overflow-y:scroll}img[_ngcontent-%COMP%]{width:50px;border-radius:50px;display:inline-block;margin-top:25px;margin-left:25px}.section-2[_ngcontent-%COMP%], .section-3[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.chat[_ngcontent-%COMP%]{height:100px;border-radius:10px}.chat-name[_ngcontent-%COMP%]{max-height:78vh;overflow-y:auto;padding-top:3px;padding-bottom:0}.chat-text[_ngcontent-%COMP%]{width:370px;height:1.3em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:25px;margin-top:-15px;font-family:Arial,Helvetica,sans-serif}.chat-name[_ngcontent-%COMP%]{margin-top:22px;margin-left:25px;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:1px}.chat-time[_ngcontent-%COMP%]{margin-top:32px;margin-left:-60px;font-family:Arial,Helvetica,sans-serif;font-size:14px}.active[_ngcontent-%COMP%]{background-color:#f9faff;border-radius:10px}.read-status[_ngcontent-%COMP%]{background-color:#d72638;width:10px;height:10px;margin-top:-10px;margin-left:15px;border-radius:50px;visibility:hidden}.not-read[_ngcontent-%COMP%]{visibility:initial}.chat-div[_ngcontent-%COMP%]{width:944px;height:100vh;background-color:#fff;box-shadow:15px 0 16px -15px #00000080 inset}.chat-window-name[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin-top:25px;margin-left:25px}.chat-header[_ngcontent-%COMP%]{height:96px;background-color:#f8f8f8;font-family:Arial,Helvetica,sans-serif;box-shadow:15px 0 16px -15px #00000080 inset}.chat-window-hr[_ngcontent-%COMP%]{margin-top:14px}.chat-window-img[_ngcontent-%COMP%]{margin-left:50px}.chat-main[_ngcontent-%COMP%]{height:735px;padding-top:25px;overflow-y:scroll;display:flex;flex-direction:column-reverse}[_ngcontent-%COMP%]::-webkit-scrollbar{display:block}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e2e2e9}.message[_ngcontent-%COMP%]{border-radius:50px;border:none;background-color:#e0e2f0;color:#b490c2;padding-left:25px;height:45px}.message[_ngcontent-%COMP%]::placeholder{color:#9c78aa;font-weight:400}button[_ngcontent-%COMP%]{border-radius:50px;margin-left:-17px;width:45px;height:45px;border:none;background-color:#e0e2f0}.fa-paper-plane[_ngcontent-%COMP%]{margin-left:-2px;color:#b490c2}.empty-image[_ngcontent-%COMP%]{width:500px;position:relative;margin-left:25%;margin-bottom:12%}.chat-list[_ngcontent-%COMP%]{padding-right:0}.available[_ngcontent-%COMP%]{background-color:#00da00}.away[_ngcontent-%COMP%]{background-color:#ff570a}.busy[_ngcontent-%COMP%]{background-color:#d72638}.status[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#00da00;border-radius:50px;display:inline-block;position:relative;left:-17px;border-color:#f8f8f8;border-style:solid}"]}),t})();function lS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"button",8),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.addLecture())}),c._UZ(1,"i",9),c.qZA()}}function uS(t,n){if(1&t&&(c.TgZ(0,"a",10),c._uU(1),c.qZA()),2&t){const e=n.$implicit;c.xp6(1),c.Oqu(e.name)}}let fS=(()=>{class t{constructor(e,i,a){this.courseService=e,this.router=i,this.cookieService=a,this.lectureList=[]}ngOnInit(){this.getProfessorName(this.professor).subscribe(e=>{this.professorName=e}),this.getLectureList().subscribe(e=>{this.lectureList=e}),this.courseService.getQuizAmount(parseInt(this.courseId)).subscribe(e=>{this.quizzes=e}),this.courseService.getLectureAmount(parseInt(this.courseId)).subscribe(e=>{this.lectures=e})}getProfessorName(e){return this.courseService.getProfessorNameById(e)}getLectureList(){return this.courseService.getLecturesForCurrentCourse(this.courseId)}addLecture(){this.cookieService.createCookie("selectedCourse",this.courseId,1);let e=this.router.createUrlTree(["/new-lecture"]);window.open(e.toString(),"_blank","resizable=no, width=1000, height=600")}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(w4),c.Y36(w2),c.Y36(U1))},t.\u0275cmp=c.Xpm({type:t,selectors:[["course-card"]],inputs:{professor:"professor",name:"name",description:"description",lectures:"lectures",quizzes:"quizzes",courseId:"courseId",professorName:"professorName",isEditable:"isEditable"},decls:11,vars:6,consts:[[1,"card","mb-3","main"],[1,"card-header","professor-div"],[3,"click",4,"ngIf"],[1,"card-body"],[1,"title"],[1,"description"],["href","/images/myw3schoolsimage.jpg","download","",4,"ngFor","ngForOf"],[1,"extra-data"],[3,"click"],[1,"fa-solid","fa-plus"],["href","/images/myw3schoolsimage.jpg","download",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2),c.YNc(3,lS,2,0,"button",2),c.qZA(),c.TgZ(4,"div",3)(5,"h1",4),c._uU(6),c.qZA(),c.TgZ(7,"div",5),c.YNc(8,uS,2,1,"a",6),c.qZA(),c.TgZ(9,"p",7),c._uU(10),c.qZA()()()),2&e&&(c.xp6(2),c.hij(" ",i.professorName," "),c.xp6(1),c.Q6J("ngIf",1===i.isEditable),c.xp6(3),c.hij(" ",i.name," "),c.xp6(2),c.Q6J("ngForOf",i.lectureList),c.xp6(2),c.AsE(" ",i.lectures," Lectures | ",i.quizzes," Quizzes "))},dependencies:[u1,t2],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{width:381px;max-width:381px;height:350px;background-color:transparent;margin-bottom:25px;color:#fff;border-radius:10px}.title[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:30px;max-height:35px;overflow:hidden;text-align:center;margin-top:10px;padding-left:20px;padding-right:20px}.description[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;margin-top:15px;padding-left:20px;padding-right:20px;text-align:center;height:170px;overflow:auto;margin-bottom:10px}.description[_ngcontent-%COMP%]::-webkit-scrollbar{display:initial}.description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00000028}.description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:5px;display:block;color:#fff;text-decoration:none;font-family:Arial,Helvetica,sans-serif}.extra-data[_ngcontent-%COMP%]{position:relative;text-align:center;font-family:Arial,Helvetica,sans-serif;margin-top:20px;font-size:14px}button[_ngcontent-%COMP%]{border:0;border-radius:50px;height:25px;width:25px;position:relative;background-color:#00000028;color:#fff;float:right}"]}),t})();function dS(t,n){if(1&t&&(c.ynx(0),c._UZ(1,"course-card",9),c.ALo(2,"async"),c.BQk()),2&t){const e=n.$implicit,i=c.oxw();c.xp6(1),c.Q6J("professor",e.professorId)("name",e.name)("lectures",e.lectureCount)("quizzes",e.quizCount)("courseId",e.id)("isEditable",0===(null==c.lcZ(2,6,i.currentUser)[0]?null:c.lcZ(2,6,i.currentUser)[0].type)?0:1)}}function hS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",10)(1,"a",11),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.newPopup())}),c.TgZ(2,"div",12)(3,"div",13),c._UZ(4,"i",14),c.qZA()()()()}}let pS=(()=>{class t{constructor(e,i,a){this.cookieService=e,this.router=i,this.courseService=a,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser"))}ngOnInit(){this.currentUser=this.courseService.getUserById(this.currentUserId),this.currentUser.subscribe(e=>{this.displayedCourses=0===e[0].type?this.courseService.getEnrolledCoursesForUserId(this.currentUserId):this.courseService.getProfessorCourses(this.currentUserId)})}newPopup(){let e=this.router.createUrlTree(["/enroll"]);window.open(e.toString(),"_blank","resizable=no, width=1000, height=600")}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1),c.Y36(w2),c.Y36(w4))},t.\u0275cmp=c.Xpm({type:t,selectors:[["courses-page"]],decls:14,vars:6,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"courses-title"],[1,"title"],[1,"fa-solid","fa-book-journal-whills","icon"],[1,"courses-container"],[4,"ngFor","ngForOf"],["class","add-course-div",4,"ngIf"],[3,"professor","name","lectures","quizzes","courseId","isEditable"],[1,"add-course-div"],["role","button",3,"click"],[1,"white-border"],[1,"plus-icon"],[1,"fa-solid","fa-plus","fa-2xl"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"h1",4),c._uU(6,"Courses"),c.qZA(),c._UZ(7,"i",5)(8,"hr"),c.qZA(),c.TgZ(9,"div",6),c.YNc(10,dS,3,8,"ng-container",7),c.ALo(11,"async"),c.YNc(12,hS,5,0,"div",8),c.ALo(13,"async"),c.qZA()()()),2&e&&(c.xp6(10),c.Q6J("ngForOf",c.lcZ(11,2,i.displayedCourses)),c.xp6(2),c.Q6J("ngIf",0===(null==c.lcZ(13,4,i.currentUser)[0]?null:c.lcZ(13,4,i.currentUser)[0].type)))},dependencies:[u1,t2,H4,fS,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.navbar-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;position:static;vertical-align:top}.courses-title[_ngcontent-%COMP%]{margin-top:70px;margin-left:275px}.title[_ngcontent-%COMP%]{display:inline-block;font-size:26px;color:#a9a9a9;font-family:Arial,Helvetica,sans-serif}.icon[_ngcontent-%COMP%]{display:inline-block;color:#a9a9a9;position:relative;top:-3px;margin-left:13px}hr[_ngcontent-%COMP%]{width:60px;height:3px;border:none;border-radius:15px;background-color:#92b4f4;margin-top:-7px;margin-bottom:30px}.courses-container[_ngcontent-%COMP%]{width:1235px;height:82vh;margin-left:150px;overflow-y:auto;display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:30px;grid-row-gap:15px;padding:10px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#2f2fa2;display:initial}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background-color:#1b1d5e}course-card[_ngcontent-%COMP%]:nth-child(4n+1), .add-course-div[_ngcontent-%COMP%]:nth-child(4n+1){background-color:#d72638}course-card[_ngcontent-%COMP%]:nth-child(4n+2), .add-course-div[_ngcontent-%COMP%]:nth-child(4n+2){background-color:#2f2fa2}course-card[_ngcontent-%COMP%]:nth-child(4n+3), .add-course-div[_ngcontent-%COMP%]:nth-child(4n+3){background-color:#ff570a}course-card[_ngcontent-%COMP%]:nth-child(4n+4), .add-course-div[_ngcontent-%COMP%]:nth-child(4n+4){background-color:#92b4f4}course-card[_ngcontent-%COMP%], .add-course-div[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:15px;width:380px;height:350px;transition:all .2s ease-in-out}course-card[_ngcontent-%COMP%]:hover, .add-course-div[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.white-border[_ngcontent-%COMP%]{width:300px;height:270px;position:relative;margin-left:40px;margin-top:40px;border-radius:15px;border-width:5px;border-style:dashed;border-color:#fff}.plus-icon[_ngcontent-%COMP%]{margin-top:115px;margin-left:200px;transform:scale(3);color:#fff}.courses-container[_ngcontent-%COMP%]{overflow-x:hidden}"]}),t})();function gS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",2),c._UZ(1,"img",3),c.TgZ(2,"div",4)(3,"p",5),c._uU(4),c.qZA(),c.TgZ(5,"p",6),c._uU(6),c.qZA()(),c.TgZ(7,"div",7)(8,"p"),c._uU(9),c.qZA(),c.TgZ(10,"button",8),c.NdJ("click",function(){const u=c.CHM(e).$implicit,g=c.oxw();return c.KtG(g.enrollInCourse(u.id))}),c._UZ(11,"i",9),c.qZA()()()}if(2&t){const e=n.$implicit,i=n.index,a=c.oxw();c.xp6(4),c.Oqu(e.name),c.xp6(2),c.Oqu(e.professor),c.xp6(3),c.AsE("",a.lectures[i]," Lectures | ",a.quizzes[i]," Quizzes")}}let mS=(()=>{class t{constructor(e,i){this.cookieService=e,this.courseService=i,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.quizzes=[],this.lectures=[]}ngOnInit(){this.currentUser=this.courseService.getUserById(this.currentUserId),this.displayedCourses=this.courseService.getOtherCoursesForUserId(this.currentUserId),this.displayedCourses.subscribe(e=>{for(const i of e)this.courseService.getQuizAmount(i.id).subscribe(a=>{this.quizzes.push(a)}),this.courseService.getLectureAmount(i.id).subscribe(a=>{this.lectures.push(a)})})}enrollInCourse(e){this.courseService.enrollInCourse(e,this.currentUserId),window.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1),c.Y36(w4))},t.\u0275cmp=c.Xpm({type:t,selectors:[["enroll"]],decls:3,vars:3,consts:[[1,"course-list"],["class","course",4,"ngFor","ngForOf"],[1,"course"],["src","../../../../assets/ProfilePic.png"],[1,"details-1"],[1,"name"],[1,"professor"],[1,"details-2"],[3,"click"],[1,"fa-solid","fa-plus"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,gS,12,4,"div",1),c.ALo(2,"async"),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,i.displayedCourses)))},dependencies:[u1,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.course[_ngcontent-%COMP%]{height:100px;background-color:red;display:inline-block;width:100%;color:#fff;margin-bottom:10px;box-shadow:0 5px 3px 1px #00000080}img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50px;display:inline-block;margin-top:20px;margin-left:50px}.details-1[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.details-2[_ngcontent-%COMP%]{display:inline-block;position:relative}.professor[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;margin-top:-25px;margin-left:25px}.name[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-top:25px;font-size:25px;letter-spacing:1px;margin-left:25px}.details-2[_ngcontent-%COMP%]{float:right;margin-right:50px;margin-top:37px}.details-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;margin-right:50px}button[_ngcontent-%COMP%]{border:none;border-radius:50px;background-color:#00000028;color:#fff}.course[_ngcontent-%COMP%]:nth-child(4n+1){background-color:#d72638}.course[_ngcontent-%COMP%]:nth-child(4n+2){background-color:#2f2fa2}.course[_ngcontent-%COMP%]:nth-child(4n+3){background-color:#ff570a}.course[_ngcontent-%COMP%]:nth-child(4n+4){background-color:#92b4f4}.course-list[_ngcontent-%COMP%]{padding:25px}"]}),t})();const vS=["statusDiv"];let _S=(()=>{class t{constructor(e){this.notificationsService=e,this.setStatusSeen=()=>{this.notificationsService.updateNotificationStatus(this.notificationId)}}ngOnInit(){this.userPic=this.notificationsService.getUserPicture(this.notificationUserPic).subscribe(e=>this.userPic=e),this.notificationTime=this.timeAgoString(this.notificationTime)}ngAfterViewInit(){1==this.newNotification&&this.statusDiv&&this.statusDiv.nativeElement.classList.toggle("show")}timeAgoString(e){const[i,a,u,g,C]=e.split(":").map(Number),w=new Date(i,a-1,u,g,C),k=(new Date).getTime()-w.getTime(),N=6e4,Z=60*N,re=24*Z,we=7*re;if(k<N)return"just now";if(k<Z){const Pe=Math.floor(k/N);return`${Pe} minute${Pe>1?"s":""} ago`}if(k<re){const Pe=Math.floor(k/Z);return`${Pe} hour${Pe>1?"s":""} ago`}if(k<we){const Pe=Math.floor(k/re);return`${Pe} day${Pe>1?"s":""} ago`}{const Pe=Math.floor(k/we);return`${Pe} week${Pe>1?"s":""} ago`}}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(F9))},t.\u0275cmp=c.Xpm({type:t,selectors:[["notification"]],viewQuery:function(e,i){if(1&e&&c.Gf(vS,5),2&e){let a;c.iGM(a=c.CRH())&&(i.statusDiv=a.first)}},inputs:{newNotification:"newNotification",notificationId:"notificationId",notificationUserPic:"notificationUserPic",notificationTitle:"notificationTitle",notificationDescription:"notificationDescription",notificationTime:"notificationTime"},decls:12,vars:4,consts:[[1,"main"],["if","statusDiv",1,"status-div",3,"click"],["statusDiv",""],[1,"content-div"],[1,"notification-pic",3,"src"],[1,"notification-details"],[1,"notification-title"],[1,"notification-description"],[1,"notification-time"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(){return i.setStatusSeen()}),c.qZA(),c.TgZ(3,"div",3),c._UZ(4,"img",4),c.TgZ(5,"div",5)(6,"p",6),c._uU(7),c.qZA(),c.TgZ(8,"p",7),c._uU(9),c.qZA(),c.TgZ(10,"p",8),c._uU(11),c.qZA()()()()),2&e&&(c.xp6(4),c.s9C("src",i.userPic,c.LSH),c.xp6(3),c.Oqu(i.notificationTitle),c.xp6(2),c.Oqu(i.notificationDescription),c.xp6(2),c.Oqu(i.notificationTime))},styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{width:52vw;height:100px;background-color:#fff;margin-bottom:7px;box-shadow:0 1px 5px 1px #c9c9c9}.status-div[_ngcontent-%COMP%]{background-color:#92b4f4;width:5px;height:100%;display:inline-block;visibility:hidden}.show[_ngcontent-%COMP%]{visibility:initial}.notification-pic[_ngcontent-%COMP%]{width:75px;height:75px;max-width:75px;max-height:75px;min-width:75px;min-height:75px;border-radius:50px;margin-top:15px;margin-left:25px;margin-right:25px;display:inline-block}.notification-details[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.notification-title[_ngcontent-%COMP%]{margin-bottom:2px;margin-top:17px;font-size:18px;font-family:Arial,Helvetica,sans-serif;font-weight:600;width:820px;height:1.2em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.notification-description[_ngcontent-%COMP%]{margin-bottom:4px;font-size:16px;font-family:Arial,Helvetica,sans-serif;width:820px;height:1.2em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.notification-time[_ngcontent-%COMP%]{margin-bottom:2px;font-size:12px;font-family:Arial,Helvetica,sans-serif}.content-div[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top}"]}),t})();function CS(t,n){if(1&t&&(c.TgZ(0,"li",8),c._UZ(1,"notification",9),c.qZA()),2&t){const e=n.$implicit;c.xp6(1),c.Q6J("newNotification",e.status)("notificationId",e.id)("notificationUserPic",e.from)("notificationTitle",e.title)("notificationDescription",e.description)("notificationTime",e.time)}}let yS=(()=>{class t{constructor(e,i){this.notificationService=e,this.cookieService=i}ngOnInit(){this.notificationService.getNotificationsForCurrentUser(this.cookieService.getCookie("currentUser")).subscribe(e=>{this.$notifications=e})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(F9),c.Y36(U1))},t.\u0275cmp=c.Xpm({type:t,selectors:[["notifications-page"]],decls:11,vars:1,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"notification-title"],[1,"title"],[1,"fa-solid","fa-bell","icon"],[1,"notification-list"],["class","notification-item",4,"ngFor","ngForOf"],[1,"notification-item"],[3,"newNotification","notificationId","notificationUserPic","notificationTitle","notificationDescription","notificationTime"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"h1",4),c._uU(6,"Notifications"),c.qZA(),c._UZ(7,"i",5)(8,"hr"),c.qZA(),c.TgZ(9,"ul",6),c.YNc(10,CS,2,6,"li",7),c.qZA()()()),2&e&&(c.xp6(10),c.Q6J("ngForOf",i.$notifications))},dependencies:[u1,H4,_S],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.navbar-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;position:static;vertical-align:top}.notification-list[_ngcontent-%COMP%]{padding:3px 25px 0;margin:0 0 100px 250px;max-height:78vh;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#2f2fa2;display:initial}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background-color:#1b1d5e}.notification-item[_ngcontent-%COMP%]{list-style:none}.notification-title[_ngcontent-%COMP%]{margin-top:70px;margin-left:275px}.title[_ngcontent-%COMP%]{display:inline-block;font-size:26px;color:#a9a9a9;font-family:Arial,Helvetica,sans-serif}.icon[_ngcontent-%COMP%]{display:inline-block;color:#a9a9a9;position:relative;top:-3px;margin-left:13px}hr[_ngcontent-%COMP%]{width:60px;height:3px;border:none;border-radius:15px;background-color:#92b4f4;margin-top:-7px;margin-bottom:30px}"]}),t})(),kl=(()=>{class t{constructor(e,i){this.db=e,this.cookieService=i,this.questions$=this.db.list("/question").valueChanges()}addQuestion(e){this.db.list("/question").push(e)}getQuestionsForUserId(e,i){return i.pipe(Gt(a=>this.questions$.pipe((0,Ze.U)(0===a[0].type?u=>u.filter(g=>g.userId===e&&g.courseId===parseInt(this.cookieService.getCookie("selectedCourse"))):u=>u.filter(g=>g.courseId===parseInt(this.cookieService.getCookie("selectedCourse")))))))}getUserById(e){return console.log(e),this.db.list("user",a=>a.orderByChild("id").equalTo(parseInt(e))).valueChanges()}getCourseById(e){return this.db.list("course",a=>a.orderByChild("id").equalTo(parseInt(e))).valueChanges()}approveQuestionById(e){this.db.list("/question",a=>a.orderByChild("id").equalTo(e)).snapshotChanges().forEach(a=>{a.forEach(u=>{u.payload.val(),this.db.object(`/question/${u.key}`).update({status:1})})})}rejectQuestionById(e){this.db.list("/question",a=>a.orderByChild("id").equalTo(e)).snapshotChanges().forEach(a=>{a.forEach(u=>{u.payload.val(),this.db.object(`/question/${u.key}`).update({status:2})})})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn),c.LFG(U1))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MS=(()=>{class t{constructor(e,i){this.questionService=e,this.cookieService=i,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.questionText="",this.imageUrl="",this.optionA="",this.optionB="",this.optionC="",this.optionD="",this.relatedConcepts=""}ngOnInit(){this.course=this.questionService.getCourseById(this.cookieService.getCookie("selectedCourse"))}addQuestion(){if(this.questionText&&this.optionA&&this.optionB&&this.optionC&&this.optionD&&this.relatedConcepts){const e={courseId:parseInt(this.cookieService.getCookie("selectedCourse")),userId:parseInt(this.cookieService.getCookie("currentUser")),text:this.questionText,imageURL:this.imageUrl,optionA:this.optionA,optionB:this.optionB,optionC:this.optionC,optionD:this.optionD,tags:this.relatedConcepts,status:0,id:Math.floor(1e9*Math.random())};this.questionService.addQuestion(e),this.questionText="",this.imageUrl="",this.optionA="",this.optionB="",this.optionC="",this.optionD="",this.relatedConcepts=""}}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(kl),c.Y36(U1))},t.\u0275cmp=c.Xpm({type:t,selectors:[["add-question-page"]],decls:27,vars:10,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"header"],[1,"add-question-title"],[1,"title"],[1,"fa-solid","fa-question","icon"],[1,"top-hr"],[1,"content"],["type","text","aria-label","Disabled input example","disabled","",1,"form-control",3,"placeholder"],["type","text","placeholder","Question","aria-label","Disabled input example",1,"form-control",3,"ngModel","ngModelChange"],["type","url","placeholder","Image Url","aria-label","Disabled input example",1,"form-control",3,"ngModel","ngModelChange"],[1,"questions-1"],["type","text","placeholder","Option A","aria-label","Disabled input example",1,"form-control","sm-1",3,"ngModel","ngModelChange"],["type","text","placeholder","Option B","aria-label","Disabled input example",1,"form-control","sm-2",3,"ngModel","ngModelChange"],[1,"questions-2"],["type","text","placeholder","Option C","aria-label","Disabled input example",1,"form-control","sm-1",3,"ngModel","ngModelChange"],["type","text","placeholder","Option D","aria-label","Disabled input example",1,"form-control","sm-2",3,"ngModel","ngModelChange"],["type","text","placeholder","Related Concepts","aria-label","Disabled input example",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"login-button",3,"click"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),c._uU(7,"Add Question"),c.qZA(),c._UZ(8,"i",6)(9,"hr",7),c.qZA()(),c.TgZ(10,"div",8),c._UZ(11,"input",9),c.ALo(12,"async"),c._UZ(13,"hr"),c.TgZ(14,"input",10),c.NdJ("ngModelChange",function(u){return i.questionText=u}),c.qZA(),c.TgZ(15,"input",11),c.NdJ("ngModelChange",function(u){return i.imageUrl=u}),c.qZA(),c._UZ(16,"hr"),c.TgZ(17,"div",12)(18,"input",13),c.NdJ("ngModelChange",function(u){return i.optionA=u}),c.qZA(),c.TgZ(19,"input",14),c.NdJ("ngModelChange",function(u){return i.optionB=u}),c.qZA()(),c.TgZ(20,"div",15)(21,"input",16),c.NdJ("ngModelChange",function(u){return i.optionC=u}),c.qZA(),c.TgZ(22,"input",17),c.NdJ("ngModelChange",function(u){return i.optionD=u}),c.qZA()(),c._UZ(23,"hr"),c.TgZ(24,"input",18),c.NdJ("ngModelChange",function(u){return i.relatedConcepts=u}),c.qZA(),c.TgZ(25,"button",19),c.NdJ("click",function(){return i.addQuestion()}),c._uU(26,"SEND"),c.qZA()()()()),2&e){let a;c.xp6(11),c.s9C("placeholder",null==(a=c.lcZ(12,8,i.course))||null==a[0]?null:a[0].name),c.xp6(3),c.Q6J("ngModel",i.questionText),c.xp6(1),c.Q6J("ngModel",i.imageUrl),c.xp6(3),c.Q6J("ngModel",i.optionA),c.xp6(1),c.Q6J("ngModel",i.optionB),c.xp6(2),c.Q6J("ngModel",i.optionC),c.xp6(1),c.Q6J("ngModel",i.optionD),c.xp6(2),c.Q6J("ngModel",i.relatedConcepts)}},dependencies:[H4,v,cs,Qi,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.navbar-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;position:static;vertical-align:top}.add-question-title[_ngcontent-%COMP%]{margin-top:70px;margin-left:275px;display:inline-block}.title[_ngcontent-%COMP%]{display:inline-block;font-size:26px;color:#a9a9a9;font-family:Arial,Helvetica,sans-serif}.icon[_ngcontent-%COMP%]{display:inline-block;color:#a9a9a9;position:relative;top:-3px;margin-left:13px}.top-hr[_ngcontent-%COMP%]{width:60px;height:3px;border:none;border-radius:15px;background-color:#92b4f4;margin-top:-7px;margin-bottom:30px}.content[_ngcontent-%COMP%]{display:inline-block;margin-top:100px;width:800px;margin-left:200px}.questions-1[_ngcontent-%COMP%]{display:inline-block;margin-right:20px}.questions-2[_ngcontent-%COMP%]{display:inline-block}input[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}.sm-1[_ngcontent-%COMP%], .sm-2[_ngcontent-%COMP%]{width:390px}button[_ngcontent-%COMP%]{width:200px;height:50px;margin-top:100px}"]}),t})();function bS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",14)(1,"button",15),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.approveQuestion())}),c._UZ(2,"i",16),c.qZA(),c.TgZ(3,"button",17),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.rejectQuestion())}),c._UZ(4,"i",18),c.qZA()()}}let wS=(()=>{class t{constructor(e){this.questionService=e}ngOnInit(){this.user=this.questionService.getUserById(this.question.userId),this.course=this.questionService.getCourseById(this.question.courseId)}approveQuestion(){console.log("APPROVE"),this.questionService.approveQuestionById(this.question.id)}rejectQuestion(){console.log("REJECT"),this.questionService.rejectQuestionById(this.question.id)}getStatusClass(e){return 1===e?["approved"]:2===e?["rejected"]:[]}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(kl))},t.\u0275cmp=c.Xpm({type:t,selectors:[["question"]],inputs:{question:"question"},decls:32,vars:23,consts:[[1,"card","main"],[1,"status-div",3,"ngClass"],[1,"content"],[1,"header-div","card-header"],[1,"header-1"],[1,"header-2"],[1,"content-div","card-body"],[1,"col-1","image-div"],["href","../../../../assets/code-example.png","download",""],[1,"code-image",3,"src"],[1,"col-2","question-div"],[1,"col-3","answer-div"],["class","col-4 professor-div",4,"ngIf"],[1,"card-footer","footer-div"],[1,"col-4","professor-div"],[1,"first-button",3,"click"],[1,"fa-solid","fa-check","fa-2xl"],[3,"click"],[1,"fa-solid","fa-x","fa-xl"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"div",3)(4,"p",4),c._uU(5),c.ALo(6,"async"),c.ALo(7,"async"),c.ALo(8,"async"),c.qZA(),c.TgZ(9,"p",5),c._uU(10),c.ALo(11,"async"),c.qZA()(),c.TgZ(12,"div",6)(13,"div",7)(14,"a",8),c._UZ(15,"img",9),c.qZA()(),c.TgZ(16,"div",10),c._uU(17),c.qZA(),c.TgZ(18,"div",11)(19,"p"),c._uU(20),c.qZA(),c.TgZ(21,"p"),c._uU(22),c.qZA(),c.TgZ(23,"p"),c._uU(24),c.qZA(),c.TgZ(25,"p"),c._uU(26),c.qZA()(),c.YNc(27,bS,5,0,"div",12),c.ALo(28,"async"),c.qZA(),c.TgZ(29,"div",13)(30,"p"),c._uU(31),c.qZA()()()()),2&e){let a,u,g;c.xp6(1),c.Q6J("ngClass",i.getStatusClass(i.question.status)),c.xp6(4),c.lnq("",null==(a=c.lcZ(6,13,i.user))||null==a[0]?null:a[0].title," ",null==(a=c.lcZ(7,15,i.user))||null==a[0]?null:a[0].firstName," ",null==(a=c.lcZ(8,17,i.user))||null==a[0]?null:a[0].lastName,""),c.xp6(5),c.Oqu(null==(u=c.lcZ(11,19,i.course))||null==u[0]?null:u[0].name),c.xp6(5),c.s9C("src",i.question.imageURL,c.LSH),c.xp6(2),c.hij(" ",i.question.text," "),c.xp6(3),c.hij(" a. ",i.question.optionA," "),c.xp6(2),c.hij(" b. ",i.question.optionB," "),c.xp6(2),c.hij(" c. ",i.question.optionC," "),c.xp6(2),c.hij(" c. ",i.question.optionD," "),c.xp6(1),c.Q6J("ngIf",0===i.question.status&&0===(null==(g=c.lcZ(28,21,i.user))||null==g[0]?null:g[0].type)),c.xp6(4),c.Oqu(i.question.tags)}},dependencies:[Ut,t2,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100px;display:inline-block;width:100%;color:#fff;margin-bottom:10px;box-shadow:0 5px 3px 1px #00000080;border-radius:5px;height:200px;color:#000}.status-div[_ngcontent-%COMP%]{width:.4%;height:101%;display:inline-block;background-color:#ff570a;border-radius:5px 0 0 5px;margin-left:-1px;margin-top:-1px}.content[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:99.6%}.header-1[_ngcontent-%COMP%]{display:inline-block}.header-2[_ngcontent-%COMP%]{float:right}.header-div[_ngcontent-%COMP%]{height:40px}.content-div[_ngcontent-%COMP%]{height:130px}.footer-div[_ngcontent-%COMP%]{height:30px}.footer-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:-6px;text-align:center}.code-image[_ngcontent-%COMP%]{width:200px;max-width:200px;max-height:110px;margin-top:-5px}.col-1[_ngcontent-%COMP%]{display:inline-block}.col-2[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin-left:125px;vertical-align:middle;width:500px}.col-3[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.col-4[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;width:270px}.col-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2px;width:500px;height:23px;overflow:hidden}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin-left:10%}.first-button[_ngcontent-%COMP%]{margin-left:60%}.fa-check[_ngcontent-%COMP%]{color:#92b4f4}.fa-x[_ngcontent-%COMP%]{color:#d72638}.approved[_ngcontent-%COMP%]{background-color:#242582}.rejected[_ngcontent-%COMP%]{background-color:#d72638}"]}),t})();function HS(t,n){if(1&t&&(c.TgZ(0,"option",15),c._uU(1),c.qZA()),2&t){const e=n.$implicit;c.Q6J("value",e.id),c.xp6(1),c.hij(" ",e.name," ")}}function VS(t,n){1&t&&c._UZ(0,"question",16),2&t&&c.Q6J("question",n.$implicit)}function zS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"a",17),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.addQuestion())}),c.TgZ(1,"div",18),c._UZ(2,"i",19),c.qZA()()}}let xS=(()=>{class t{constructor(e,i,a){this.cookieService=e,this.courseService=i,this.questionService=a,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.currentUser=this.courseService.getUserById(this.currentUserId),this.currentUser.subscribe(u=>{this.enrolledCourses=0===u[0].type?this.courseService.getEnrolledCoursesForUserId(this.currentUserId):this.courseService.getProfessorCourses(this.currentUserId)}),this.questions=this.questionService.getQuestionsForUserId(this.currentUserId,this.currentUser)}ngOnInit(){}addQuestion(){this.cookieService.createCookie("selectedCourse",this.selectedCourse,1)}onSelectCourse(){this.cookieService.createCookie("selectedCourse",this.selectedCourse,1),this.questions=this.questionService.getQuestionsForUserId(this.currentUserId,this.currentUser)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1),c.Y36(w4),c.Y36(kl))},t.\u0275cmp=c.Xpm({type:t,selectors:[["questions-page"]],decls:19,vars:8,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"header"],[1,"settings-title"],[1,"title"],[1,"fa-solid","fa-clipboard-question","icon"],[1,"top-hr"],[1,"search-div"],["id","autoSizingSelect",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"questions-div"],[1,"question-list"],[3,"question",4,"ngFor","ngForOf"],["href","add-question",3,"click",4,"ngIf"],[3,"value"],[3,"question"],["href","add-question",3,"click"],[1,"add-question-div"],[1,"fa-solid","fa-plus","fa-2xl"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),c._uU(7,"Questions"),c.qZA(),c._UZ(8,"i",6)(9,"hr",7),c.qZA(),c.TgZ(10,"div",8)(11,"select",9),c.NdJ("ngModelChange",function(u){return i.selectedCourse=u})("change",function(){return i.onSelectCourse()}),c.YNc(12,HS,2,2,"option",10),c.ALo(13,"async"),c.qZA()()(),c.TgZ(14,"div",11)(15,"div",12),c.YNc(16,VS,1,1,"question",13),c.ALo(17,"async"),c.qZA()(),c.YNc(18,zS,3,0,"a",14),c.qZA()()),2&e&&(c.xp6(11),c.Q6J("ngModel",i.selectedCourse),c.xp6(1),c.Q6J("ngForOf",c.lcZ(13,4,i.enrolledCourses)),c.xp6(4),c.Q6J("ngForOf",c.lcZ(17,6,i.questions)),c.xp6(2),c.Q6J("ngIf",null!=i.selectedCourse))},dependencies:[u1,t2,H4,bm,Hm,xu,cs,Qi,wS,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.navbar-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;position:static;vertical-align:top}.settings-title[_ngcontent-%COMP%]{margin-top:70px;margin-left:275px;display:inline-block}.title[_ngcontent-%COMP%]{display:inline-block;font-size:26px;color:#a9a9a9;font-family:Arial,Helvetica,sans-serif}.icon[_ngcontent-%COMP%]{display:inline-block;color:#a9a9a9;position:relative;top:-3px;margin-left:13px}.top-hr[_ngcontent-%COMP%]{width:60px;height:3px;border:none;border-radius:15px;background-color:#92b4f4;margin-top:-7px;margin-bottom:30px}.search-div[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin-top:65px;position:relative;margin-left:500px;width:400px}.header[_ngcontent-%COMP%]{display:inline-block}.question-list[_ngcontent-%COMP%]{margin-top:25px;padding-left:50px;padding-right:15px;width:1490px;height:645px;overflow:auto}.question-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:initial;left:-10px;padding-top:25px}.question-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffff70}.add-question-div[_ngcontent-%COMP%]{background-color:#ff570a;width:50px;height:50px;border-radius:50px}a[_ngcontent-%COMP%]{color:#fff;text-align:center;float:right;margin-right:50px;margin-top:35px}a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;top:8px;left:1px}.add-question-div[_ngcontent-%COMP%]:hover{background-color:#ff7843}.add-question-div[_ngcontent-%COMP%]:active{background-color:#d34401}"]}),t})(),zm=(()=>{class t{constructor(e,i){this.db=e,this.cookieService=i,this.quizzes$=this.db.list("/quiz").valueChanges()}addQuiz(e){console.log("AHA"),this.db.list("/quiz").push(e)}getQuizzesForUserId(e,i){return i.pipe(Gt(a=>this.quizzes$.pipe((0,Ze.U)(0===a[0].type?u=>u.filter(g=>g.courseId===parseInt(this.cookieService.getCookie("selectedCourse"))):u=>u.filter(g=>g.professorId===e&&g.courseId===parseInt(this.cookieService.getCookie("selectedCourse")))))))}deleteQuiz(e){this.db.list("/quiz",a=>a.orderByChild("id").equalTo(e)).snapshotChanges().subscribe(a=>{a.forEach(u=>{this.db.object(`/quiz/${u.key}`).remove().then(()=>{console.log(`Quiz "${e}" deleted successfully.`)}).catch(C=>{console.error(`Error deleting quiz "${e}":`,C)})})})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn),c.LFG(U1))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SS=(()=>{class t{constructor(e,i,a){this.quizService=e,this.cookieService=i,this.questionService=a}ngOnInit(){this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.name="",this.tags="",this.url="",this.course=this.questionService.getCourseById(this.cookieService.getCookie("selectedCourse"))}addQuiz(){if(console.log("AAAA"),this.name&&this.tags&&this.url){const e={courseId:parseInt(this.cookieService.getCookie("selectedCourse")),professorId:parseInt(this.cookieService.getCookie("currentUser")),name:this.name,tags:this.tags,url:this.url,id:Math.floor(1e9*Math.random())};this.quizService.addQuiz(e),this.name="",this.tags="",this.url=""}}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(zm),c.Y36(U1),c.Y36(kl))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-add-quiz-page"]],decls:23,vars:6,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"header"],[1,"new-quiz-title"],[1,"title"],[1,"fa-solid","fa-pen","icon"],[1,"top-hr"],[1,"content"],[1,"cd"],["type","text","aria-label","Disabled input example","disabled","",1,"form-control",3,"placeholder"],[1,"other-hr"],["type","text","placeholder","Quiz Name","aria-label","Disabled input example",1,"form-control",3,"ngModel","ngModelChange"],["type","url","placeholder","Image Url","aria-label","Disabled input example",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Related Concepts","aria-label","Disabled input example",1,"form-control",3,"ngModel","ngModelChange"],["href","add-quiz"],[1,"add-quiz-div"],["type","submit",1,"login-button",3,"click"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),c._uU(7,"New Quiz"),c.qZA(),c._UZ(8,"i",6)(9,"hr",7),c.qZA()(),c.TgZ(10,"div",8)(11,"div",9),c._UZ(12,"input",10),c.ALo(13,"async"),c._UZ(14,"hr",11),c.TgZ(15,"input",12),c.NdJ("ngModelChange",function(u){return i.name=u}),c.qZA(),c.TgZ(16,"input",13),c.NdJ("ngModelChange",function(u){return i.url=u}),c.qZA(),c._UZ(17,"hr",11),c.TgZ(18,"input",14),c.NdJ("ngModelChange",function(u){return i.tags=u}),c.qZA()(),c.TgZ(19,"a",15)(20,"div",16)(21,"button",17),c.NdJ("click",function(){return i.addQuiz()}),c._uU(22,"SAVE QUIZ"),c.qZA()()()()()()),2&e){let a;c.xp6(12),c.s9C("placeholder",null==(a=c.lcZ(13,4,i.course))||null==a[0]?null:a[0].name),c.xp6(3),c.Q6J("ngModel",i.name),c.xp6(1),c.Q6J("ngModel",i.url),c.xp6(2),c.Q6J("ngModel",i.tags)}},dependencies:[H4,v,cs,Qi,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.navbar-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;position:static;vertical-align:top}.new-quiz-title[_ngcontent-%COMP%]{margin-top:70px;margin-left:275px;display:inline-block}.title[_ngcontent-%COMP%]{display:inline-block;font-size:26px;color:#a9a9a9;font-family:Arial,Helvetica,sans-serif}.icon[_ngcontent-%COMP%]{display:inline-block;color:#a9a9a9;position:relative;top:-3px;margin-left:13px}.top-hr[_ngcontent-%COMP%]{width:60px;height:3px;border:none;border-radius:15px;background-color:#92b4f4;margin-top:-7px;margin-bottom:30px}.search-div[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin-top:65px;position:relative;margin-left:500px;width:400px}.header[_ngcontent-%COMP%]{display:inline-block}.question-list[_ngcontent-%COMP%]{margin-top:25px;padding-left:50px;padding-right:15px;width:1490px;height:645px;overflow:auto}.question-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:initial;left:-10px;padding-top:25px}.question-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffff70}.add-quiz-div[_ngcontent-%COMP%]{background-color:#ff570a;width:50px;height:50px;border-radius:50px}a[_ngcontent-%COMP%]{color:#fff;text-align:center;float:right;margin-right:175px;margin-top:35px}a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;top:8px;left:1px}.add-quiz-div[_ngcontent-%COMP%]:hover{background-color:#ff7843}.add-quiz-div[_ngcontent-%COMP%]:active{background-color:#d34401}.login-button[_ngcontent-%COMP%]{width:200px;height:50px}a[_ngcontent-%COMP%]{text-decoration:none}.content[_ngcontent-%COMP%]{display:inline;margin-top:100px;margin-left:200px}.form-control[_ngcontent-%COMP%]{margin-left:200px;margin-bottom:25px}.other-hr[_ngcontent-%COMP%]{margin-left:200px;width:100%}.cd[_ngcontent-%COMP%]{margin-top:150px}"]}),t})();function LS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",11)(1,"button",12),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.deleteQuiz())}),c._UZ(2,"i",13),c.qZA()()}}let ES=(()=>{class t{constructor(e,i){this.questionService=e,this.quizService=i}ngOnInit(){this.user=this.questionService.getUserById(this.quiz.professorId),this.course=this.questionService.getCourseById(this.quiz.courseId)}deleteQuiz(){this.quizService.deleteQuiz(this.quiz.id)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(kl),c.Y36(zm))},t.\u0275cmp=c.Xpm({type:t,selectors:[["quiz"]],inputs:{quiz:"quiz"},decls:21,vars:18,consts:[[1,"card","main"],[1,"status-div"],[1,"content"],[1,"header-div","card-header"],[1,"header-1"],[1,"header-2"],[1,"content-div","card-body"],[1,"col-1"],[3,"href"],["class","col-2",4,"ngIf"],[1,"card-footer","footer-div"],[1,"col-2"],[3,"click"],[1,"fa-solid","fa-x","fa-xl"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"div",3)(4,"p",4),c._uU(5),c.ALo(6,"async"),c.ALo(7,"async"),c.ALo(8,"async"),c.qZA(),c.TgZ(9,"p",5),c._uU(10),c.ALo(11,"async"),c.qZA()(),c.TgZ(12,"div",6)(13,"div",7)(14,"a",8),c._uU(15),c.qZA()(),c.YNc(16,LS,3,0,"div",9),c.ALo(17,"async"),c.qZA(),c.TgZ(18,"div",10)(19,"p"),c._uU(20),c.qZA()()()()),2&e){let a,u,g;c.xp6(5),c.lnq(" ",null==(a=c.lcZ(6,8,i.user))||null==a[0]?null:a[0].title," ",null==(a=c.lcZ(7,10,i.user))||null==a[0]?null:a[0].firstName," ",null==(a=c.lcZ(8,12,i.user))||null==a[0]?null:a[0].lastName," "),c.xp6(5),c.hij(" ",null==(u=c.lcZ(11,14,i.course))||null==u[0]?null:u[0].name," "),c.xp6(4),c.s9C("href",i.quiz.url,c.LSH),c.xp6(1),c.hij(" ",i.quiz.name," "),c.xp6(1),c.Q6J("ngIf",0===(null==(g=c.lcZ(17,16,i.user))||null==g[0]?null:g[0].type)),c.xp6(4),c.Oqu(i.quiz.tags)}},dependencies:[t2,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100px;display:inline-block;width:100%;color:#fff;margin-bottom:10px;box-shadow:0 5px 3px 1px #00000080;border-radius:5px;height:200px;color:#000}.status-div[_ngcontent-%COMP%]{width:.4%;height:101%;display:inline-block;background-color:#d72638;border-radius:5px 0 0 5px;margin-left:-1px;margin-top:-1px}.content[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:99.6%}.header-1[_ngcontent-%COMP%]{display:inline-block}.header-2[_ngcontent-%COMP%]{float:right}.header-div[_ngcontent-%COMP%]{height:40px}.card-body[_ngcontent-%COMP%]{margin-top:15px;height:110px}.footer-div[_ngcontent-%COMP%]{height:30px}.footer-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:-6px;text-align:center}.col-1[_ngcontent-%COMP%]{display:inline-block;margin-left:125px;position:relative;margin-top:1.5%}.col-2[_ngcontent-%COMP%]{width:270px;margin-top:1.5%;float:right}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin-left:125px}.fa-x[_ngcontent-%COMP%]{color:#d72638}a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})();function AS(t,n){if(1&t&&(c.TgZ(0,"option",15),c._uU(1),c.qZA()),2&t){const e=n.$implicit;c.Q6J("value",e.id),c.xp6(1),c.hij(" ",e.name," ")}}function DS(t,n){1&t&&c._UZ(0,"quiz",16),2&t&&c.Q6J("quiz",n.$implicit)}function IS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"a",17),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.addQuiz())}),c.TgZ(1,"div",18),c._UZ(2,"i",19),c.qZA()()}}let TS=(()=>{class t{constructor(e,i,a){this.cookieService=e,this.courseService=i,this.quizService=a}ngOnInit(){this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.currentUser=this.courseService.getUserById(this.currentUserId),this.currentUser.subscribe(e=>{this.enrolledCourses=0===e[0].type?this.courseService.getEnrolledCoursesForUserId(this.currentUserId):this.courseService.getProfessorCourses(this.currentUserId)}),this.quizzes=this.quizService.getQuizzesForUserId(this.currentUserId,this.currentUser)}onSelectCourse(){this.cookieService.createCookie("selectedCourse",this.selectedCourse,1),this.quizzes=this.quizService.getQuizzesForUserId(this.currentUserId,this.currentUser)}addQuiz(){this.cookieService.createCookie("selectedCourse",this.selectedCourse,1)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1),c.Y36(w4),c.Y36(zm))},t.\u0275cmp=c.Xpm({type:t,selectors:[["quizzes-page"]],decls:20,vars:10,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"header"],[1,"quizzes-title"],[1,"title"],[1,"fa-solid","fa-pen","icon"],[1,"top-hr"],[1,"search-div"],["id","autoSizingSelect",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"quizzes-div"],[1,"quizzes-list"],[3,"quiz",4,"ngFor","ngForOf"],["href","add-quiz",3,"click",4,"ngIf"],[3,"value"],[3,"quiz"],["href","add-quiz",3,"click"],[1,"add-quiz-div"],[1,"fa-solid","fa-plus","fa-2xl"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),c._uU(7,"Quizzes"),c.qZA(),c._UZ(8,"i",6)(9,"hr",7),c.qZA(),c.TgZ(10,"div",8)(11,"select",9),c.NdJ("ngModelChange",function(u){return i.selectedCourse=u})("change",function(){return i.onSelectCourse()}),c.YNc(12,AS,2,2,"option",10),c.ALo(13,"async"),c.qZA()()(),c.TgZ(14,"div",11)(15,"div",12),c.YNc(16,DS,1,1,"quiz",13),c.ALo(17,"async"),c.qZA()(),c.YNc(18,IS,3,0,"a",14),c.ALo(19,"async"),c.qZA()()),2&e){let a;c.xp6(11),c.Q6J("ngModel",i.selectedCourse),c.xp6(1),c.Q6J("ngForOf",c.lcZ(13,4,i.enrolledCourses)),c.xp6(4),c.Q6J("ngForOf",c.lcZ(17,6,i.quizzes)),c.xp6(2),c.Q6J("ngIf",null!=i.selectedCourse&&1===(null==(a=c.lcZ(19,8,i.currentUser))||null==a[0]?null:a[0].type))}},dependencies:[u1,t2,H4,bm,Hm,xu,cs,Qi,ES,I1],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.navbar-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;position:static;vertical-align:top}.quizzes-title[_ngcontent-%COMP%]{margin-top:70px;margin-left:275px;display:inline-block}.title[_ngcontent-%COMP%]{display:inline-block;font-size:26px;color:#a9a9a9;font-family:Arial,Helvetica,sans-serif}.icon[_ngcontent-%COMP%]{display:inline-block;color:#a9a9a9;position:relative;top:-3px;margin-left:13px}.top-hr[_ngcontent-%COMP%]{width:60px;height:3px;border:none;border-radius:15px;background-color:#92b4f4;margin-top:-7px;margin-bottom:30px}.search-div[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin-top:65px;position:relative;margin-left:500px;width:400px}.header[_ngcontent-%COMP%]{display:inline-block}.quizzes-list[_ngcontent-%COMP%]{margin-top:25px;padding-left:50px;padding-right:15px;width:1490px;height:645px;overflow:auto}.quizzes-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:initial;left:-10px;padding-top:25px}.quizzes-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffff70}.add-quiz-div[_ngcontent-%COMP%]{background-color:#ff570a;width:50px;height:50px;border-radius:50px}a[_ngcontent-%COMP%]{color:#fff;text-align:center;float:right;margin-right:50px;margin-top:35px}a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;top:8px;left:1px}.add-quiz-div[_ngcontent-%COMP%]:hover{background-color:#ff7843}.add-quiz-div[_ngcontent-%COMP%]:active{background-color:#d34401}"]}),t})(),NS=(()=>{class t{constructor(e){this.db=e}getUserById(e){return this.db.list("user",a=>a.orderByChild("id").equalTo(e)).valueChanges()}updateUser(e){return this.db.list("/user").update(e.id.toString(),e)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(Tn))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function PS(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",8)(1,"div",9),c._UZ(2,"img",10),c.TgZ(3,"input",11),c.NdJ("ngModelChange",function(a){c.CHM(e);const u=c.oxw();return c.KtG(u.profilePicURL=a)}),c.qZA()(),c._UZ(4,"hr",12),c.TgZ(5,"div",13),c._UZ(6,"input",14),c.TgZ(7,"input",15),c.NdJ("ngModelChange",function(a){c.CHM(e);const u=c.oxw();return c.KtG(u.gender=a)}),c.qZA()(),c._UZ(8,"hr",12),c.TgZ(9,"div",16)(10,"input",17),c.NdJ("ngModelChange",function(a){c.CHM(e);const u=c.oxw();return c.KtG(u.firstName=a)}),c.qZA(),c.TgZ(11,"input",18),c.NdJ("ngModelChange",function(a){c.CHM(e);const u=c.oxw();return c.KtG(u.lastName=a)}),c.qZA()(),c._UZ(12,"hr",12),c.TgZ(13,"div",19)(14,"input",20),c.NdJ("ngModelChange",function(a){c.CHM(e);const u=c.oxw();return c.KtG(u.email=a)}),c.qZA(),c.TgZ(15,"input",21),c.NdJ("ngModelChange",function(a){c.CHM(e);const u=c.oxw();return c.KtG(u.password=a)}),c.qZA()(),c.TgZ(16,"button",22),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.onUpdateUserSubmit())}),c._uU(17," UPDATE "),c.qZA(),c.TgZ(18,"a",23)(19,"button",24),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.logout())}),c._uU(20," LOG OUT "),c.qZA()()()}if(2&t){const e=c.oxw();c.xp6(2),c.s9C("src",e.profilePicURL,c.LSH),c.xp6(1),c.Q6J("ngModel",e.profilePicURL),c.xp6(3),c.Q6J("value",0===e.currentUser.type?"Student":"Professor"),c.xp6(1),c.Q6J("ngModel",e.gender),c.xp6(3),c.Q6J("ngModel",e.firstName),c.xp6(1),c.Q6J("ngModel",e.lastName),c.xp6(3),c.Q6J("ngModel",e.email),c.xp6(1),c.Q6J("ngModel",e.password)}}let kS=(()=>{class t{constructor(e,i,a){this.cookieService=e,this.settingsService=i,this.router=a,this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.profilePicURL="",this.role="",this.gender="",this.firstName="",this.lastName="",this.email="",this.password=""}ngOnInit(){this.settingsService.getUserById(this.currentUserId).subscribe(e=>{this.currentUser=e[0],this.profilePicURL=this.currentUser.profilePicURL,this.role=this.currentUser.type,this.gender=this.currentUser.title,this.firstName=this.currentUser.firstName,this.lastName=this.currentUser.lastName,this.email=this.currentUser.email,this.password=this.currentUser.password})}onUpdateUserSubmit(){alert(this.firstName);const e={...this.currentUser,profilePicURL:this.profilePicURL,type:this.role,title:this.gender,firstName:this.firstName,lastName:this.lastName,password:this.password,email:this.email};this.settingsService.updateUser(e).then(()=>{console.log("User updated successfully")}).catch(i=>{console.error("Error updating user:",i)})}logout(){document.cookie="currentUser=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1),c.Y36(NS),c.Y36(w2))},t.\u0275cmp=c.Xpm({type:t,selectors:[["settings-page"]],decls:10,vars:1,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"settings-title"],[1,"title"],[1,"fa-solid","fa-cog","icon"],[1,"top-hr"],["class","form",4,"ngIf"],[1,"form"],[1,"settings-div"],[1,"profile-picture",3,"src"],["type","text","id","profilePicUrlInput","placeholder","Profile Pic URL",3,"ngModel","ngModelChange"],[1,"divider"],[1,"extra-div"],["type","text","id","roleInput","placeholder","Student","disabled","",3,"value"],["type","text","id","genderInput","placeholder","Mr.",3,"ngModel","ngModelChange"],[1,"name-div"],["type","text","id","firstNameInput","placeholder","John",3,"ngModel","ngModelChange"],["type","text","id","lastNameInput","placeholder","Smith",3,"ngModel","ngModelChange"],[1,"login-div"],["type","email","id","emailInput","placeholder","email@yahoo.com","disabled","",3,"ngModel","ngModelChange"],["type","password","id","passwordInput","placeholder","Password",3,"ngModel","ngModelChange"],["type","submit",1,"update-button","login-button",3,"click"],["href",""],[1,"logout-button",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"h1",4),c._uU(6,"Settings"),c.qZA(),c._UZ(7,"i",5)(8,"hr",6),c.qZA(),c.YNc(9,PS,21,8,"div",7),c.qZA()()),2&e&&(c.xp6(9),c.Q6J("ngIf",i.currentUser))},dependencies:[t2,H4,v,cs,Qi],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.navbar-div[_ngcontent-%COMP%]{display:inline-block}.content-div[_ngcontent-%COMP%]{display:inline-block;position:static;vertical-align:top}.settings-title[_ngcontent-%COMP%]{margin-top:70px;margin-left:275px}.title[_ngcontent-%COMP%]{display:inline-block;font-size:26px;color:#a9a9a9;font-family:Arial,Helvetica,sans-serif}.icon[_ngcontent-%COMP%]{display:inline-block;color:#a9a9a9;position:relative;top:-3px;margin-left:13px}.top-hr[_ngcontent-%COMP%]{width:60px;height:3px;border:none;border-radius:15px;background-color:#92b4f4;margin-top:-7px;margin-bottom:30px}.profile-picture[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50px;display:inline-block;margin-right:25px}.profile-picture-url[_ngcontent-%COMP%]{display:inline-block!important}.settings-div[_ngcontent-%COMP%]{display:inline-block}input[_ngcontent-%COMP%]:focus{outline-style:solid;outline-color:#c2dbfe;outline-width:4px;border:1px solid rgba(0,73,175,.5058823529)}.update-button[_ngcontent-%COMP%]{width:200px;height:50px}.logout-button[_ngcontent-%COMP%]{background-color:#d72638!important;border-radius:25px;background:#D72638;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px;width:200px;height:50px}.form[_ngcontent-%COMP%]{margin-left:200px}input[_ngcontent-%COMP%]{width:400px;height:40px;border-radius:5px;border:1px solid rgb(212,212,212);padding-left:12px;outline:none;margin-right:25px;margin-bottom:25px}.divider[_ngcontent-%COMP%]{width:825px;height:1px;border:none;border-radius:15px;background-color:#000;margin-top:20px;margin-bottom:40px}.settings-div[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:5px}.update-button[_ngcontent-%COMP%]{margin-top:100px}.logout-button[_ngcontent-%COMP%]{margin-left:800px}a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})(),OS=(()=>{class t{constructor(e,i){this.cookieService=e,this.navbarService=i,this.currentUserId=this.cookieService.getCookie("currentUser")}ngOnInit(){this.navbarService.getUserById(this.currentUserId).subscribe(e=>{this.currentUser=e[0],console.log(this.currentUser)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(U1),c.Y36(Vm))},t.\u0275cmp=c.Xpm({type:t,selectors:[["welcome-page"]],decls:12,vars:1,consts:[[1,"main"],[1,"navbar-div"],[1,"content-div"],[1,"wrapper"],[1,"welcome-title"],[1,"welcome-text"],["src","../../../../assets/Welcome.svg",1,"welcome-image"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"navbar"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"ul",4)(6,"li")(7,"span"),c._uU(8,"WELCOME!"),c.qZA()()()(),c.TgZ(9,"h2",5),c._uU(10),c.qZA(),c._UZ(11,"img",6),c.qZA()()),2&e&&(c.xp6(10),c.hij("Glad To Have You Back ",i.currentUser.firstName,"!"))},dependencies:[H4],styles:['.login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:110%}.welcome-title[_ngcontent-%COMP%]{color:#242582;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:125px;position:relative;top:-50px;left:300px}.welcome-text[_ngcontent-%COMP%]{color:#242582;font-size:35px;position:relative;top:-50px;left:320px}.welcome-image[_ngcontent-%COMP%]{width:500px;position:relative;top:-150px;right:-1000px}.navbar-div[_ngcontent-%COMP%], .content-div[_ngcontent-%COMP%]{display:inline-block}.wrapper[_ngcontent-%COMP%]{display:inline-flex;margin-left:-50px}.wrapper[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{height:120px;line-height:120px;overflow:hidden;margin-top:9px}.welcome-title[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;color:#242582;position:relative;top:0;animation:slide 30s steps(4) infinite}.welcome-title[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative}.welcome-title[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{left:0;content:"";position:absolute;height:100%;width:100%;border-left:2px solid #242582;background-color:#fff;animation:typing 3s steps(9) infinite}@keyframes typing{50%{left:100%;margin:0 -35px 0 35px}}']}),t})(),fi=(()=>{class t{constructor(e){this.router=e}canActivate(){const e=document.cookie.split(";").find(i=>i.includes("currentUser="));return null!==e?(e&&JSON.parse(e.split("=")[1]),!0):(this.router.navigate(["/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(w2))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class vC{}class _C{}class as{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const a=e.slice(0,i),u=a.toLowerCase(),g=e.slice(i+1).trim();this.maybeSetNormalizedName(a,u),this.headers.has(u)?this.headers.get(u).push(g):this.headers.set(u,[g])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const a=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(a,i),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof as?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new as;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof as?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const a=("a"===n.op?this.headers.get(e):void 0)||[];a.push(...i),this.headers.set(e,a);break;case"d":const u=n.value;if(u){let g=this.headers.get(e);if(!g)return;g=g.filter(C=>-1===u.indexOf(C)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class RS{encodeKey(n){return CC(n)}encodeValue(n){return CC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const US=/%(\d[a-f0-9])/gi,BS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CC(t){return encodeURIComponent(t).replace(US,(n,e)=>BS[e]??n)}function U9(t){return`${t}`}class nc{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new RS,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FS(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const u=a.indexOf("="),[g,C]=-1==u?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,u)),n.decodeValue(a.slice(u+1))],w=e.get(g)||[];w.push(C),e.set(g,w)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],a=Array.isArray(i)?i.map(U9):[U9(i)];this.map.set(e,a)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const a=n[i];Array.isArray(a)?a.forEach(u=>{e.push({param:i,value:u,op:"a"})}):e.push({param:i,value:a,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new nc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(U9(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const a=i.indexOf(U9(n.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class jS{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function yC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function MC(t){return typeof Blob<"u"&&t instanceof Blob}function bC(t){return typeof FormData<"u"&&t instanceof FormData}class Lu{constructor(n,e,i,a){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function $S(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,u=a):u=i,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new as),this.context||(this.context=new jS),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const C=e.indexOf("?");this.urlWithParams=e+(-1===C?"?":C<e.length-1?"&":"")+g}}else this.params=new nc,this.urlWithParams=e}serializeBody(){return null===this.body?null:yC(this.body)||MC(this.body)||bC(this.body)||function GS(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bC(this.body)?null:MC(this.body)?this.body.type||null:yC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,a=n.responseType||this.responseType,u=void 0!==n.body?n.body:this.body,g=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,C=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,S=n.params||this.params;const k=n.context??this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((N,Z)=>N.set(Z,n.setHeaders[Z]),w)),n.setParams&&(S=Object.keys(n.setParams).reduce((N,Z)=>N.set(Z,n.setParams[Z]),S)),new Lu(e,i,u,{params:S,headers:w,context:k,reportProgress:C,responseType:a,withCredentials:g})}}var H1=(()=>((H1=H1||{})[H1.Sent=0]="Sent",H1[H1.UploadProgress=1]="UploadProgress",H1[H1.ResponseHeader=2]="ResponseHeader",H1[H1.DownloadProgress=3]="DownloadProgress",H1[H1.Response=4]="Response",H1[H1.User=5]="User",H1))();class xm{constructor(n,e=200,i="OK"){this.headers=n.headers||new as,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Sm extends xm{constructor(n={}){super(n),this.type=H1.ResponseHeader}clone(n={}){return new Sm({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class B9 extends xm{constructor(n={}){super(n),this.type=H1.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new B9({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class wC extends xm{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Lm(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let HC=(()=>{class t{constructor(e){this.handler=e}request(e,i,a={}){let u;if(e instanceof Lu)u=e;else{let w,S;w=a.headers instanceof as?a.headers:new as(a.headers),a.params&&(S=a.params instanceof nc?a.params:new nc({fromObject:a.params})),u=new Lu(e,i,void 0!==a.body?a.body:null,{headers:w,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const g=Ue(u).pipe(rs(w=>this.handler.handle(w)));if(e instanceof Lu||"events"===a.observe)return g;const C=g.pipe(x(w=>w instanceof B9));switch(a.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return C.pipe((0,Ze.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return C.pipe((0,Ze.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return C.pipe((0,Ze.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return C.pipe((0,Ze.U)(w=>w.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new nc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,a={}){return this.request("PATCH",e,Lm(a,i))}post(e,i,a={}){return this.request("POST",e,Lm(a,i))}put(e,i,a={}){return this.request("PUT",e,Lm(a,i))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(vC))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();class VC{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const zC=new c.OlP("HTTP_INTERCEPTORS");let qS=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();const WS=/^\)\]\}',?\n/;let xC=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new F2.y(i=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((re,we)=>a.setRequestHeader(re,we.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const re=e.detectContentTypeHeader();null!==re&&a.setRequestHeader("Content-Type",re)}if(e.responseType){const re=e.responseType.toLowerCase();a.responseType="json"!==re?re:"text"}const u=e.serializeBody();let g=null;const C=()=>{if(null!==g)return g;const re=a.statusText||"OK",we=new as(a.getAllResponseHeaders()),Pe=function ZS(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return g=new Sm({headers:we,status:a.status,statusText:re,url:Pe}),g},w=()=>{let{headers:re,status:we,statusText:Pe,url:wt}=C(),Tt=null;204!==we&&(Tt=typeof a.response>"u"?a.responseText:a.response),0===we&&(we=Tt?200:0);let Xt=we>=200&&we<300;if("json"===e.responseType&&"string"==typeof Tt){const E1=Tt;Tt=Tt.replace(WS,"");try{Tt=""!==Tt?JSON.parse(Tt):null}catch(H2){Tt=E1,Xt&&(Xt=!1,Tt={error:H2,text:Tt})}}Xt?(i.next(new B9({body:Tt,headers:re,status:we,statusText:Pe,url:wt||void 0})),i.complete()):i.error(new wC({error:Tt,headers:re,status:we,statusText:Pe,url:wt||void 0}))},S=re=>{const{url:we}=C(),Pe=new wC({error:re,status:a.status||0,statusText:a.statusText||"Unknown Error",url:we||void 0});i.error(Pe)};let k=!1;const N=re=>{k||(i.next(C()),k=!0);let we={type:H1.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(we.total=re.total),"text"===e.responseType&&!!a.responseText&&(we.partialText=a.responseText),i.next(we)},Z=re=>{let we={type:H1.UploadProgress,loaded:re.loaded};re.lengthComputable&&(we.total=re.total),i.next(we)};return a.addEventListener("load",w),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),e.reportProgress&&(a.addEventListener("progress",N),null!==u&&a.upload&&a.upload.addEventListener("progress",Z)),a.send(u),i.next({type:H1.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",w),a.removeEventListener("timeout",S),e.reportProgress&&(a.removeEventListener("progress",N),null!==u&&a.upload&&a.upload.removeEventListener("progress",Z)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ur))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();const Em=new c.OlP("XSRF_COOKIE_NAME"),Am=new c.OlP("XSRF_HEADER_NAME");class SC{}let KS=(()=>{class t{constructor(e,i,a){this.doc=e,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=hi(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(ie),c.LFG(c.Lbi),c.LFG(Em))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})(),Dm=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(e);const u=this.tokenService.getToken();return null!==u&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,u)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(SC),c.LFG(Am))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})(),YS=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(zC,[]);this.chain=i.reduceRight((a,u)=>new VC(a,u),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(_C),c.LFG(c.zs3))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})(),QS=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Dm,useClass:qS}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Em,useValue:e.cookieName}:[],e.headerName?{provide:Am,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[Dm,{provide:zC,useExisting:Dm,multi:!0},{provide:SC,useClass:KS},{provide:Em,useValue:"XSRF-TOKEN"},{provide:Am,useValue:"X-XSRF-TOKEN"}]}),t})(),JS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[HC,{provide:vC,useClass:YS},xC,{provide:_C,useExisting:xC}],imports:[QS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})(),XS=(()=>{class t{constructor(e){this.http=e,this.apiUrl="https://api.openai.com/v1/chat/completions",this.apiKey="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"}sendMessage(e){const i=new as({"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`});return this.http.post(this.apiUrl,{model:"gpt-3.5-turbo",messages:[{role:"user",content:e}]},{headers:i})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(HC))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eL=[{path:"about",component:y_},{path:"add-question",component:MS,canActivate:[fi]},{path:"add-quiz",component:SS,canActivate:[fi]},{path:"changelog",component:M_},{path:"contact",component:w_},{path:"courses",component:V_},{path:"enroll",component:mS,canActivate:[fi]},{path:"forgot-password",component:qx},{path:"login",component:Wx},{path:"messages",component:aS,canActivate:[fi]},{path:"my-courses",component:pS,canActivate:[fi]},{path:"new-lecture",component:(()=>{class t{constructor(e,i,a,u){this.chatService=e,this.courseService=i,this.questionService=a,this.cookieService=u,this.aiOutput="",this.aiInput="",this.currentUserId=parseInt(this.cookieService.getCookie("currentUser")),this.name="",this.url=""}ngOnInit(){this.course=this.questionService.getCourseById(this.cookieService.getCookie("selectedCourse"))}addLecture(){if(this.name&&this.url){const e={courseId:parseInt(this.cookieService.getCookie("selectedCourse")),name:this.name,url:this.url,id:Math.floor(1e9*Math.random())};this.courseService.addLecture(e),this.name="",this.url=""}}onEnterKeyPressed(){this.aiOutput="Processing...",this.aiInput&&this.chatService.sendMessage(this.aiInput).subscribe(e=>{this.aiOutput=e.choices[0].message.content,console.log(this.aiOutput)},e=>{console.log("Error:",e)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(XS),c.Y36(w4),c.Y36(kl),c.Y36(U1))},t.\u0275cmp=c.Xpm({type:t,selectors:[["new-lecture"]],decls:35,vars:4,consts:[[1,"main"],[1,"s1"],[1,"s2"],[1,"stepBubble","crimson"],[1,"s3"],[1,"stepBubble","orange"],[1,"ai"],[1,"row"],[1,"col"],["type","text","placeholder","Generate me a 1000 word lecture about OOP","aria-label","AIInput",1,"form-control",3,"ngModel","keyup.enter","ngModelChange"],["type","text","placeholder","Powered By OpenAI's ChatGPT","aria-label","AIOutput","disabled","",1,"form-control"],[1,"s4"],[1,"stepBubble","jordy"],[1,"input"],["type","text","placeholder","Lecture Name","aria-label","Lecture Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Document's URL","aria-label","Document URL",1,"form-control",3,"ngModel","ngModelChange"],[1,"final-div"],[1,"s5"],[1,"stepBubble","navy"],["type","submit",1,"login-button",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"h1",1),c._uU(2,"How To Create a New Lecture"),c.qZA(),c.TgZ(3,"h2",2)(4,"div",3),c._uU(5,"1."),c.qZA(),c._uU(6," Create a new PDF File and Save it on Google Drive or Whatever Other Platform You Choose"),c.qZA(),c.TgZ(7,"h2",4)(8,"div",5),c._uU(9,"1b."),c.qZA(),c._uU(10," If you Choose So, Create The Lecture With The Following AI Generated Text"),c.qZA(),c.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"textarea",9),c.NdJ("keyup.enter",function(){return i.onEnterKeyPressed()})("ngModelChange",function(u){return i.aiInput=u}),c.qZA()(),c.TgZ(15,"div",8)(16,"textarea",10),c._uU(17),c.qZA()()()(),c.TgZ(18,"h2",11)(19,"div",12),c._uU(20,"2."),c.qZA(),c._uU(21," Choose a Name For Your Lecture and Paste The URL "),c.qZA(),c.TgZ(22,"div",13)(23,"div",7)(24,"div",8)(25,"input",14),c.NdJ("ngModelChange",function(u){return i.name=u}),c.qZA()(),c.TgZ(26,"div",8)(27,"input",15),c.NdJ("ngModelChange",function(u){return i.url=u}),c.qZA()()()(),c.TgZ(28,"div",16)(29,"h2",17)(30,"div",18),c._uU(31,"3."),c.qZA(),c._uU(32," Hit Save "),c.qZA(),c.TgZ(33,"button",19),c.NdJ("click",function(){return i.addLecture()}),c._uU(34,"SAVE"),c.qZA()()()),2&e&&(c.xp6(14),c.Q6J("ngModel",i.aiInput),c.xp6(3),c.Oqu(i.aiOutput),c.xp6(8),c.Q6J("ngModel",i.name),c.xp6(2),c.Q6J("ngModel",i.url))},dependencies:[v,cs,Qi],styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:100vh;background-image:url(Background.4d74e8bb045b39e6.svg);background-size:140%;font-family:Arial,Helvetica,sans-serif}.s1[_ngcontent-%COMP%]{margin-top:5vh;margin-left:50px;font-size:30px;color:#a9a9a9}.s2[_ngcontent-%COMP%]{font-size:20px;margin-top:10vh;margin-left:75px}.s3[_ngcontent-%COMP%]{font-size:20px;margin-top:10vh;margin-left:235px}.s4[_ngcontent-%COMP%]{font-size:20px;margin-top:6vh;margin-left:175px}.s5[_ngcontent-%COMP%]{font-size:20px;margin-top:5vh;margin-left:375px}.stepBubble[_ngcontent-%COMP%]{display:inline-block;border-radius:50px;background-color:red;width:30px;height:30px;text-align:center;font-size:16px}div.stepBubble[_ngcontent-%COMP%]{padding-top:5px;color:#fff}.crimson[_ngcontent-%COMP%]{background-color:#d72638}.orange[_ngcontent-%COMP%]{background-color:#ff570a}.jordy[_ngcontent-%COMP%]{background-color:#92b4f4}.navy[_ngcontent-%COMP%]{background-color:#242582}.ai[_ngcontent-%COMP%]{padding-left:50px;padding-right:50px;padding-top:25px}.input[_ngcontent-%COMP%]{padding-right:50px;padding-left:50px;padding-top:10px}textarea[_ngcontent-%COMP%]{resize:none;height:20vh}.final-div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.final-div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;margin-right:auto}.final-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;margin-top:20px;margin-right:50px}"]}),t})(),canActivate:[fi]},{path:"notifications",component:yS,canActivate:[fi]},{path:"questions",component:xS,canActivate:[fi]},{path:"quizzes",component:TS,canActivate:[fi]},{path:"register",component:Kx},{path:"settings",component:kS,canActivate:[fi]},{path:"welcome",component:OS,canActivate:[fi]},{path:"",component:om},{path:"*",component:om}];let tL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[fi],imports:[em.forRoot(eL),em]}),t})();var Bz={prefix:"fas",iconName:"mug-saucer",icon:[640,512,["coffee"],"f0f4","M96 64c0-17.7 14.3-32 32-32H448h64c70.7 0 128 57.3 128 128s-57.3 128-128 128H480c0 53-43 96-96 96H192c-53 0-96-43-96-96V64zM480 224h32c35.3 0 64-28.7 64-64s-28.7-64-64-64H480V224zM32 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]};let z2e=(()=>{class t{constructor(e){this.router=e}ngOnInit(){}openChangelog(){let e=this.router.createUrlTree(["/changelog"]);window.open(e.toString(),"_blank","resizable=no, width=1000, height=600")}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(w2))},t.\u0275cmp=c.Xpm({type:t,selectors:[["footer"]],decls:16,vars:0,consts:[[1,"main"],[1,"branding"],["src","../../../../assets/logo-color.svg",1,"navbar-brand","logo"],[1,"name","mb-lg-0"],[1,"version-control"],["type","button",1,"router-control",3,"click"],[1,"copyright"],[1,"arr"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div")(2,"div",1),c._UZ(3,"img",2),c.TgZ(4,"p",3),c._uU(5,"WE LEARN IT"),c.qZA()()(),c._UZ(6,"hr"),c.TgZ(7,"div")(8,"p",4),c._uU(9,"v 0.1 \xb7 "),c.TgZ(10,"a",5),c.NdJ("click",function(){return i.openChangelog()}),c._uU(11,"See Changelog"),c.qZA()(),c.TgZ(12,"p",6),c._uU(13,"\xa9 2022 Stefan Dobrescu"),c.TgZ(14,"span",7),c._uU(15,". All rights reserved"),c.qZA()()()())},styles:[".login-button[_ngcontent-%COMP%]{border-radius:25px;background:#FF570A;padding:7px 30px;border-width:0px;display:inline;color:#fff;text-decoration:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;letter-spacing:2px;font-size:16px}.login-button[_ngcontent-%COMP%]:hover{background-color:#ff7843}.login-button[_ngcontent-%COMP%]:active{background-color:#d34401}.main[_ngcontent-%COMP%]{height:20vh;box-shadow:inset 0 5px 4px gray}.version-control[_ngcontent-%COMP%]{float:left;font-size:14px;color:#242582;margin-left:5%}.copyright[_ngcontent-%COMP%]{float:right;font-size:14px;color:#242582;margin-right:5%}.logo[_ngcontent-%COMP%]{width:75px;margin-top:30px;display:inline-block;filter:brightness(45%)}.name[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;display:inline-block;margin-top:40px;vertical-align:middle;margin-left:50px;font-weight:500;letter-spacing:1px}.branding[_ngcontent-%COMP%]{text-align:center;color:#242582}.url[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.url-container[_ngcontent-%COMP%]{margin-right:50%;margin-left:50%;align-items:center;display:flex;justify-content:center;margin-top:10px}.router-control[_ngcontent-%COMP%]{font-size:14px;color:#242582;text-decoration:none}hr[_ngcontent-%COMP%]{position:relative;border:solid 1px #242582;margin-right:5%;margin-left:5%;margin-top:25px}@media screen and (max-width: 1919px){.main[_ngcontent-%COMP%]{display:none}}"]}),t})(),x2e=(()=>{class t{constructor(){this.faCoffee=Bz,this.title="WeLearnIt"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")(1,"footer")},dependencies:[Ud,z2e]}),t})(),sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2]}),t})(),S2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr]}),t})(),L2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr]}),t})(),E2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr]}),t})(),nx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr]}),t})(),A2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr,f6,gC]}),t})(),D2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr]}),t})(),I2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr]}),t})(),T2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr,v2,f6]}),t})(),rx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr,f6]}),t})(),N2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr,rx,f6]}),t})(),P2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr,f6]}),t})(),k2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr,f6,JS]}),t})(),O2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[v2,sr]}),t})(),R2e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t,bootstrap:[x2e]}),t.\u0275inj=c.cJS({imports:[Fl,tL,S2e,L2e,E2e,sr,nx,A2e,D2e,I2e,T2e,nx,rx,N2e,P2e,k2e,O2e,f6,gC,v2,s1.hO.initializeApp({apiKey:"AIzaSyDMeq81KNk_DHNRBpg7Tr7B1Yf2wNlEq28",authDomain:"welearnit-stf.firebaseapp.com",databaseURL:"https://welearnit-stf-default-rtdb.firebaseio.com",projectId:"welearnit-stf",storageBucket:"welearnit-stf.appspot.com",messagingSenderId:"971952653267",appId:"1:971952653267:web:d54a4c3553e980460fe526"}),ce,T5,s1.hO,ce,T5]}),t})();(0,c.G48)(),Cc().bootstrapModule(R2e).catch(t=>console.error(t))},9751:(it,be,I)=>{I.d(be,{y:()=>ae});var c=I(930),K=I(727),D=I(8822),ee=I(9635),X=I(2416),se=I(576),ie=I(2806);let ae=(()=>{class W{constructor(He){He&&(this._subscribe=He)}lift(He){const me=new W;return me.source=this,me.operator=He,me}subscribe(He,me,qe){const de=function B(W){return W&&W instanceof c.Lv||function U(W){return W&&(0,se.m)(W.next)&&(0,se.m)(W.error)&&(0,se.m)(W.complete)}(W)&&(0,K.Nn)(W)}(He)?He:new c.Hp(He,me,qe);return(0,ie.x)(()=>{const{operator:oe,source:Ge}=this;de.add(oe?oe.call(de,Ge):Ge?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(He){try{return this._subscribe(He)}catch(me){He.error(me)}}forEach(He,me){return new(me=le(me))((qe,de)=>{const oe=new c.Hp({next:Ge=>{try{He(Ge)}catch(st){de(st),oe.unsubscribe()}},error:de,complete:qe});this.subscribe(oe)})}_subscribe(He){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(He)}[D.L](){return this}pipe(...He){return(0,ee.U)(He)(this)}toPromise(He){return new(He=le(He))((me,qe)=>{let de;this.subscribe(oe=>de=oe,oe=>qe(oe),()=>me(de))})}}return W.create=Ne=>new W(Ne),W})();function le(W){var Ne;return null!==(Ne=W??X.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(it,be,I)=>{I.d(be,{x:()=>ie});var c=I(9751),K=I(727);const ee=(0,I(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=I(8737),se=I(2806);let ie=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const W=new ae(this,this);return W.operator=B,W}_throwIfClosed(){if(this.closed)throw new ee}next(B){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next(B)}})}error(B){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:W}=this;for(;W.length;)W.shift().error(B)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:W,isStopped:Ne,observers:He}=this;return W||Ne?K.Lc:(this.currentObservers=null,He.push(B),new K.w0(()=>{this.currentObservers=null,(0,X.P)(He,B)}))}_checkFinalizedStatuses(B){const{hasError:W,thrownError:Ne,isStopped:He}=this;W?B.error(Ne):He&&B.complete()}asObservable(){const B=new c.y;return B.source=this,B}}return le.create=(U,B)=>new ae(U,B),le})();class ae extends ie{constructor(U,B){super(),this.destination=U,this.source=B}next(U){var B,W;null===(W=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===W||W.call(B,U)}error(U){var B,W;null===(W=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===W||W.call(B,U)}complete(){var U,B;null===(B=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===B||B.call(U)}_subscribe(U){var B,W;return null!==(W=null===(B=this.source)||void 0===B?void 0:B.subscribe(U))&&void 0!==W?W:K.Lc}}},930:(it,be,I)=>{I.d(be,{Hp:()=>qe,Lv:()=>W});var c=I(576),K=I(727),D=I(2416),ee=I(7849),X=I(5032);const se=le("C",void 0,void 0);function le(Me,he,ve){return{kind:Me,value:he,error:ve}}var U=I(3410),B=I(2806);class W extends K.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,K.Nn)(he)&&he.add(this)):this.destination=st}static create(he,ve,De){return new qe(he,ve,De)}next(he){this.isStopped?Ge(function ae(Me){return le("N",Me,void 0)}(he),this):this._next(he)}error(he){this.isStopped?Ge(function ie(Me){return le("E",void 0,Me)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?Ge(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function He(Me,he){return Ne.call(Me,he)}class me{constructor(he){this.partialObserver=he}next(he){const{partialObserver:ve}=this;if(ve.next)try{ve.next(he)}catch(De){de(De)}}error(he){const{partialObserver:ve}=this;if(ve.error)try{ve.error(he)}catch(De){de(De)}else de(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(ve){de(ve)}}}class qe extends W{constructor(he,ve,De){let Ie;if(super(),(0,c.m)(he)||!he)Ie={next:he??void 0,error:ve??void 0,complete:De??void 0};else{let R;this&&D.v.useDeprecatedNextContext?(R=Object.create(he),R.unsubscribe=()=>this.unsubscribe(),Ie={next:he.next&&He(he.next,R),error:he.error&&He(he.error,R),complete:he.complete&&He(he.complete,R)}):Ie=he}this.destination=new me(Ie)}}function de(Me){D.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Me):(0,ee.h)(Me)}function Ge(Me,he){const{onStoppedNotification:ve}=D.v;ve&&U.z.setTimeout(()=>ve(Me,he))}const st={closed:!0,next:X.Z,error:function oe(Me){throw Me},complete:X.Z}},727:(it,be,I)=>{I.d(be,{Lc:()=>se,w0:()=>X,Nn:()=>ie});var c=I(576);const D=(0,I(3888).d)(le=>function(B){le(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((W,Ne)=>`${Ne+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ee=I(8737);class X{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const He of B)He.remove(this);else B.remove(this);const{initialTeardown:W}=this;if((0,c.m)(W))try{W()}catch(He){U=He instanceof D?He.errors:[He]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const He of Ne)try{ae(He)}catch(me){U=U??[],me instanceof D?U=[...U,...me.errors]:U.push(me)}}if(U)throw new D(U)}}add(U){var B;if(U&&U!==this)if(this.closed)ae(U);else{if(U instanceof X){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(U)}}_hasParent(U){const{_parentage:B}=this;return B===U||Array.isArray(B)&&B.includes(U)}_addParent(U){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(U),B):B?[B,U]:U}_removeParent(U){const{_parentage:B}=this;B===U?this._parentage=null:Array.isArray(B)&&(0,ee.P)(B,U)}remove(U){const{_finalizers:B}=this;B&&(0,ee.P)(B,U),U instanceof X&&U._removeParent(this)}}X.EMPTY=(()=>{const le=new X;return le.closed=!0,le})();const se=X.EMPTY;function ie(le){return le instanceof X||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function ae(le){(0,c.m)(le)?le():le.unsubscribe()}},2416:(it,be,I)=>{I.d(be,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,be,I)=>{I.d(be,{E:()=>K});const K=new(I(9751).y)(X=>X.complete())},8996:(it,be,I)=>{I.d(be,{D:()=>he});var c=I(8421),K=I(5363),D=I(9468),se=I(9751),ae=I(2202),le=I(576),U=I(9672);function W(ve,De){if(!ve)throw new Error("Iterable cannot be null");return new se.y(Ie=>{(0,U.f)(Ie,De,()=>{const R=ve[Symbol.asyncIterator]();(0,U.f)(Ie,De,()=>{R.next().then(fe=>{fe.done?Ie.complete():Ie.next(fe.value)})},0,!0)})})}var Ne=I(3670),He=I(8239),me=I(1144),qe=I(6495),de=I(2206),oe=I(4532),Ge=I(3260);function he(ve,De){return De?function Me(ve,De){if(null!=ve){if((0,Ne.c)(ve))return function ee(ve,De){return(0,c.Xf)(ve).pipe((0,D.R)(De),(0,K.Q)(De))}(ve,De);if((0,me.z)(ve))return function ie(ve,De){return new se.y(Ie=>{let R=0;return De.schedule(function(){R===ve.length?Ie.complete():(Ie.next(ve[R++]),Ie.closed||this.schedule())})})}(ve,De);if((0,He.t)(ve))return function X(ve,De){return(0,c.Xf)(ve).pipe((0,D.R)(De),(0,K.Q)(De))}(ve,De);if((0,de.D)(ve))return W(ve,De);if((0,qe.T)(ve))return function B(ve,De){return new se.y(Ie=>{let R;return(0,U.f)(Ie,De,()=>{R=ve[ae.h](),(0,U.f)(Ie,De,()=>{let fe,Ae;try{({value:fe,done:Ae}=R.next())}catch($e){return void Ie.error($e)}Ae?Ie.complete():Ie.next(fe)},0,!0)}),()=>(0,le.m)(R?.return)&&R.return()})}(ve,De);if((0,Ge.L)(ve))return function st(ve,De){return W((0,Ge.Q)(ve),De)}(ve,De)}throw(0,oe.z)(ve)}(ve,De):(0,c.Xf)(ve)}},8421:(it,be,I)=>{I.d(be,{Xf:()=>Ne});var c=I(655),K=I(1144),D=I(8239),ee=I(9751),X=I(3670),se=I(2206),ie=I(4532),ae=I(6495),le=I(3260),U=I(576),B=I(7849),W=I(8822);function Ne(Me){if(Me instanceof ee.y)return Me;if(null!=Me){if((0,X.c)(Me))return function He(Me){return new ee.y(he=>{const ve=Me[W.L]();if((0,U.m)(ve.subscribe))return ve.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,K.z)(Me))return function me(Me){return new ee.y(he=>{for(let ve=0;ve<Me.length&&!he.closed;ve++)he.next(Me[ve]);he.complete()})}(Me);if((0,D.t)(Me))return function qe(Me){return new ee.y(he=>{Me.then(ve=>{he.closed||(he.next(ve),he.complete())},ve=>he.error(ve)).then(null,B.h)})}(Me);if((0,se.D)(Me))return oe(Me);if((0,ae.T)(Me))return function de(Me){return new ee.y(he=>{for(const ve of Me)if(he.next(ve),he.closed)return;he.complete()})}(Me);if((0,le.L)(Me))return function Ge(Me){return oe((0,le.Q)(Me))}(Me)}throw(0,ie.z)(Me)}function oe(Me){return new ee.y(he=>{(function st(Me,he){var ve,De,Ie,R;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ve=(0,c.KL)(Me);!(De=yield ve.next()).done;)if(he.next(De.value),he.closed)return}catch(fe){Ie={error:fe}}finally{try{De&&!De.done&&(R=ve.return)&&(yield R.call(ve))}finally{if(Ie)throw Ie.error}}he.complete()})})(Me,he).catch(ve=>he.error(ve))})}},6451:(it,be,I)=>{I.d(be,{T:()=>se});var c=I(8189),K=I(8421),D=I(515),ee=I(7669),X=I(8996);function se(...ie){const ae=(0,ee.yG)(ie),le=(0,ee._6)(ie,1/0),U=ie;return U.length?1===U.length?(0,K.Xf)(U[0]):(0,c.J)(le)((0,X.D)(U,ae)):D.E}},5403:(it,be,I)=>{I.d(be,{x:()=>K});var c=I(930);function K(ee,X,se,ie,ae){return new D(ee,X,se,ie,ae)}class D extends c.Lv{constructor(X,se,ie,ae,le,U){super(X),this.onFinalize=le,this.shouldUnsubscribe=U,this._next=se?function(B){try{se(B)}catch(W){X.error(W)}}:super._next,this._error=ae?function(B){try{ae(B)}catch(W){X.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(B){X.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(it,be,I)=>{I.d(be,{U:()=>D});var c=I(4482),K=I(5403);function D(ee,X){return(0,c.e)((se,ie)=>{let ae=0;se.subscribe((0,K.x)(ie,le=>{ie.next(ee.call(X,le,ae++))}))})}},8189:(it,be,I)=>{I.d(be,{J:()=>D});var c=I(5577),K=I(4671);function D(ee=1/0){return(0,c.z)(K.y,ee)}},5577:(it,be,I)=>{I.d(be,{z:()=>ae});var c=I(4004),K=I(8421),D=I(4482),ee=I(9672),X=I(5403),ie=I(576);function ae(le,U,B=1/0){return(0,ie.m)(U)?ae((W,Ne)=>(0,c.U)((He,me)=>U(W,He,Ne,me))((0,K.Xf)(le(W,Ne))),B):("number"==typeof U&&(B=U),(0,D.e)((W,Ne)=>function se(le,U,B,W,Ne,He,me,qe){const de=[];let oe=0,Ge=0,st=!1;const Me=()=>{st&&!de.length&&!oe&&U.complete()},he=De=>oe<W?ve(De):de.push(De),ve=De=>{He&&U.next(De),oe++;let Ie=!1;(0,K.Xf)(B(De,Ge++)).subscribe((0,X.x)(U,R=>{Ne?.(R),He?he(R):U.next(R)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(oe--;de.length&&oe<W;){const R=de.shift();me?(0,ee.f)(U,me,()=>ve(R)):ve(R)}Me()}catch(R){U.error(R)}}))};return le.subscribe((0,X.x)(U,he,()=>{st=!0,Me()})),()=>{qe?.()}}(W,Ne,le,B)))}},5363:(it,be,I)=>{I.d(be,{Q:()=>ee});var c=I(9672),K=I(4482),D=I(5403);function ee(X,se=0){return(0,K.e)((ie,ae)=>{ie.subscribe((0,D.x)(ae,le=>(0,c.f)(ae,X,()=>ae.next(le),se),()=>(0,c.f)(ae,X,()=>ae.complete(),se),le=>(0,c.f)(ae,X,()=>ae.error(le),se)))})}},3099:(it,be,I)=>{I.d(be,{B:()=>X});var c=I(8421),K=I(7579),D=I(930),ee=I(4482);function X(ie={}){const{connector:ae=(()=>new K.x),resetOnError:le=!0,resetOnComplete:U=!0,resetOnRefCountZero:B=!0}=ie;return W=>{let Ne,He,me,qe=0,de=!1,oe=!1;const Ge=()=>{He?.unsubscribe(),He=void 0},st=()=>{Ge(),Ne=me=void 0,de=oe=!1},Me=()=>{const he=Ne;st(),he?.unsubscribe()};return(0,ee.e)((he,ve)=>{qe++,!oe&&!de&&Ge();const De=me=me??ae();ve.add(()=>{qe--,0===qe&&!oe&&!de&&(He=se(Me,B))}),De.subscribe(ve),!Ne&&qe>0&&(Ne=new D.Hp({next:Ie=>De.next(Ie),error:Ie=>{oe=!0,Ge(),He=se(st,le,Ie),De.error(Ie)},complete:()=>{de=!0,Ge(),He=se(st,U),De.complete()}}),(0,c.Xf)(he).subscribe(Ne))})(W)}}function se(ie,ae,...le){if(!0===ae)return void ie();if(!1===ae)return;const U=new D.Hp({next:()=>{U.unsubscribe(),ie()}});return ae(...le).subscribe(U)}},9468:(it,be,I)=>{I.d(be,{R:()=>K});var c=I(4482);function K(D,ee=0){return(0,c.e)((X,se)=>{se.add(D.schedule(()=>X.subscribe(se),ee))})}},8505:(it,be,I)=>{I.d(be,{b:()=>X});var c=I(576),K=I(4482),D=I(5403),ee=I(4671);function X(se,ie,ae){const le=(0,c.m)(se)||ie||ae?{next:se,error:ie,complete:ae}:se;return le?(0,K.e)((U,B)=>{var W;null===(W=le.subscribe)||void 0===W||W.call(le);let Ne=!0;U.subscribe((0,D.x)(B,He=>{var me;null===(me=le.next)||void 0===me||me.call(le,He),B.next(He)},()=>{var He;Ne=!1,null===(He=le.complete)||void 0===He||He.call(le),B.complete()},He=>{var me;Ne=!1,null===(me=le.error)||void 0===me||me.call(le,He),B.error(He)},()=>{var He,me;Ne&&(null===(He=le.unsubscribe)||void 0===He||He.call(le)),null===(me=le.finalize)||void 0===me||me.call(le)}))}):ee.y}},4408:(it,be,I)=>{I.d(be,{o:()=>X});var c=I(727);class K extends c.w0{constructor(ie,ae){super()}schedule(ie,ae=0){return this}}const D={setInterval(se,ie,...ae){const{delegate:le}=D;return le?.setInterval?le.setInterval(se,ie,...ae):setInterval(se,ie,...ae)},clearInterval(se){const{delegate:ie}=D;return(ie?.clearInterval||clearInterval)(se)},delegate:void 0};var ee=I(8737);class X extends K{constructor(ie,ae){super(ie,ae),this.scheduler=ie,this.work=ae,this.pending=!1}schedule(ie,ae=0){var le;if(this.closed)return this;this.state=ie;const U=this.id,B=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(B,U,ae)),this.pending=!0,this.delay=ae,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(B,this.id,ae),this}requestAsyncId(ie,ae,le=0){return D.setInterval(ie.flush.bind(ie,this),le)}recycleAsyncId(ie,ae,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ae;null!=ae&&D.clearInterval(ae)}execute(ie,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ie,ae);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ae){let U,le=!1;try{this.work(ie)}catch(B){le=!0,U=B||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ae}=this,{actions:le}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(le,this),null!=ie&&(this.id=this.recycleAsyncId(ae,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,be,I)=>{I.d(be,{v:()=>D});var c=I(6063);class K{constructor(X,se=K.now){this.schedulerActionCtor=X,this.now=se}schedule(X,se=0,ie){return new this.schedulerActionCtor(this,X).schedule(ie,se)}}K.now=c.l.now;class D extends K{constructor(X,se=K.now){super(X,se),this.actions=[],this._active=!1}flush(X){const{actions:se}=this;if(this._active)return void se.push(X);let ie;this._active=!0;do{if(ie=X.execute(X.state,X.delay))break}while(X=se.shift());if(this._active=!1,ie){for(;X=se.shift();)X.unsubscribe();throw ie}}}},4986:(it,be,I)=>{I.d(be,{z:()=>D});var c=I(4408);const D=new(I(7565).v)(c.o)},6063:(it,be,I)=>{I.d(be,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(it,be,I)=>{I.d(be,{z:()=>c});const c={setTimeout(K,D,...ee){const{delegate:X}=c;return X?.setTimeout?X.setTimeout(K,D,...ee):setTimeout(K,D,...ee)},clearTimeout(K){const{delegate:D}=c;return(D?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(it,be,I)=>{I.d(be,{h:()=>K});const K=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,be,I)=>{I.d(be,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(it,be,I)=>{I.d(be,{_6:()=>se,jO:()=>ee,yG:()=>X});var c=I(576);function D(ie){return ie[ie.length-1]}function ee(ie){return(0,c.m)(D(ie))?ie.pop():void 0}function X(ie){return function K(ie){return ie&&(0,c.m)(ie.schedule)}(D(ie))?ie.pop():void 0}function se(ie,ae){return"number"==typeof D(ie)?ie.pop():ae}},8737:(it,be,I)=>{function c(K,D){if(K){const ee=K.indexOf(D);0<=ee&&K.splice(ee,1)}}I.d(be,{P:()=>c})},3888:(it,be,I)=>{function c(K){const ee=K(X=>{Error.call(X),X.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}I.d(be,{d:()=>c})},2806:(it,be,I)=>{I.d(be,{O:()=>ee,x:()=>D});var c=I(2416);let K=null;function D(X){if(c.v.useDeprecatedSynchronousErrorHandling){const se=!K;if(se&&(K={errorThrown:!1,error:null}),X(),se){const{errorThrown:ie,error:ae}=K;if(K=null,ie)throw ae}}else X()}function ee(X){c.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(it,be,I)=>{function c(K,D,ee,X=0,se=!1){const ie=D.schedule(function(){ee(),se?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(ie),!se)return ie}I.d(be,{f:()=>c})},4671:(it,be,I)=>{function c(K){return K}I.d(be,{y:()=>c})},1144:(it,be,I)=>{I.d(be,{z:()=>c});const c=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(it,be,I)=>{I.d(be,{D:()=>K});var c=I(576);function K(D){return Symbol.asyncIterator&&(0,c.m)(D?.[Symbol.asyncIterator])}},576:(it,be,I)=>{function c(K){return"function"==typeof K}I.d(be,{m:()=>c})},3670:(it,be,I)=>{I.d(be,{c:()=>D});var c=I(8822),K=I(576);function D(ee){return(0,K.m)(ee[c.L])}},6495:(it,be,I)=>{I.d(be,{T:()=>D});var c=I(2202),K=I(576);function D(ee){return(0,K.m)(ee?.[c.h])}},8239:(it,be,I)=>{I.d(be,{t:()=>K});var c=I(576);function K(D){return(0,c.m)(D?.then)}},3260:(it,be,I)=>{I.d(be,{L:()=>ee,Q:()=>D});var c=I(655),K=I(576);function D(X){return(0,c.FC)(this,arguments,function*(){const ie=X.getReader();try{for(;;){const{value:ae,done:le}=yield(0,c.qq)(ie.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ae)}}finally{ie.releaseLock()}})}function ee(X){return(0,K.m)(X?.getReader)}},4482:(it,be,I)=>{I.d(be,{A:()=>K,e:()=>D});var c=I(576);function K(ee){return(0,c.m)(ee?.lift)}function D(ee){return X=>{if(K(X))return X.lift(function(se){try{return ee(se,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,be,I)=>{function c(){}I.d(be,{Z:()=>c})},9635:(it,be,I)=>{I.d(be,{U:()=>D,z:()=>K});var c=I(4671);function K(...ee){return D(ee)}function D(ee){return 0===ee.length?c.y:1===ee.length?ee[0]:function(se){return ee.reduce((ie,ae)=>ae(ie),se)}}},7849:(it,be,I)=>{I.d(be,{h:()=>D});var c=I(2416),K=I(3410);function D(ee){K.z.setTimeout(()=>{const{onUnhandledError:X}=c.v;if(!X)throw ee;X(ee)})}},4532:(it,be,I)=>{function c(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}I.d(be,{z:()=>c})},655:(it,be,I)=>{function ee(te,ue){var pe={};for(var xe in te)Object.prototype.hasOwnProperty.call(te,xe)&&ue.indexOf(xe)<0&&(pe[xe]=te[xe]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(xe=Object.getOwnPropertySymbols(te);Se<xe.length;Se++)ue.indexOf(xe[Se])<0&&Object.prototype.propertyIsEnumerable.call(te,xe[Se])&&(pe[xe[Se]]=te[xe[Se]])}return pe}function W(te,ue,pe,xe){return new(pe||(pe=Promise))(function(_e,et){function Ht(kt){try{Be(xe.next(kt))}catch(tt){et(tt)}}function Bt(kt){try{Be(xe.throw(kt))}catch(tt){et(tt)}}function Be(kt){kt.done?_e(kt.value):function Se(_e){return _e instanceof pe?_e:new pe(function(et){et(_e)})}(kt.value).then(Ht,Bt)}Be((xe=xe.apply(te,ue||[])).next())})}function Me(te){return this instanceof Me?(this.v=te,this):new Me(te)}function he(te,ue,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,xe=pe.apply(te,ue||[]),_e=[];return Se={},et("next"),et("throw"),et("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function et(lt){xe[lt]&&(Se[lt]=function(I2){return new Promise(function(i2,o2){_e.push([lt,I2,i2,o2])>1||Ht(lt,I2)})})}function Ht(lt,I2){try{!function Bt(lt){lt.value instanceof Me?Promise.resolve(lt.value.v).then(Be,kt):tt(_e[0][2],lt)}(xe[lt](I2))}catch(i2){tt(_e[0][3],i2)}}function Be(lt){Ht("next",lt)}function kt(lt){Ht("throw",lt)}function tt(lt,I2){lt(I2),_e.shift(),_e.length&&Ht(_e[0][0],_e[0][1])}}function De(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ue=te[Symbol.asyncIterator];return ue?ue.call(te):(te=function qe(te){var ue="function"==typeof Symbol&&Symbol.iterator,pe=ue&&te[ue],xe=0;if(pe)return pe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&xe>=te.length&&(te=void 0),{value:te&&te[xe++],done:!te}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),pe={},xe("next"),xe("throw"),xe("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function xe(_e){pe[_e]=te[_e]&&function(et){return new Promise(function(Ht,Bt){!function Se(_e,et,Ht,Bt){Promise.resolve(Bt).then(function(Be){_e({value:Be,done:Ht})},et)}(Ht,Bt,(et=te[_e](et)).done,et.value)})}}}I.d(be,{FC:()=>he,KL:()=>De,_T:()=>ee,mG:()=>W,qq:()=>Me})},4650:(it,be,I)=>{I.d(be,{$8M:()=>_c,$Z:()=>Mo,AFp:()=>wg,ALo:()=>Md,AaK:()=>ae,AsE:()=>mn,BQk:()=>T0,CHM:()=>c3,CRH:()=>Dd,CZH:()=>pl,CqO:()=>Do,D6c:()=>b4,EJc:()=>xg,EpF:()=>Aa,F4k:()=>nf,FYo:()=>i7,FiY:()=>J,G48:()=>Fg,Gf:()=>Ed,GfV:()=>s0,Gpc:()=>B,JOm:()=>Kn,KtG:()=>dr,LFG:()=>C2,LSH:()=>Ri,Lbi:()=>Hg,Lck:()=>Xp,MAs:()=>c5,MMx:()=>K0,NdJ:()=>Xn,OlP:()=>St,Oqu:()=>ai,PXZ:()=>f9,Q6J:()=>a5,QGY:()=>P0,QP$:()=>vt,Qsj:()=>vh,R0b:()=>sn,RDi:()=>s8,Rgc:()=>Wi,SBq:()=>ca,Sil:()=>Jd,Suo:()=>Ad,TTD:()=>bn,TgZ:()=>D0,VKq:()=>J0,X6Q:()=>Rg,XFs:()=>Fe,Xpm:()=>Ce,Xts:()=>u8,Y36:()=>yo,YKP:()=>g4,YNc:()=>J3,Yjl:()=>G,Yz7:()=>Be,Z0I:()=>I2,ZZ4:()=>yu,_Bn:()=>jo,_UZ:()=>Ea,_Vd:()=>oa,_c5:()=>im,_uU:()=>Na,aQg:()=>Mu,c2e:()=>Vg,cJS:()=>tt,cg1:()=>A5,dDg:()=>Dg,dqk:()=>Zt,eFA:()=>p9,ekj:()=>v5,eoX:()=>c9,f3M:()=>V3,g9A:()=>y4,h0i:()=>$o,hGG:()=>C_,hij:()=>h4,iGM:()=>Ld,ifc:()=>ct,ip1:()=>Zd,jDz:()=>w1,kEZ:()=>qa,kL8:()=>Tf,lG2:()=>O,lcZ:()=>bd,lnq:()=>qi,lqb:()=>O3,lri:()=>r6,n5z:()=>xi,oAB:()=>zt,oxw:()=>No,q4F:()=>s7,qLn:()=>aa,qOj:()=>zo,qZA:()=>X3,rWj:()=>o9,s9C:()=>u5,sBO:()=>Ug,sIi:()=>xa,s_b:()=>Qa,soG:()=>gl,tb:()=>Qd,tp0:()=>je,uIk:()=>f4,vHH:()=>me,vpe:()=>ui,wAp:()=>mt,xp6:()=>d7,ynx:()=>I0,z2F:()=>Cl,zSh:()=>t0,zs3:()=>Sn});var c=I(7579),K=I(727),D=I(9751),ee=I(6451),X=I(3099);function se(r){for(let s in r)if(r[s]===se)return s;throw Error("Could not find renamed property on target object.")}function ie(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function ae(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ae).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function le(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const U=se({__forward_ref__:se});function B(r){return r.__forward_ref__=B,r.toString=function(){return ae(this())},r}function W(r){return Ne(r)?r():r}function Ne(r){return"function"==typeof r&&r.hasOwnProperty(U)&&r.__forward_ref__===B}class me extends Error{constructor(s,o){super(function qe(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function de(r){return"string"==typeof r?r:null==r?"":String(r)}function he(r,s){throw new me(-201,!1)}function Se(r,s){null==r&&function _e(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,r,null,"!=")}function Be(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function tt(r){return{providers:r.providers||[],imports:r.imports||[]}}function lt(r){return i2(r,B1)||i2(r,A1)}function I2(r){return null!==lt(r)}function i2(r,s){return r.hasOwnProperty(s)?r[s]:null}function a1(r){return r&&(r.hasOwnProperty(V1)||r.hasOwnProperty(kr))?r[V1]:null}const B1=se({\u0275prov:se}),V1=se({\u0275inj:se}),A1=se({ngInjectableDef:se}),kr=se({ngInjectorDef:se});var Fe=(()=>((Fe=Fe||{})[Fe.Default=0]="Default",Fe[Fe.Host=1]="Host",Fe[Fe.Self=2]="Self",Fe[Fe.SkipSelf=4]="SkipSelf",Fe[Fe.Optional=8]="Optional",Fe))();let X2;function T2(r){const s=X2;return X2=r,s}function D1(r,s,o){const l=lt(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Fe.Optional?null:void 0!==s?s:void he(ae(r))}function m2(r){return{toString:r}.toString()}var V2=(()=>((V2=V2||{})[V2.OnPush=0]="OnPush",V2[V2.Default=1]="Default",V2))(),ct=(()=>{return(r=ct||(ct={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ct;var r})();const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),P2={},yt=[],Cn=se({\u0275cmp:se}),Ot=se({\u0275dir:se}),j1=se({\u0275pipe:se}),Rt=se({\u0275mod:se}),k2=se({\u0275fac:se}),l1=se({__NG_ELEMENT_ID__:se});let Ye=0;function Ce(r){return m2(()=>{const o=!0===r.standalone,l={},f={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===V2.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||yt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||ct.Emulated,id:"c"+Ye++,styles:r.styles||yt,_:null,setInput:null,schemas:r.schemas||null,tView:null},p=r.dependencies,v=r.features;return f.inputs=F(r.inputs,l),f.outputs=F(r.outputs),v&&v.forEach(y=>y(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(_t).filter(Mt):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(Oe).filter(Mt):null,f})}function _t(r){return ne(r)||Y(r)}function Mt(r){return null!==r}function zt(r){return m2(()=>({type:r.type,bootstrap:r.bootstrap||yt,declarations:r.declarations||yt,imports:r.imports||yt,exports:r.exports||yt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function F(r,s){if(null==r)return P2;const o={};for(const l in r)if(r.hasOwnProperty(l)){let f=r[l],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),o[f]=l,s&&(s[f]=p)}return o}const O=Ce;function G(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function ne(r){return r[Cn]||null}function Y(r){return r[Ot]||null}function Oe(r){return r[j1]||null}function vt(r){const s=ne(r)||Y(r)||Oe(r);return null!==s&&s.standalone}function Lt(r,s){const o=r[Rt]||null;if(!o&&!0===s)throw new Error(`Type ${ae(r)} does not have '\u0275mod' property.`);return o}function O2(r){return Array.isArray(r)&&"object"==typeof r[1]}function f1(r){return Array.isArray(r)&&!0===r[1]}function Xi(r){return 0!=(8&r.flags)}function gi(r){return 2==(2&r.flags)}function ds(r){return 1==(1&r.flags)}function t1(r){return null!==r.template}function rc(r){return 0!=(256&r[2])}function ln(r,s){return r.hasOwnProperty(k2)?r[k2]:null}class Mn{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function bn(){return lr}function lr(r){return r.type.prototype.ngOnChanges&&(r.setInput=t3),mi}function mi(){const r=oc(this),s=r?.current;if(s){const o=r.previous;if(o===P2)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function t3(r,s,o,l){const f=oc(r)||function v2(r,s){return r[ms]=s}(r,{previous:P2,current:null}),p=f.current||(f.current={}),v=f.previous,y=this.declaredInputs[o],M=v[y];p[y]=new Mn(M&&M.currentValue,s,v===P2),r[l]=s}bn.ngInherit=!0;const ms="__ngSimpleChanges__";function oc(r){return r[ms]||null}function _2(r){for(;Array.isArray(r);)r=r[0];return r}function N1(r,s){return _2(s[r])}function r1(r,s){return _2(s[r.index])}function ur(r,s){return r.data[s]}function Hn(r,s){return r[s]}function M2(r,s){const o=s[r];return O2(o)?o:o[0]}function vi(r){return 64==(64&r[2])}function G1(r,s){return null==s?null:r[s]}function fr(r){r[18]=0}function h2(r,s){r[5]+=s;let o=r,l=r[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const gt={lFrame:bi(null),bindingsEnabled:!0};function Fr(){return gt.bindingsEnabled}function ye(){return gt.lFrame.lView}function Et(){return gt.lFrame.tView}function c3(r){return gt.lFrame.contextLView=r,r[8]}function dr(r){return gt.lFrame.contextLView=null,r}function L2(){let r=Ur();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ur(){return gt.lFrame.currentTNode}function d1(r,s){const o=gt.lFrame;o.currentTNode=r,o.isParent=s}function a3(){return gt.lFrame.isParent}function Br(){gt.lFrame.isParent=!1}function h1(){const r=gt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function un(){return gt.lFrame.bindingIndex}function Mi(){return gt.lFrame.bindingIndex++}function P1(r){const s=gt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function I4(r,s){const o=gt.lFrame;o.bindingIndex=o.bindingRootIndex=r,hr(s)}function hr(r){gt.lFrame.currentDirectiveIndex=r}function Bn(){return gt.lFrame.currentQueryIndex}function pr(r){gt.lFrame.currentQueryIndex=r}function u3(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function T4(r,s,o){if(o&Fe.SkipSelf){let f=s,p=r;for(;!(f=f.parent,null!==f||o&Fe.Host||(f=u3(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;s=f,r=p}const l=gt.lFrame=ws();return l.currentTNode=s,l.lView=r,!0}function jn(r){const s=ws(),o=r[1];gt.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ws(){const r=gt.lFrame,s=null===r?null:r.child;return null===s?bi(r):s}function bi(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function dc(){const r=gt.lFrame;return gt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const f3=dc;function jr(){const r=dc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Z2(){return gt.lFrame.selectedIndex}function gr(r){gt.lFrame.selectedIndex=r}function Kt(){const r=gt.lFrame;return ur(r.tView,r.selectedIndex)}function pc(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const p=r.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:y,ngAfterViewInit:M,ngAfterViewChecked:V,ngOnDestroy:L}=p;v&&(r.contentHooks||(r.contentHooks=[])).push(-o,v),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),M&&(r.viewHooks||(r.viewHooks=[])).push(-o,M),V&&((r.viewHooks||(r.viewHooks=[])).push(o,V),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,V)),null!=L&&(r.destroyHooks||(r.destroyHooks=[])).push(o,L)}}function $r(r,s,o){Vs(r,s,3,o)}function Hs(r,s,o,l){(3&r[2])===o&&Vs(r,s,o,l)}function b6(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function Vs(r,s,o,l){const p=l??-1,v=s.length-1;let y=0;for(let M=void 0!==l?65535&r[18]:0;M<v;M++)if("number"==typeof s[M+1]){if(y=s[M],null!=l&&y>=l)break}else s[M]<0&&(r[18]+=65536),(y<p||-1==p)&&(Rl(r,o,s,M),r[18]=(4294901760&r[18])+M+2),M++}function Rl(r,s,o,l){const f=o[l]<0,p=o[l+1],y=r[f?-o[l]:o[l]];if(f){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{p.call(y)}finally{}}}else try{p.call(y)}finally{}}class zs{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function h3(r,s,o){let l=0;for(;l<o.length;){const f=o[l];if("number"==typeof f){if(0!==f)break;l++;const p=o[l++],v=o[l++],y=o[l++];r.setAttribute(s,v,y,p)}else{const p=f,v=o[++l];p3(p)?r.setProperty(s,p,v):r.setAttribute(s,p,v),l++}}return l}function mr(r){return 3===r||4===r||6===r}function p3(r){return 64===r.charCodeAt(0)}function vr(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?o=f:0===o||wi(r,o,f,null,-1===o||2===o?s[++l]:null)}}return r}function wi(r,s,o,l,f){let p=0,v=r.length;if(-1===s)v=-1;else for(;p<r.length;){const y=r[p++];if("number"==typeof y){if(y===s){v=-1;break}if(y>s){v=p-1;break}}}for(;p<r.length;){const y=r[p];if("number"==typeof y)break;if(y===o){if(null===l)return void(null!==f&&(r[p+1]=f));if(l===r[p+1])return void(r[p+2]=f)}p++,null!==l&&p++,null!==f&&p++}-1!==v&&(r.splice(v,0,s),p=v+1),r.splice(p++,0,o),null!==l&&r.splice(p++,0,l),null!==f&&r.splice(p++,0,f)}function Hi(r){return-1!==r}function qr(r){return 32767&r}function Vn(r,s){let o=function mc(r){return r>>16}(r),l=s;for(;o>0;)l=l[15],o--;return l}let Vi=!0;function Gn(r){const s=Vi;return Vi=r,s}let Ss=0;const D2={};function Jt(r,s){const o=_r(r,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(r.injectorIndex=s.length,g3(l.data,r),g3(s,null),g3(l.blueprint,null));const f=m3(r,s),p=r.injectorIndex;if(Hi(f)){const v=qr(f),y=Vn(f,s),M=y[1].data;for(let V=0;V<8;V++)s[p+V]=y[v+V]|M[v+V]}return s[p+8]=f,p}function g3(r,s){r.push(0,0,0,0,0,0,0,0,s)}function _r(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function m3(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,f=s;for(;null!==f;){if(l=Ds(f),null===l)return-1;if(o++,f=f[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Wr(r,s,o){!function B4(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(l1)&&(l=o[l1]),null==l&&(l=o[l1]=Ss++);const f=255&l;s.data[r+(f>>5)]|=1<<f}(r,s,o)}function zi(r,s,o){if(o&Fe.Optional||void 0!==r)return r;he()}function j4(r,s,o,l){if(o&Fe.Optional&&void 0===l&&(l=null),0==(o&(Fe.Self|Fe.Host))){const f=r[9],p=T2(void 0);try{return f?f.get(s,l,o&Fe.Optional):D1(s,l,o&Fe.Optional)}finally{T2(p)}}return zi(l,0,o)}function Zr(r,s,o,l=Fe.Default,f){if(null!==r){if(1024&s[2]){const v=function As(r,s,o,l,f){let p=r,v=s;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const y=Cr(p,v,o,l|Fe.Self,D2);if(y!==D2)return y;let M=p.parent;if(!M){const V=v[21];if(V){const L=V.get(o,D2,l);if(L!==D2)return L}M=Ds(v),v=v[15]}p=M}return f}(r,s,o,l,D2);if(v!==D2)return v}const p=Cr(r,s,o,l,D2);if(p!==D2)return p}return j4(s,o,l,f)}function Cr(r,s,o,l,f){const p=function vc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(l1)?r[l1]:void 0;return"number"==typeof s?s>=0?255&s:Es:s}(o);if("function"==typeof p){if(!T4(s,r,l))return l&Fe.Host?zi(f,0,l):j4(s,o,l,f);try{const v=p(l);if(null!=v||l&Fe.Optional)return v;he()}finally{f3()}}else if("number"==typeof p){let v=null,y=_r(r,s),M=-1,V=l&Fe.Host?s[16][6]:null;for((-1===y||l&Fe.SkipSelf)&&(M=-1===y?m3(r,s):s[y+8],-1!==M&&Ls(l,!1)?(v=s[1],y=qr(M),s=Vn(M,s)):y=-1);-1!==y;){const L=s[1];if(Kr(p,y,L.data)){const A=_3(y,s,o,v,l,V);if(A!==D2)return A}M=s[y+8],-1!==M&&Ls(l,s[1].data[y+8]===V)&&Kr(p,y,s)?(v=L,y=qr(M),s=Vn(M,s)):y=-1}}return f}function _3(r,s,o,l,f,p){const v=s[1],y=v.data[r+8],L=zn(y,v,o,null==l?gi(y)&&Vi:l!=v&&0!=(3&y.type),f&Fe.Host&&p===y);return null!==L?q1(s,v,L,y):D2}function zn(r,s,o,l,f){const p=r.providerIndexes,v=s.data,y=1048575&p,M=r.directiveStart,L=p>>20,j=f?y+L:r.directiveEnd;for(let Q=l?y:y+L;Q<j;Q++){const ge=v[Q];if(Q<M&&o===ge||Q>=M&&ge.type===o)return Q}if(f){const Q=v[M];if(Q&&t1(Q)&&Q.type===o)return M}return null}function q1(r,s,o,l){let f=r[o];const p=s.data;if(function R4(r){return r instanceof zs}(f)){const v=f;v.resolving&&function Ge(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new me(-200,`Circular dependency in DI detected for ${r}${o}`)}(function oe(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():de(r)}(p[o]));const y=Gn(v.canSeeViewProviders);v.resolving=!0;const M=v.injectImpl?T2(v.injectImpl):null;T4(r,l,Fe.Default);try{f=r[o]=v.factory(void 0,p,r,l),s.firstCreatePass&&o>=l.directiveStart&&function M6(r,s,o){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:p}=s.type.prototype;if(l){const v=lr(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,v)}f&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,f),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,p))}(o,p[o],s)}finally{null!==M&&T2(M),Gn(y),v.resolving=!1,f3()}}return f}function Kr(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function Ls(r,s){return!(r&Fe.Self||r&Fe.Host&&s)}class W1{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Zr(this._tNode,this._lView,s,l,o)}}function Es(){return new W1(L2(),ye())}function xi(r){return m2(()=>{const s=r.prototype.constructor,o=s[k2]||Si(s),l=Object.prototype;let f=Object.getPrototypeOf(r.prototype).constructor;for(;f&&f!==l;){const p=f[k2]||Si(f);if(p&&p!==o)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Si(r){return Ne(r)?()=>{const s=Si(W(r));return s&&s()}:ln(r)}function Ds(r){const s=r[1],o=s.type;return 2===o?s.declTNode:1===o?r[6]:null}function _c(r){return function v3(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let f=0;for(;f<l;){const p=o[f];if(mr(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<l&&"string"==typeof o[f];)f++;else{if(p===s)return o[f+1];f+=2}}}return null}(L2(),r)}const Li="__parameters__";function k1(r,s,o){return m2(()=>{const l=function C3(r){return function(...o){if(r){const l=r(...o);for(const f in l)this[f]=l[f]}}}(s);function f(...p){if(this instanceof f)return l.apply(this,p),this;const v=new f(...p);return y.annotation=v,y;function y(M,V,L){const A=M.hasOwnProperty(Li)?M[Li]:Object.defineProperty(M,Li,{value:[]})[Li];for(;A.length<=L;)A.push(null);return(A[L]=A[L]||[]).push(v),M}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=r,f.annotationCls=f,f})}class St{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Be({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function K2(r,s){void 0===s&&(s=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(s===r&&(s=r.slice(0,o)),K2(l,s)):s!==r&&s.push(l)}return s}function S1(r,s){r.forEach(o=>Array.isArray(o)?S1(o,s):s(o))}function yc(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Ei(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function i1(r,s,o){let l=Z1(r,s);return l>=0?r[1|l]=o:(l=~l,function G4(r,s,o,l){let f=r.length;if(f==s)r.push(o,l);else if(1===f)r.push(l,r[0]),r[0]=o;else{for(f--,r.push(r[f-1],r[f]);f>s;)r[f]=r[f-2],f--;r[s]=o,r[s+1]=l}}(r,l,s,o)),l}function Yr(r,s){const o=Z1(r,s);if(o>=0)return r[1|o]}function Z1(r,s){return function Os(r,s,o){let l=0,f=r.length>>o;for(;f!==l;){const p=l+(f-l>>1),v=r[p<<o];if(s===v)return p<<o;v>s?f=p:l=p+1}return~(f<<o)}(r,s,1)}const r2={},Ue="__NG_DI_FLAG__",F2="ngTempTokenPath",Wn=/\n/gm,U2="__source";let jt;function Gt(r){const s=jt;return jt=r,s}function Ze(r,s=Fe.Default){if(void 0===jt)throw new me(-203,!1);return null===jt?D1(r,void 0,s):jt.get(r,s&Fe.Optional?null:void 0,s)}function C2(r,s=Fe.Default){return(function on(){return X2}()||Ze)(W(r),s)}function V3(r,s=Fe.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),C2(r,s)}function z3(r){const s=[];for(let o=0;o<r.length;o++){const l=W(r[o]);if(Array.isArray(l)){if(0===l.length)throw new me(900,!1);let f,p=Fe.Default;for(let v=0;v<l.length;v++){const y=l[v],M=H(y);"number"==typeof M?-1===M?f=y.token:p|=M:f=y}s.push(C2(f,p))}else s.push(C2(l))}return s}function b(r,s){return r[Ue]=s,r.prototype[Ue]=s,r}function H(r){return r[Ue]}const J=b(k1("Optional"),8),je=b(k1("SkipSelf"),4);var Kn=(()=>((Kn=Kn||{})[Kn.Important=1]="Important",Kn[Kn.DashCase=2]="DashCase",Kn))();const Gs=new Map;let Lc=0;const Ii="__ngContext__";function c1(r,s){O2(s)?(r[Ii]=s[20],function Ec(r){Gs.set(r[20],r)}(s)):r[Ii]=s}function kc(r,s){return undefined(r,s)}function Ti(r){const s=r[3];return f1(s)?s[3]:s}function Ws(r){return R6(r[13])}function Rc(r){return R6(r[4])}function R6(r){for(;null!==r&&!f1(r);)r=r[4];return r}function Yn(r,s,o,l,f){if(null!=l){let p,v=!1;f1(l)?p=l:O2(l)&&(v=!0,l=l[0]);const y=_2(l);0===r&&null!==o?null==f?jc(s,o,y):zr(s,o,y,f||null,!0):1===r&&null!==o?zr(s,o,y,f||null,!0):2===r?function ro(r,s,o){const l=Ys(r,s);l&&function n8(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,y,v):3===r&&s.destroyNode(y),null!=p&&function Qn(r,s,o,l,f){const p=o[7];p!==_2(o)&&Yn(s,r,l,p,f);for(let y=10;y<o.length;y++){const M=o[y];I3(M[1],M,r,s,l,p)}}(s,r,p,o,f)}}function L3(r,s,o){return r.createElement(s,o)}function U6(r,s){const o=r[9],l=o.indexOf(s),f=s[3];512&s[2]&&(s[2]&=-513,h2(f,-1)),o.splice(l,1)}function X4(r,s){if(r.length<=10)return;const o=10+s,l=r[o];if(l){const f=l[17];null!==f&&f!==r&&U6(f,l),s>0&&(r[o-1][4]=l[4]);const p=Ei(r,10+s);!function Uc(r,s){I3(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=p[19];null!==v&&v.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function B6(r,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&I3(r,s,o,3,null,null),function Zs(r){let s=r[13];if(!s)return Bc(r[1],r);for(;s;){let o=null;if(O2(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==r;)O2(s)&&Bc(s[1],s),s=s[3];null===s&&(s=r),O2(s)&&Bc(s[1],s),o=s&&s[4]}s=o}}(s)}}function Bc(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function t8(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const f=s[o[l]];if(!(f instanceof zs)){const p=o[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const y=f[p[v]],M=p[v+1];try{M.call(y)}finally{}}else try{p.call(f)}finally{}}}}(r,s),function e8(r,s){const o=r.cleanup,l=s[7];let f=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const v=o[p+1],y="function"==typeof v?v(s):_2(s[v]),M=l[f=o[p+2]],V=o[p+3];"boolean"==typeof V?y.removeEventListener(o[p],M,V):V>=0?l[f=V]():l[f=-V].unsubscribe(),p+=2}else{const v=l[f=o[p+1]];o[p].call(v)}if(null!==l){for(let p=f+1;p<l.length;p++)(0,l[p])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&f1(s[3])){o!==s[3]&&U6(o,s);const l=s[19];null!==l&&l.detachView(r)}!function Dc(r){Gs.delete(r[20])}(s)}}function A3(r,s,o){return function Ks(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const f=r.data[l.directiveStart].encapsulation;if(f===ct.None||f===ct.Emulated)return null}return r1(l,o)}(r,s.parent,o)}function zr(r,s,o,l,f){r.insertBefore(s,o,l,f)}function jc(r,s,o){r.appendChild(s,o)}function eo(r,s,o,l,f){null!==l?zr(r,s,o,l,f):jc(r,s,o)}function Ys(r,s){return r.parentNode(s)}let ki,$c=function no(r,s,o){return 40&r.type?r1(r,o):null};function _1(r,s,o,l){const f=A3(r,l,s),p=s[11],y=function Qs(r,s,o){return $c(r,s,o)}(l.parent||s[6],l,s);if(null!=f)if(Array.isArray(o))for(let M=0;M<o.length;M++)eo(p,f,o[M],y,!1);else eo(p,f,o,y,!1)}function Pi(r,s){if(null!==s){const o=s.type;if(3&o)return r1(s,r);if(4&o)return Js(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return Pi(r,l);{const f=r[s.index];return f1(f)?Js(-1,f):_2(f)}}if(32&o)return kc(s,r)()||_2(r[s.index]);{const l=j6(r,s);return null!==l?Array.isArray(l)?l[0]:Pi(Ti(r[16]),l):Pi(r,s.next)}}return null}function j6(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Js(r,s){const o=10+r+1;if(o<s.length){const l=s[o],f=l[1].firstChild;if(null!==f)return Pi(l,f)}return s[7]}function Xs(r,s,o,l,f,p,v){for(;null!=o;){const y=l[o.index],M=o.type;if(v&&0===s&&(y&&c1(_2(y),l),o.flags|=4),64!=(64&o.flags))if(8&M)Xs(r,s,o.child,l,f,p,!1),Yn(s,r,f,y,p);else if(32&M){const V=kc(o,l);let L;for(;L=V();)Yn(s,r,f,L,p);Yn(s,r,f,y,p)}else 16&M?Gc(r,s,l,o,f,p):Yn(s,r,f,y,p);o=v?o.projectionNext:o.next}}function I3(r,s,o,l,f,p){Xs(o,l,r.firstChild,s,f,p,!1)}function Gc(r,s,o,l,f,p){const v=o[16],M=v[6].projection[l.projection];if(Array.isArray(M))for(let V=0;V<M.length;V++)Yn(s,r,f,M[V],p);else Xs(r,s,M,v[3],f,p,!0)}function i8(r,s,o){r.setAttribute(s,"style",o)}function e4(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function s8(r){ki=r}class Qc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function E(r){return r instanceof Qc?r.changingThisBreaksApplicationSecurity:r}const K6=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var J2=(()=>((J2=J2||{})[J2.NONE=0]="NONE",J2[J2.HTML=1]="HTML",J2[J2.STYLE=2]="STYLE",J2[J2.SCRIPT=3]="SCRIPT",J2[J2.URL=4]="URL",J2[J2.RESOURCE_URL=5]="RESOURCE_URL",J2))();function Ri(r){const s=function ta(){const r=ye();return r&&r[12]}();return s?s.sanitize(J2.URL,r)||"":function $(r,s){const o=function ce(r){return r instanceof Qc&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}(r,"URL")?E(r):function t4(r){return(r=String(r)).match(K6)?r:"unsafe:"+r}(de(r))}const u8=new St("ENVIRONMENT_INITIALIZER"),Zu=new St("INJECTOR",-1),Ku=new St("INJECTOR_DEF_TYPES");class f8{get(s,o=r2){if(o===r2){const l=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw l.name="NullInjectorError",l}return o}}function uo(...r){return{\u0275providers:Yu(0,r)}}function Yu(r,...s){const o=[],l=new Set;let f;return S1(s,p=>{const v=p;d8(v,o,[],l)&&(f||(f=[]),f.push(v))}),void 0!==f&&fo(f,o),o}function fo(r,s){for(let o=0;o<r.length;o++){const{providers:f}=r[o];S1(f,p=>{s.push(p)})}}function d8(r,s,o,l){if(!(r=W(r)))return!1;let f=null,p=a1(r);const v=!p&&ne(r);if(p||v){if(v&&!v.standalone)return!1;f=r}else{const M=r.ngModule;if(p=a1(M),!p)return!1;f=M}const y=l.has(f);if(v){if(y)return!1;if(l.add(f),v.dependencies){const M="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const V of M)d8(V,s,o,l)}}else{if(!p)return!1;{if(null!=p.imports&&!y){let V;l.add(f);try{S1(p.imports,L=>{d8(L,s,o,l)&&(V||(V=[]),V.push(L))})}finally{}void 0!==V&&fo(V,s)}if(!y){const V=ln(f)||(()=>new f);s.push({provide:f,useFactory:V,deps:yt},{provide:Ku,useValue:f,multi:!0},{provide:u8,useValue:()=>C2(f),multi:!0})}const M=p.providers;null==M||y||S1(M,L=>{s.push(L)})}}return f!==r&&void 0!==r.providers}const na=se({provide:String,useValue:se});function ho(r){return null!==r&&"object"==typeof r&&na in r}function k3(r){return"function"==typeof r}const t0=new St("Set Injector scope."),ra={},Ju={};let ia;function sa(){return void 0===ia&&(ia=new f8),ia}class O3{}class n0 extends O3{constructor(s,o,l,f){super(),this.parent=o,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,v8(s,v=>this.processProvider(v)),this.records.set(Zu,R3(void 0,this)),f.has("environment")&&this.records.set(O3,R3(void 0,this));const p=this.records.get(t0);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Ku.multi,yt,Fe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Gt(this),l=T2(void 0);try{return s()}finally{Gt(o),T2(l)}}get(s,o=r2,l=Fe.Default){this.assertNotDestroyed();const f=Gt(this),p=T2(void 0);try{if(!(l&Fe.SkipSelf)){let y=this.records.get(s);if(void 0===y){const M=function fh(r){return"function"==typeof r||"object"==typeof r&&r instanceof St}(s)&&lt(s);y=M&&this.injectableDefInScope(M)?R3(g8(s),ra):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&Fe.Self?sa():this.parent).get(s,o=l&Fe.Optional&&o===r2?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[F2]=v[F2]||[]).unshift(ae(s)),f)throw v;return function x(r,s,o,l){const f=r[F2];throw s[U2]&&f.unshift(s[U2]),r.message=function P(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let f=ae(s);if(Array.isArray(s))f=s.map(ae).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let y=s[v];p.push(v+":"+("string"==typeof y?JSON.stringify(y):ae(y)))}f=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${f}]: ${r.replace(Wn,"\n  ")}`}("\n"+r.message,f,o,l),r.ngTokenPath=f,r[F2]=null,r}(v,s,"R3InjectorError",this.source)}throw v}finally{T2(p),Gt(f)}}resolveInjectorInitializers(){const s=Gt(this),o=T2(void 0);try{const l=this.get(u8.multi,yt,Fe.Self);for(const f of l)f()}finally{Gt(s),T2(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(ae(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(s){let o=k3(s=W(s))?s:W(s&&s.provide);const l=function lh(r){return ho(r)?R3(void 0,r.useValue):R3(r0(r),ra)}(s);if(k3(s)||!0!==s.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=R3(void 0,ra,!0),f.factory=()=>z3(f.multi),this.records.set(o,f)),o=s,f.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===ra&&(o.value=Ju,o.value=o.factory()),"object"==typeof o.value&&o.value&&function uh(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=W(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function g8(r){const s=lt(r),o=null!==s?s.factory:ln(r);if(null!==o)return o;if(r instanceof St)throw new me(204,!1);if(r instanceof Function)return function Xu(r){const s=r.length;if(s>0)throw function M3(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}(s,"?"),new me(204,!1);const o=function o2(r){const s=r&&(r[B1]||r[A1]);if(s){const o=function g2(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new me(204,!1)}function r0(r,s,o){let l;if(k3(r)){const f=W(r);return ln(f)||g8(f)}if(ho(r))l=()=>W(r.useValue);else if(function p8(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...z3(r.deps||[]));else if(function h8(r){return!(!r||!r.useExisting)}(r))l=()=>C2(W(r.useExisting));else{const f=W(r&&(r.useClass||r.provide));if(!function m8(r){return!!r.deps}(r))return ln(f)||g8(f);l=()=>new f(...z3(r.deps))}return l}function R3(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function e7(r){return!!r.\u0275providers}function v8(r,s){for(const o of r)Array.isArray(o)?v8(o,s):e7(o)?v8(o.\u0275providers,s):s(o)}class t7{}class ph{resolveComponentFactory(s){throw function n7(r){const s=Error(`No component factory found for ${ae(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let oa=(()=>{class r{}return r.NULL=new ph,r})();function gh(){return po(L2(),ye())}function po(r,s){return new ca(r1(r,s))}let ca=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=gh,r})();function r7(r){return r instanceof ca?r.nativeElement:r}class i7{}let vh=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function _h(){const r=ye(),o=M2(L2().index,r);return(O2(o)?o:r)[11]}(),r})(),F3=(()=>{class r{}return r.\u0275prov=Be({token:r,providedIn:"root",factory:()=>null}),r})();class s0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const s7=new s0("14.3.0"),C8={};function o0(r){return r.ngOriginalError}class aa{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&o0(s);for(;o&&o0(o);)o=o0(o);return o||null}}function ti(r){return r instanceof Function?r():r}function b8(r,s,o){let l=r.length;for(;;){const f=r.indexOf(s,o);if(-1===f)return f;if(0===f||r.charCodeAt(f-1)<=32){const p=s.length;if(f+p===l||r.charCodeAt(f+p)<=32)return f}o=f+1}}const H8="ng-template";function u7(r,s,o){let l=0;for(;l<r.length;){let f=r[l++];if(o&&"class"===f){if(f=r[l],-1!==b8(f.toLowerCase(),s,0))return!0}else if(1===f){for(;l<r.length&&"string"==typeof(f=r[l++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function Yt(r){return 4===r.type&&r.value!==H8}function qt(r,s,o){return s===(4!==r.type||o?r.value:H8)}function Dt(r,s,o){let l=4;const f=r.attrs||[],p=function la(r){for(let s=0;s<r.length;s++)if(mr(r[s]))return s;return r.length}(f);let v=!1;for(let y=0;y<s.length;y++){const M=s[y];if("number"!=typeof M){if(!v)if(4&l){if(l=2|1&l,""!==M&&!qt(r,M,o)||""===M&&1===s.length){if(M1(l))return!1;v=!0}}else{const V=8&l?M:s[++y];if(8&l&&null!==r.attrs){if(!u7(r.attrs,V,o)){if(M1(l))return!1;v=!0}continue}const A=l2(8&l?"class":M,f,Yt(r),o);if(-1===A){if(M1(l))return!1;v=!0;continue}if(""!==V){let j;j=A>p?"":f[A+1].toLowerCase();const Q=8&l?j:null;if(Q&&-1!==b8(Q,V,0)||2&l&&V!==j){if(M1(l))return!1;v=!0}}}}else{if(!v&&!M1(l)&&!M1(M))return!1;if(v&&M1(M))continue;v=!1,l=M|1&l}}return M1(l)||v}function M1(r){return 0==(1&r)}function l2(r,s,o,l){if(null===s)return-1;let f=0;if(l||!o){let p=!1;for(;f<s.length;){const v=s[f];if(v===r)return f;if(3===v||6===v)p=!0;else{if(1===v||2===v){let y=s[++f];for(;"string"==typeof y;)y=s[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=p?1:2}return-1}return function f7(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function c0(r,s,o=!1){for(let l=0;l<s.length;l++)if(Dt(r,s[l],o))return!0;return!1}function At(r,s){return r?":not("+s.trim()+")":s}function X1(r){let s=r[0],o=1,l=2,f="",p=!1;for(;o<r.length;){let v=r[o];if("string"==typeof v)if(2&l){const y=r[++o];f+="["+v+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?f+="."+v:4&l&&(f+=" "+v);else""!==f&&!M1(v)&&(s+=At(p,f),f=""),l=v,p=p||!M1(l);o++}return""!==f&&(s+=At(p,f)),s}const ht={};function d7(r){h7(Et(),ye(),Z2()+r,!1)}function h7(r,s,o,l){if(!l)if(3==(3&s[2])){const p=r.preOrderCheckHooks;null!==p&&$r(s,p,o)}else{const p=r.preOrderHooks;null!==p&&Hs(s,p,0,o)}gr(o)}function _7(r,s=null,o=null,l){const f=z8(r,s,o,l);return f.resolveInjectorInitializers(),f}function z8(r,s=null,o=null,l,f=new Set){const p=[o||yt,uo(r)];return l=l||("object"==typeof r?void 0:ae(r)),new n0(p,s||sa(),l||null,f)}let Sn=(()=>{class r{static create(o,l){if(Array.isArray(o))return _7({name:""},l,o,"");{const f=o.name??"";return _7({name:f},o.parent,o.providers,f)}}}return r.THROW_IF_NOT_FOUND=r2,r.NULL=new f8,r.\u0275prov=Be({token:r,providedIn:"any",factory:()=>C2(Zu)}),r.__NG_ELEMENT_ID__=-1,r})();function yo(r,s=Fe.Default){const o=ye();return null===o?C2(r,s):Zr(L2(),o,W(r),s)}function Mo(){throw new Error("invalid")}function p2(r,s){return r<<17|s<<2}function Ln(r){return r>>17&32767}function l0(r){return 2|r}function pn(r){return(131068&r)>>2}function i4(r,s){return-131069&r|s<<2}function A8(r){return 1|r}function Ca(r,s){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const f=o[l],p=o[l+1];if(-1!==p){const v=r.data[p];pr(f),v.contentQueries(2,s[p],p)}}}function h0(r,s,o,l,f,p,v,y,M,V,L){const A=s.blueprint.slice();return A[0]=f,A[2]=76|l,(null!==L||r&&1024&r[2])&&(A[2]|=1024),fr(A),A[3]=A[15]=r,A[8]=o,A[10]=v||r&&r[10],A[11]=y||r&&r[11],A[12]=M||r&&r[12]||null,A[9]=V||r&&r[9]||null,A[6]=p,A[20]=function x3(){return Lc++}(),A[21]=L,A[16]=2==s.type?r[16]:A,A}function Qt(r,s,o,l,f){let p=r.data[s];if(null===p)p=function En(r,s,o,l,f){const p=Ur(),v=a3(),M=r.data[s]=function Rh(r,s,o,l,f,p){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,o,s,l,f);return null===r.firstChild&&(r.firstChild=M),null!==p&&(v?null==p.child&&null!==M.parent&&(p.child=M):null===p.next&&(p.next=M)),M}(r,s,o,l,f),function _6(){return gt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=l,p.attrs=f;const v=function yi(){const r=gt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return d1(p,!0),p}function ri(r,s,o,l){if(0===o)return-1;const f=s.length;for(let p=0;p<o;p++)s.push(l),r.blueprint.push(l),r.data.push(null);return f}function ya(r,s,o){jn(s);try{const l=r.viewQuery;null!==l&&Y8(1,l,o);const f=r.template;null!==f&&p0(r,s,f,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ca(r,s),r.staticViewQueries&&Y8(2,r.viewQuery,o);const p=r.components;null!==p&&function B8(r,s){for(let o=0;o<s.length;o++)B7(r,s[o])}(s,p)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[2]&=-5,jr()}}function Ma(r,s,o,l){const f=s[2];if(128!=(128&f)){jn(s);try{fr(s),function fc(r){return gt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&p0(r,s,o,2,l);const v=3==(3&f);if(v){const V=r.preOrderCheckHooks;null!==V&&$r(s,V,null)}else{const V=r.preOrderHooks;null!==V&&Hs(s,V,0,null),b6(s,0)}if(function U7(r){for(let s=Ws(r);null!==s;s=Rc(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const f=o[l],p=f[3];0==(512&f[2])&&h2(p,1),f[2]|=512}}}(s),function Wh(r){for(let s=Ws(r);null!==s;s=Rc(s))for(let o=10;o<s.length;o++){const l=s[o],f=l[1];vi(l)&&Ma(f,l,f.template,l[8])}}(s),null!==r.contentQueries&&Ca(r,s),v){const V=r.contentCheckHooks;null!==V&&$r(s,V)}else{const V=r.contentHooks;null!==V&&Hs(s,V,1),b6(s,1)}!function D7(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const f=o[l];if(f<0)gr(~f);else{const p=f,v=o[++l],y=o[++l];I4(v,p),y(2,s[p])}}}finally{gr(-1)}}(r,s);const y=r.components;null!==y&&function a4(r,s){for(let o=0;o<s.length;o++)y0(r,s[o])}(s,y);const M=r.viewQuery;if(null!==M&&Y8(2,M,l),v){const V=r.viewCheckHooks;null!==V&&$r(s,V)}else{const V=r.viewHooks;null!==V&&Hs(s,V,2),b6(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,h2(s[3],-1))}finally{jr()}}}function p0(r,s,o,l,f){const p=Z2(),v=2&l;try{gr(-1),v&&s.length>22&&h7(r,s,22,!1),o(l,f)}finally{gr(p)}}function j3(r,s,o){if(Xi(s)){const f=s.directiveEnd;for(let p=s.directiveStart;p<f;p++){const v=r.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}}function g0(r,s,o){!Fr()||(function jh(r,s,o,l){const f=o.directiveStart,p=o.directiveEnd;r.firstCreatePass||Jt(o,s),c1(l,s);const v=o.initialInputs;for(let y=f;y<p;y++){const M=r.data[y],V=t1(M);V&&Gh(s,o,M);const L=q1(s,r,y,o);c1(L,s),null!==v&&K8(0,y-f,L,M,0,v),V&&(M2(o.index,s)[8]=L)}}(r,s,o,r1(o,s)),128==(128&o.flags)&&function v0(r,s,o){const l=o.directiveStart,f=o.directiveEnd,p=o.index,v=function Ms(){return gt.lFrame.currentDirectiveIndex}();try{gr(p);for(let y=l;y<f;y++){const M=r.data[y],V=s[y];hr(y),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&_0(M,V)}}finally{gr(-1),hr(v)}}(r,s,o))}function ii(r,s,o=r1){const l=s.localNames;if(null!==l){let f=s.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],y=-1===v?o(s,r):r[v];r[f++]=y}}}function m0(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=$3(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function $3(r,s,o,l,f,p,v,y,M,V){const L=22+l,A=L+f,j=function I7(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:ht);return o}(L,A),Q="function"==typeof V?V():V;return j[1]={type:r,blueprint:j,template:o,queries:null,viewQuery:y,declTNode:s,data:j.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:Q,incompleteFirstPass:!1}}function T7(r,s,o,l){const f=j7(s);null===o?f.push(l):(f.push(o),r.firstCreatePass&&$7(r).push(l,f.length-1))}function N7(r,s,o){for(let l in r)if(r.hasOwnProperty(l)){const f=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,f):o[l]=[s,f]}return o}function P7(r,s){const l=s.directiveEnd,f=r.data,p=s.attrs,v=[];let y=null,M=null;for(let V=s.directiveStart;V<l;V++){const L=f[V],A=L.inputs,j=null===p||Yt(s)?null:qh(A,p);v.push(j),y=N7(A,V,y),M=N7(L.outputs,V,M)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=y,s.outputs=M}function An(r,s,o,l,f,p,v,y){const M=r1(s,o);let L,V=s.inputs;!y&&null!=V&&(L=V[l])?(J8(r,o,L,l,f),gi(s)&&$8(o,s.index)):3&s.type&&(l=function Fh(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),f=null!=v?v(f,s.value||"",l):f,p.setProperty(M,l,f))}function $8(r,s){const o=M2(s,r);16&o[2]||(o[2]|=32)}function G8(r,s,o,l){let f=!1;if(Fr()){const p=function R7(r,s,o){const l=r.directiveRegistry;let f=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];c0(o,v.selectors,!1)&&(f||(f=[]),Wr(Jt(o,s),r,v.type),t1(v)?(ba(r,o),f.unshift(v)):f.push(v))}return f}(r,s,o),v=null===l?null:{"":-1};if(null!==p){f=!0,W8(o,r.data.length,p.length);for(let L=0;L<p.length;L++){const A=p[L];A.providersResolver&&A.providersResolver(A)}let y=!1,M=!1,V=ri(r,s,p.length,null);for(let L=0;L<p.length;L++){const A=p[L];o.mergedAttrs=vr(o.mergedAttrs,A.hostAttrs),Z8(r,o,s,V,A),q8(V,A,v),null!==A.contentQueries&&(o.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(o.flags|=128);const j=A.type.prototype;!y&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!M&&(j.ngOnChanges||j.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),M=!0),V++}P7(r,o)}v&&function $h(r,s,o){if(s){const l=r.localNames=[];for(let f=0;f<s.length;f+=2){const p=o[s[f+1]];if(null==p)throw new me(-301,!1);l.push(s[f],p)}}}(o,l,v)}return o.mergedAttrs=vr(o.mergedAttrs,o.attrs),f}function O7(r,s,o,l,f,p){const v=p.hostBindings;if(v){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const M=~s.index;(function Bh(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=M&&y.push(M),y.push(l,f,v)}}function _0(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function ba(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function q8(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;t1(s)&&(o[""]=r)}}function W8(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}function Z8(r,s,o,l,f){r.data[l]=f;const p=f.factory||(f.factory=ln(f.type)),v=new zs(p,t1(f),yo);r.blueprint[l]=v,o[l]=v,O7(r,s,0,l,ri(r,o,f.hostVars,ht),f)}function Gh(r,s,o){const l=r1(s,r),f=m0(o),p=r[10],v=Ha(r,h0(r,f,null,o.onPush?32:16,l,s,p,p.createRenderer(l,o),null,null,null));r[s.index]=v}function si(r,s,o,l,f,p){const v=r1(r,s);!function C0(r,s,o,l,f,p,v){if(null==p)r.removeAttribute(s,f,o);else{const y=null==v?de(p):v(p,l||"",f);r.setAttribute(s,f,y,o)}}(s[11],v,p,r.value,o,l,f)}function K8(r,s,o,l,f,p){const v=p[s];if(null!==v){const y=l.setInput;for(let M=0;M<v.length;){const V=v[M++],L=v[M++],A=v[M++];null!==y?l.setInput(o,A,V,L):o[L]=A}}}function qh(r,s){let o=null,l=0;for(;l<s.length;){const f=s[l];if(0!==f)if(5!==f){if("number"==typeof f)break;r.hasOwnProperty(f)&&(null===o&&(o=[]),o.push(f,r[f],s[l+1])),l+=2}else l+=2;else l+=4}return o}function F7(r,s,o,l){return new Array(r,!0,!1,s,null,0,l,o,null,null)}function y0(r,s){const o=M2(s,r);if(vi(o)){const l=o[1];48&o[2]?Ma(l,o,l.template,o[8]):o[5]>0&&wa(o)}}function wa(r){for(let l=Ws(r);null!==l;l=Rc(l))for(let f=10;f<l.length;f++){const p=l[f];if(vi(p))if(512&p[2]){const v=p[1];Ma(v,p,v.template,p[8])}else p[5]>0&&wa(p)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const f=M2(o[l],r);vi(f)&&f[5]>0&&wa(f)}}function B7(r,s){const o=M2(s,r),l=o[1];(function Zh(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(l,o),ya(l,o,o[8])}function Ha(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Va(r){for(;r;){r[2]|=32;const s=Ti(r);if(rc(r)&&!s)return r;r=s}return null}function M0(r,s,o,l=!0){const f=s[10];f.begin&&f.begin();try{Ma(r,s,r.template,o)}catch(v){throw l&&Q8(s,v),v}finally{f.end&&f.end()}}function Y8(r,s,o){pr(0),s(r,o)}function j7(r){return r[7]||(r[7]=[])}function $7(r){return r.cleanup||(r.cleanup=[])}function Q8(r,s){const o=r[9],l=o?o.get(aa,null):null;l&&l.handleError(s)}function J8(r,s,o,l,f){for(let p=0;p<o.length;){const v=o[p++],y=o[p++],M=s[v],V=r.data[v];null!==V.setInput?V.setInput(M,f,l,y):M[y]=f}}function oi(r,s,o){const l=N1(s,r);!function J4(r,s,o){r.setValue(s,o)}(r[11],l,o)}function za(r,s,o){let l=o?r.styles:null,f=o?r.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const y=s[v];"number"==typeof y?p=y:1==p?f=le(f,y):2==p&&(l=le(l,y+": "+s[++v]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=f:r.classesWithoutHost=f}function b0(r,s,o,l,f=!1){for(;null!==o;){const p=s[o.index];if(null!==p&&l.push(_2(p)),f1(p))for(let y=10;y<p.length;y++){const M=p[y],V=M[1].firstChild;null!==V&&b0(M[1],M,V,l)}const v=o.type;if(8&v)b0(r,s,o.child,l);else if(32&v){const y=kc(o,s);let M;for(;M=y();)l.push(M)}else if(16&v){const y=j6(s,o);if(Array.isArray(y))l.push(...y);else{const M=Ti(s[16]);b0(M[1],M,y,l,!0)}}o=f?o.projectionNext:o.next}return l}class Vo{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return b0(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(f1(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(X4(s,l),Ei(o,l))}this._attachedToViewContainer=!1}B6(this._lView[1],this._lView)}onDestroy(s){T7(this._lView[1],this._lView,null,s)}markForCheck(){Va(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){M0(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function E3(r,s){I3(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=s}}class w0 extends Vo{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;M0(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class H0 extends oa{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=ne(s);return new l4(o,this.ngModule)}}function q7(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class Yh{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){const f=this.injector.get(s,C8,l);return f!==C8||o===C8?f:this.parentInjector.get(s,o,l)}}class l4 extends t7{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function zh(r){return r.map(X1).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return q7(this.componentDef.inputs)}get outputs(){return q7(this.componentDef.outputs)}create(s,o,l,f){let p=(f=f||this.ngModule)instanceof O3?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new Yh(s,p):s,y=v.get(i7,null);if(null===y)throw new me(407,!1);const M=v.get(F3,null),V=y.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",A=l?function Oh(r,s,o){return r.selectRootElement(s,o===ct.ShadowDom)}(V,l,this.componentDef.encapsulation):L3(V,L,function Kh(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(L)),j=this.componentDef.onPush?288:272,Q=$3(0,null,null,1,0,null,null,null,null,null),ge=h0(null,Q,null,j,null,null,y,V,M,v,null);let Ee,ke;jn(ge);try{const Xe=function G3(r,s,o,l,f,p){const v=o[1];o[22]=r;const M=Qt(v,22,2,"#host",null),V=M.mergedAttrs=s.hostAttrs;null!==V&&(za(M,V,!0),null!==r&&(h3(f,r,V),null!==M.classes&&e4(f,r,M.classes),null!==M.styles&&i8(f,r,M.styles)));const L=l.createRenderer(r,s),A=h0(o,m0(s),null,s.onPush?32:16,o[22],M,l,L,p||null,null,null);return v.firstCreatePass&&(Wr(Jt(M,o),v,s.type),ba(v,M),W8(M,o.length,1)),Ha(o,A),o[22]=A}(A,this.componentDef,ge,y,V);if(A)if(l)h3(V,A,["ng-version",s7.full]);else{const{attrs:pt,classes:Ve}=function V8(r){const s=[],o=[];let l=1,f=2;for(;l<r.length;){let p=r[l];if("string"==typeof p)2===f?""!==p&&s.push(p,r[++l]):8===f&&o.push(p);else{if(!M1(f))break;f=p}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);pt&&h3(V,A,pt),Ve&&Ve.length>0&&e4(V,A,Ve.join(" "))}if(ke=ur(Q,22),void 0!==o){const pt=ke.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const Ct=o[Ve];pt.push(null!=Ct?Array.from(Ct):null)}}Ee=function Z7(r,s,o,l){const f=o[1],p=function Uh(r,s,o){const l=L2();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Z8(r,l,s,ri(r,s,1,null),o),P7(r,l));const f=q1(s,r,l.directiveStart,l);c1(f,s);const p=r1(l,s);return p&&c1(p,s),f}(f,o,s);if(r[8]=o[8]=p,null!==l)for(const y of l)y(p,s);if(s.contentQueries){const y=L2();s.contentQueries(1,p,y.directiveStart)}const v=L2();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(gr(v.index),O7(o[1],v,0,v.directiveStart,v.directiveEnd,s),_0(s,p)),p}(Xe,this.componentDef,ge,[K7]),ya(Q,ge,null)}finally{jr()}return new Qh(this.componentType,Ee,po(ke,ge),ge,ke)}}class Qh extends class dh{}{constructor(s,o,l,f,p){super(),this.location=l,this._rootLView=f,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new w0(f),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[s])){const p=this._rootLView;J8(p[1],p,f,s,o),$8(p,this._tNode.index)}}get injector(){return new W1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function K7(){const r=L2();pc(ye()[1],r)}function zo(r){let s=function ji(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let f;if(t1(r))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new me(903,!1);f=s.\u0275dir}if(f){if(o){l.push(f);const v=r;v.inputs=X8(r.inputs),v.declaredInputs=X8(r.declaredInputs),v.outputs=X8(r.outputs);const y=f.hostBindings;y&&Y7(r,y);const M=f.viewQuery,V=f.contentQueries;if(M&&Xh(r,M),V&&ep(r,V),ie(r.inputs,f.inputs),ie(r.declaredInputs,f.declaredInputs),ie(r.outputs,f.outputs),t1(f)&&f.data.animation){const L=r.data;L.animation=(L.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let v=0;v<p.length;v++){const y=p[v];y&&y.ngInherit&&y(r),y===zo&&(o=!1)}}s=Object.getPrototypeOf(s)}!function V0(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const f=r[l];f.hostVars=s+=f.hostVars,f.hostAttrs=vr(f.hostAttrs,o=vr(o,f.hostAttrs))}}(l)}function X8(r){return r===P2?{}:r===yt?[]:r}function Xh(r,s){const o=r.viewQuery;r.viewQuery=o?(l,f)=>{s(l,f),o(l,f)}:s}function ep(r,s){const o=r.contentQueries;r.contentQueries=o?(l,f,p)=>{s(l,f,p),o(l,f,p)}:s}function Y7(r,s){const o=r.hostBindings;r.hostBindings=o?(l,f)=>{s(l,f),o(l,f)}:s}let W3=null;function u4(){if(!W3){const r=Zt.Symbol;if(r&&r.iterator)W3=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(W3=l)}}}return W3}function xa(r){return!!t5(r)&&(Array.isArray(r)||!(r instanceof Map)&&u4()in r)}function t5(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Dn(r,s,o){return r[s]=o}function $2(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Z3(r,s,o,l){const f=$2(r,s,o);return $2(r,s+1,l)||f}function La(r,s,o,l,f){const p=Z3(r,s,o,l);return $2(r,s+2,f)||p}function f4(r,s,o,l){const f=ye();return $2(f,Mi(),s)&&(Et(),si(Kt(),f,r,s,o,l)),f4}function K3(r,s,o,l){return $2(r,Mi(),o)?s+de(o)+l:ht}function J3(r,s,o,l,f,p,v,y){const M=ye(),V=Et(),L=r+22,A=V.firstCreatePass?function A0(r,s,o,l,f,p,v,y,M){const V=s.consts,L=Qt(s,r,4,v||null,G1(V,y));G8(s,o,L,G1(V,M)),pc(s,L);const A=L.tViews=$3(2,L,l,f,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V);return null!==s.queries&&(s.queries.template(s,L),A.queries=s.queries.embeddedTView(L)),L}(L,V,M,s,o,l,f,p,v):V.data[L];d1(A,!1);const j=M[11].createComment("");_1(V,M,j,A),c1(j,M),Ha(M,M[L]=F7(j,M,j,A)),ds(A)&&g0(V,M,A),null!=v&&ii(M,A,y)}function c5(r){return Hn(function n2(){return gt.lFrame.contextLView}(),22+r)}function a5(r,s,o){const l=ye();return $2(l,Mi(),s)&&An(Et(),Kt(),l,r,s,l[11],o,!1),a5}function Ao(r,s,o,l,f){const v=f?"class":"style";J8(r,o,s.inputs[v],v,l)}function D0(r,s,o,l){const f=ye(),p=Et(),v=22+r,y=f[11],M=f[v]=L3(y,s,function y6(){return gt.lFrame.currentNamespace}()),V=p.firstCreatePass?function tf(r,s,o,l,f,p,v){const y=s.consts,V=Qt(s,r,2,f,G1(y,p));return G8(s,o,V,G1(y,v)),null!==V.attrs&&za(V,V.attrs,!1),null!==V.mergedAttrs&&za(V,V.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,V),V}(v,p,f,0,s,o,l):p.data[v];d1(V,!0);const L=V.mergedAttrs;null!==L&&h3(y,M,L);const A=V.classes;null!==A&&e4(y,M,A);const j=V.styles;return null!==j&&i8(y,M,j),64!=(64&V.flags)&&_1(p,f,M,V),0===function vs(){return gt.lFrame.elementDepthCount}()&&c1(M,f),function s3(){gt.lFrame.elementDepthCount++}(),ds(V)&&(g0(p,f,V),j3(p,V,f)),null!==l&&ii(f,V),D0}function X3(){let r=L2();a3()?Br():(r=r.parent,d1(r,!1));const s=r;!function _s(){gt.lFrame.elementDepthCount--}();const o=Et();return o.firstCreatePass&&(pc(o,r),Xi(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function x1(r){return 0!=(16&r.flags)}(s)&&Ao(o,s,ye(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function gc(r){return 0!=(32&r.flags)}(s)&&Ao(o,s,ye(),s.stylesWithoutHost,!1),X3}function Ea(r,s,o,l){return D0(r,s,o,l),X3(),Ea}function I0(r,s,o){const l=ye(),f=Et(),p=r+22,v=f.firstCreatePass?function np(r,s,o,l,f){const p=s.consts,v=G1(p,l),y=Qt(s,r,8,"ng-container",v);return null!==v&&za(y,v,!0),G8(s,o,y,G1(p,f)),null!==s.queries&&s.queries.elementStart(s,y),y}(p,f,l,s,o):f.data[p];d1(v,!0);const y=l[p]=l[11].createComment("");return _1(f,l,y,v),c1(y,l),ds(v)&&(g0(f,l,v),j3(f,v,l)),null!=o&&ii(l,v),I0}function T0(){let r=L2();const s=Et();return a3()?Br():(r=r.parent,d1(r,!1)),s.firstCreatePass&&(pc(s,r),Xi(r)&&s.queries.elementEnd(r)),T0}function Aa(){return ye()}function P0(r){return!!r&&"function"==typeof r.then}function nf(r){return!!r&&"function"==typeof r.subscribe}const Do=nf;function Xn(r,s,o,l){const f=ye(),p=Et(),v=L2();return function l5(r,s,o,l,f,p,v,y){const M=ds(l),L=r.firstCreatePass&&$7(r),A=s[8],j=j7(s);let Q=!0;if(3&l.type||y){const ke=r1(l,s),Xe=y?y(ke):ke,pt=j.length,Ve=y?Wt=>y(_2(Wt[l.index])):l.index;let Ct=null;if(!y&&M&&(Ct=function rp(r,s,o,l){const f=r.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const v=f[p];if(v===o&&f[p+1]===l){const y=s[7],M=f[p+2];return y.length>M?y[M]:null}"string"==typeof v&&(p+=2)}return null}(r,s,f,l.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=p,Ct.__ngLastListenerFn__=p,Q=!1;else{p=To(l,s,A,p,!1);const Wt=o.listen(Xe,f,p);j.push(p,Wt),L&&L.push(f,Ve,pt,pt+1)}}else p=To(l,s,A,p,!1);const ge=l.outputs;let Ee;if(Q&&null!==ge&&(Ee=ge[f])){const ke=Ee.length;if(ke)for(let Xe=0;Xe<ke;Xe+=2){const f2=s[Ee[Xe]][Ee[Xe+1]].subscribe(p),os=j.length;j.push(p,f2),L&&L.push(f,l.index,os,-(os+1))}}}(p,f,f[11],v,r,s,0,l),Xn}function k0(r,s,o,l){try{return!1!==o(l)}catch(f){return Q8(r,f),!1}}function To(r,s,o,l,f){return function p(v){if(v===Function)return l;Va(2&r.flags?M2(r.index,s):s);let M=k0(s,0,l,v),V=p.__ngNextListenerFn__;for(;V;)M=k0(s,0,V,v)&&M,V=V.__ngNextListenerFn__;return f&&!1===M&&(v.preventDefault(),v.returnValue=!1),M}}function No(r=1){return function hc(r){return(gt.lFrame.contextLView=function N4(r,s){for(;r>0;)s=s[15],r--;return s}(r,gt.lFrame.contextLView))[8]}(r)}function u5(r,s,o){return Po(r,"",s,"",o),u5}function Po(r,s,o,l,f){const p=ye(),v=K3(p,s,o,l);return v!==ht&&An(Et(),Kt(),p,r,v,p[11],f,!1),Po}function p5(r,s,o,l,f){const p=r[o+1],v=null===s;let y=l?Ln(p):pn(p),M=!1;for(;0!==y&&(!1===M||v);){const L=r[y+1];op(r[y],s)&&(M=!0,r[y+1]=l?A8(L):l0(L)),y=l?Ln(L):pn(L)}M&&(r[o+1]=l?l0(p):A8(p))}function op(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Z1(r,s)>=0}function v5(r,s){return function Lr(r,s,o,l){const f=ye(),p=Et(),v=P1(2);p.firstUpdatePass&&function C5(r,s,o,l){const f=r.data;if(null===f[o+1]){const p=f[Z2()],v=function _5(r,s){return s>=r.expandoStartIndex}(r,o);(function nn(r,s){return 0!=(r.flags&(s?16:32))})(p,l)&&null===s&&!v&&(s=!1),s=function F0(r,s,o,l){const f=function bs(r){const s=gt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let p=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(o=d4(o=b5(null,r,s,o,l),s.attrs,l),p=null);else{const v=s.directiveStylingLast;if(-1===v||r[v]!==f)if(o=b5(f,r,s,o,l),null===p){let M=function y5(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==pn(l))return r[Ln(l)]}(r,s,l);void 0!==M&&Array.isArray(M)&&(M=b5(null,r,s,M[1],l),M=d4(M,s.attrs,l),function M5(r,s,o,l){r[Ln(o?s.classBindings:s.styleBindings)]=l}(r,s,l,M))}else p=function dp(r,s,o){let l;const f=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<f;p++)l=d4(l,r[p].hostAttrs,o);return d4(l,s.attrs,o)}(r,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),o}(f,p,s,l),function Da(r,s,o,l,f,p){let v=p?s.classBindings:s.styleBindings,y=Ln(v),M=pn(v);r[l]=o;let L,V=!1;if(Array.isArray(o)){const A=o;L=A[1],(null===L||Z1(A,L)>0)&&(V=!0)}else L=o;if(f)if(0!==M){const j=Ln(r[y+1]);r[l+1]=p2(j,y),0!==j&&(r[j+1]=i4(r[j+1],l)),r[y+1]=function E8(r,s){return 131071&r|s<<17}(r[y+1],l)}else r[l+1]=p2(y,0),0!==y&&(r[y+1]=i4(r[y+1],l)),y=l;else r[l+1]=p2(M,0),0===y?y=l:r[M+1]=i4(r[M+1],l),M=l;V&&(r[l+1]=l0(r[l+1])),p5(r,L,l,!0),p5(r,L,l,!1),function uf(r,s,o,l,f){const p=f?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&Z1(p,s)>=0&&(o[l+1]=A8(o[l+1]))}(s,L,r,l,p),v=p2(y,M),p?s.classBindings=v:s.styleBindings=v}(f,p,s,o,v,l)}}(p,r,v,l),s!==ht&&$2(f,v,s)&&function H5(r,s,o,l,f,p,v,y){if(!(3&s.type))return;const M=r.data,V=M[y+1];Oo(function bo(r){return 1==(1&r)}(V)?V5(M,s,o,f,pn(V),v):void 0)||(Oo(p)||function V7(r){return 2==(2&r)}(V)&&(p=V5(M,null,o,f,y,v)),function io(r,s,o,l,f){if(s)f?r.addClass(o,l):r.removeClass(o,l);else{let p=-1===l.indexOf("-")?void 0:Kn.DashCase;null==f?r.removeStyle(o,l,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=Kn.Important),r.setStyle(o,l,f,p))}}(l,v,N1(Z2(),o),f,p))}(p,p.data[Z2()],f,f[11],r,f[v+1]=function gf(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ae(E(r)))),r}(s,o),l,v)}(r,s,null,!0),v5}function b5(r,s,o,l,f){let p=null;const v=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<v&&(p=s[y],l=d4(l,p.hostAttrs,f),p!==r);)y++;return null!==r&&(o.directiveStylingLast=y),l}function d4(r,s,o){const l=o?1:2;let f=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?f=v:f===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),i1(r,v,!!o||s[++p]))}return void 0===r?null:r}function V5(r,s,o,l,f,p){const v=null===s;let y;for(;f>0;){const M=r[f],V=Array.isArray(M),L=V?M[1]:M,A=null===L;let j=o[f+1];j===ht&&(j=A?yt:void 0);let Q=A?Yr(j,l):L===l?j:void 0;if(V&&!Oo(Q)&&(Q=Yr(M,l)),Oo(Q)&&(y=Q,v))return y;const ge=r[f+1];f=v?Ln(ge):pn(ge)}if(null!==s){let M=p?s.residualClasses:s.residualStyles;null!=M&&(y=Yr(M,l))}return y}function Oo(r){return void 0!==r}function Na(r,s=""){const o=ye(),l=Et(),f=r+22,p=l.firstCreatePass?Qt(l,f,1,s,null):l.data[f],v=o[f]=function Ni(r,s){return r.createText(s)}(o[11],s);_1(l,o,v,p),d1(p,!1)}function ai(r){return h4("",r,""),ai}function h4(r,s,o){const l=ye(),f=K3(l,r,s,o);return f!==ht&&oi(l,Z2(),f),h4}function mn(r,s,o,l,f){const p=ye(),v=function Y3(r,s,o,l,f,p){const y=Z3(r,un(),o,f);return P1(2),y?s+de(o)+l+de(f)+p:ht}(p,r,s,o,l,f);return v!==ht&&oi(p,Z2(),v),mn}function qi(r,s,o,l,f,p,v){const y=ye(),M=function Q3(r,s,o,l,f,p,v,y){const V=La(r,un(),o,f,v);return P1(3),V?s+de(o)+l+de(f)+p+de(v)+y:ht}(y,r,s,o,l,f,p,v);return M!==ht&&oi(y,Z2(),M),qi}const p4=void 0;var wp=["en",[["a","p"],["AM","PM"],p4],[["AM","PM"],p4,p4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],p4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],p4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",p4,"{1} 'at' {0}",p4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bp(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ro={};function A5(r){const s=function Nf(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=rr(s);if(o)return o;const l=s.split("-")[0];if(o=rr(l),o)return o;if("en"===l)return wp;throw new me(701,!1)}function Tf(r){return A5(r)[mt.PluralCase]}function rr(r){return r in Ro||(Ro[r]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[r]),Ro[r]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const Fo="en-US";let kf=Fo;function b1(r,s,o,l,f){if(r=W(r),Array.isArray(r))for(let p=0;p<r.length;p++)b1(r[p],s,o,l,f);else{const p=Et(),v=ye();let y=k3(r)?r:W(r.provide),M=r0(r);const V=L2(),L=1048575&V.providerIndexes,A=V.directiveStart,j=V.providerIndexes>>20;if(k3(r)||!r.multi){const Q=new zs(M,f,yo),ge=W0(y,s,f?L:L+j,A);-1===ge?(Wr(Jt(V,v),p,y),Dr(p,r,s.length),s.push(y),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),o.push(Q),v.push(Q)):(o[ge]=Q,v[ge]=Q)}else{const Q=W0(y,s,L+j,A),ge=W0(y,s,L,L+j),Ee=Q>=0&&o[Q],ke=ge>=0&&o[ge];if(f&&!ke||!f&&!Ee){Wr(Jt(V,v),p,y);const Xe=function It(r,s,o,l,f){const p=new zs(r,o,yo);return p.multi=[],p.index=s,p.componentProviders=0,q0(p,f,l&&!o),p}(f?Jp:Qp,o.length,f,l,M);!f&&ke&&(o[ge].providerFactory=Xe),Dr(p,r,s.length,0),s.push(y),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),o.push(Xe),v.push(Xe)}else Dr(p,r,Q>-1?Q:ge,q0(o[f?ge:Q],M,!f&&l));!f&&l&&ke&&o[ge].componentProviders++}}}function Dr(r,s,o,l){const f=k3(s),p=function Qu(r){return!!r.useClass}(s);if(f||p){const M=(p?W(s.useClass):s).prototype.ngOnDestroy;if(M){const V=r.destroyHooks||(r.destroyHooks=[]);if(!f&&s.multi){const L=V.indexOf(o);-1===L?V.push(o,[l,M]):V[L+1].push(l,M)}else V.push(o,M)}}}function q0(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function W0(r,s,o,l){for(let f=o;f<l;f++)if(s[f]===r)return f;return-1}function Qp(r,s,o,l){return $a(this.multi,[])}function Jp(r,s,o,l){const f=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,y=q1(o,o[1],this.providerFactory.index,l);p=y.slice(0,v),$a(f,p);for(let M=v;M<y.length;M++)p.push(y[M])}else p=[],$a(f,p);return p}function $a(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function jo(r,s=[]){return o=>{o.providersResolver=(l,f)=>function rs(r,s,o){const l=Et();if(l.firstCreatePass){const f=t1(r);b1(o,l.data,l.blueprint,f,!0),b1(s,l.data,l.blueprint,f,!1)}}(l,f?f(r):r,s)}}class $o{}class g4{}function Xp(r,s){return new Ir(r,s??null)}class Ir extends $o{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new H0(this);const l=Lt(s);this._bootstrapComponents=ti(l.bootstrap),this._r3Injector=z8(s,o,[{provide:$o,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],ae(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Z0 extends g4{constructor(s){super(),this.moduleType=s}create(s){return new Ir(this.moduleType,s)}}class fd extends $o{constructor(s,o,l){super(),this.componentFactoryResolver=new H0(this),this.instance=null;const f=new n0([...s,{provide:$o,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],o||sa(),l,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function K0(r,s,o=null){return new fd(r,s,o).injector}let Qv=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Yu(0,o.type),f=l.length>0?K0([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,f)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Be({token:r,providedIn:"environment",factory:()=>new r(C2(O3))}),r})();function w1(r){r.getStandaloneInjector=s=>s.get(Qv).getOrCreateStandaloneInjector(r)}function J0(r,s,o,l){return $5(ye(),h1(),r,s,o,l)}function qa(r,s,o,l,f,p){return function Cd(r,s,o,l,f,p,v,y){const M=s+o;return La(r,M,f,p,v)?Dn(r,M+3,y?l.call(y,f,p,v):l(f,p,v)):Go(r,M+3)}(ye(),h1(),r,s,o,l,f,p)}function Go(r,s){const o=r[s];return o===ht?void 0:o}function $5(r,s,o,l,f,p){const v=s+o;return $2(r,v,f)?Dn(r,v+1,p?l.call(p,f):l(f)):Go(r,v+1)}function Md(r,s){const o=Et();let l;const f=r+22;o.firstCreatePass?(l=function og(r,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(r===l.name)return l}}(s,o.pipeRegistry),o.data[f]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(f,l.onDestroy)):l=o.data[f];const p=l.factory||(l.factory=ln(l.type)),v=T2(yo);try{const y=Gn(!1),M=p();return Gn(y),function o5(r,s,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=l}(o,ye(),f,M),M}finally{T2(v)}}function bd(r,s,o){const l=r+22,f=ye(),p=Hn(f,l);return function Tr(r,s){return r[1].data[s].pure}(f,l)?$5(f,h1(),s,p.transform,o,p):p.transform(o)}function wd(r){return s=>{setTimeout(r,void 0,s)}}const ui=class q5 extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let f=s,p=o||(()=>null),v=l;if(s&&"object"==typeof s){const M=s;f=M.next?.bind(M),p=M.error?.bind(M),v=M.complete?.bind(M)}this.__isAsync&&(p=wd(p),f&&(f=wd(f)),v&&(v=wd(v)));const y=super.subscribe({next:f,error:p,complete:v});return s instanceof K.w0&&s.add(y),y}};function lg(){return this._results[u4()]()}class W5{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=u4(),l=W5.prototype;l[o]||(l[o]=lg)}get changes(){return this._changes||(this._changes=new ui)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const f=K2(s);(this._changesDetected=!function x6(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let f=r[l],p=s[l];if(o&&(f=o(f),p=o(p)),p!==f)return!1}return!0}(l._results,f,o))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wi=(()=>{class r{}return r.__NG_ELEMENT_ID__=Hd,r})();const Ka=Wi,qo=class extends Ka{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tViews,f=h0(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(l)),ya(l,f,s),new Vo(f)}};function Hd(){return Ya(L2(),ye())}function Ya(r,s){return 4&r.type?new qo(s,r,po(r,s)):null}let Qa=(()=>{class r{}return r.__NG_ELEMENT_ID__=Wo,r})();function Wo(){return nl(L2(),ye())}const ug=Qa,Vd=class extends ug{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return po(this._hostTNode,this._hostLView)}get injector(){return new W1(this._hostTNode,this._hostLView)}get parentInjector(){const s=m3(this._hostTNode,this._hostLView);if(Hi(s)){const o=Vn(s,this._hostLView),l=qr(s);return new W1(o[1].data[l+8],o)}return new W1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Z5(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){let f,p;"number"==typeof l?f=l:null!=l&&(f=l.index,p=l.injector);const v=s.createEmbeddedView(o||{},p);return this.insert(v,f),v}createComponent(s,o,l,f,p){const v=s&&!function O1(r){return"function"==typeof r}(s);let y;if(v)y=o;else{const A=o||{};y=A.index,l=A.injector,f=A.projectableNodes,p=A.environmentInjector||A.ngModuleRef}const M=v?s:new l4(ne(s)),V=l||this.parentInjector;if(!p&&null==M.ngModule){const j=(v?V:this.parentInjector).get(O3,null);j&&(p=j)}const L=M.create(V,f,void 0,p);return this.insert(L.hostView,y),L}insert(s,o){const l=s._lView,f=l[1];if(function _i(r){return f1(r[3])}(l)){const L=this.indexOf(s);if(-1!==L)this.detach(L);else{const A=l[3],j=new Vd(A,A[6],A[3]);j.detach(j.indexOf(s))}}const p=this._adjustIndex(o),v=this._lContainer;!function Jl(r,s,o,l){const f=10+l,p=o.length;l>0&&(o[f-1][4]=s),l<p-10?(s[4]=o[f],yc(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const v=s[17];null!==v&&o!==v&&function Xl(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(v,s);const y=s[19];null!==y&&y.insertView(r),s[2]|=64}(f,l,v,p);const y=Js(p,v),M=l[11],V=Ys(M,v[7]);return null!==V&&function F6(r,s,o,l,f,p){l[0]=f,l[6]=s,I3(r,l,o,1,f,p)}(f,v[6],M,l,V,y),s.attachToViewContainerRef(),yc(K5(v),p,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Z5(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=X4(this._lContainer,o);l&&(Ei(K5(this._lContainer),o),B6(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=X4(this._lContainer,o);return l&&null!=Ei(K5(this._lContainer),o)?new Vo(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function Z5(r){return r[8]}function K5(r){return r[8]||(r[8]=[])}function nl(r,s){let o;const l=s[r.index];if(f1(l))o=l;else{let f;if(8&r.type)f=_2(l);else{const p=s[11];f=p.createComment("");const v=r1(r,s);zr(p,Ys(p,v),f,function to(r,s){return r.nextSibling(s)}(p,v),!1)}s[r.index]=o=F7(l,s,f,r),Ha(s,o)}return new Vd(o,r,s)}class Y5{constructor(s){this.queryList=s,this.matches=null}clone(){return new Y5(this.queryList)}setDirty(){this.queryList.setDirty()}}class rl{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,f=[];for(let p=0;p<l;p++){const v=o.getByIndex(p);f.push(this.queries[v.indexInDeclarationView].clone())}return new rl(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==X5(s,o).matches&&this.queries[o].setDirty()}}class Q5{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class Nr{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const f=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(s,f);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new Nr(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Xa{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Xa(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const p=l[f];this.matchTNodeWithReadOption(s,o,_4(o,p)),this.matchTNodeWithReadOption(s,o,zn(o,s,p,!1,!1))}else l===Wi?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,zn(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===ca||f===Qa||f===Wi&&4&o.type)this.addMatch(o.index,-2);else{const p=zn(o,s,f,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function _4(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function xd(r,s,o,l){return-1===o?function il(r,s){return 11&r.type?po(r,s):4&r.type?Ya(r,s):null}(s,r):-2===o?function dg(r,s,o){return o===ca?po(s,r):o===Wi?Ya(s,r):o===Qa?nl(s,r):void 0}(r,s,l):q1(r,r[1],o,s)}function Sd(r,s,o,l){const f=s[19].queries[l];if(null===f.matches){const p=r.data,v=o.matches,y=[];for(let M=0;M<v.length;M+=2){const V=v[M];y.push(V<0?null:xd(s,p[V],v[M+1],o.metadata.read))}f.matches=y}return f.matches}function J5(r,s,o,l){const f=r.queries.getByIndex(o),p=f.matches;if(null!==p){const v=Sd(r,s,f,o);for(let y=0;y<p.length;y+=2){const M=p[y];if(M>0)l.push(v[y/2]);else{const V=p[y+1],L=s[-M];for(let A=10;A<L.length;A++){const j=L[A];j[17]===j[3]&&J5(j[1],j,V,l)}if(null!==L[9]){const A=L[9];for(let j=0;j<A.length;j++){const Q=A[j];J5(Q[1],Q,V,l)}}}}}return l}function Ld(r){const s=ye(),o=Et(),l=Bn();pr(l+1);const f=X5(o,l);if(r.dirty&&function i3(r){return 4==(4&r[2])}(s)===(2==(2&f.metadata.flags))){if(null===f.matches)r.reset([]);else{const p=f.crossesNgTemplate?J5(o,s,l,[]):Sd(o,s,f,l);r.reset(p,r7),r.notifyOnChanges()}return!0}return!1}function Ed(r,s,o){const l=Et();l.firstCreatePass&&(Td(l,new Q5(r,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),Id(l,ye(),s)}function Ad(r,s,o,l){const f=Et();if(f.firstCreatePass){const p=L2();Td(f,new Q5(s,o,l),p.index),function pg(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(f,r),2==(2&o)&&(f.staticContentQueries=!0)}Id(f,ye(),o)}function Dd(){return function hg(r,s){return r[19].queries[s].queryList}(ye(),Bn())}function Id(r,s,o){const l=new W5(4==(4&o));T7(r,s,l,l.destroy),null===s[19]&&(s[19]=new rl),s[19].queries.push(new Y5(l))}function Td(r,s,o){null===r.queries&&(r.queries=new Nr),r.queries.track(new Xa(s,o))}function X5(r,s){return r.queries.getByIndex(s)}function hl(...r){}const Zd=new St("Application Initializer");let pl=(()=>{class r{constructor(o){this.appInits=o,this.resolve=hl,this.reject=hl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(P0(p))o.push(p);else if(Do(p)){const v=new Promise((y,M)=>{p.subscribe({complete:y,error:M})});o.push(v)}}Promise.all(o).then(()=>{l()}).catch(f=>{this.reject(f)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(C2(Zd,8))},r.\u0275prov=Be({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const wg=new St("AppId",{providedIn:"root",factory:function Kd(){return`${Jo()}${Jo()}${Jo()}`}});function Jo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const y4=new St("Platform Initializer"),Hg=new St("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qd=new St("appBootstrapListener");let Vg=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Be({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const gl=new St("LocaleId",{providedIn:"root",factory:()=>V3(gl,Fe.Optional|Fe.SkipSelf)||function zg(){return typeof $localize<"u"&&$localize.locale||Fo}()}),xg=new St("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fu{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Jd=(()=>{class r{compileModuleSync(o){return new Z0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=ti(Lt(o).declarations).reduce((v,y)=>{const M=ne(y);return M&&v.push(new l4(M)),v},[]);return new fu(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Be({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const t9=(()=>Promise.resolve(0))();function ml(r){typeof Zone>"u"?t9.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class sn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ui(!1),this.onMicrotaskEmpty=new ui(!1),this.onStable=new ui(!1),this.onError=new ui(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&o,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function vl(){let r=Zt.requestAnimationFrame,s=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Eg(r){const s=()=>{!function r9(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Zt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,pu(r),r.isCheckStableRunning=!0,M4(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),pu(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,f,p,v,y)=>{try{return i9(r),o.invokeTask(f,p,v,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),s9(r)}},onInvoke:(o,l,f,p,v,y,M)=>{try{return i9(r),o.invoke(f,p,v,y,M)}finally{r.shouldCoalesceRunChangeDetection&&s(),s9(r)}},onHasTask:(o,l,f,p)=>{o.hasTask(f,p),l===f&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,pu(r),M4(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,f,p)=>(o.handleError(f,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sn.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(sn.isInAngularZone())throw new me(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,f){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+f,s,n9,hl,hl);try{return p.runTask(v,o,l)}finally{p.cancelTask(v)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const n9={};function M4(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function pu(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function i9(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function s9(r){r._nesting--,M4(r)}class Ag{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ui,this.onMicrotaskEmpty=new ui,this.onStable=new ui,this.onError=new ui}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,f){return s.apply(o,l)}}const r6=new St(""),o9=new St("");let gu,Dg=(()=>{class r{constructor(o,l,f){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gu||(function Ig(r){gu=r}(f),f.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sn.assertNotInAngularZone(),ml(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ml(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,f){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:f})}whenStable(o,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,f){return[]}}return r.\u0275fac=function(o){return new(o||r)(C2(sn),C2(c9),C2(o9))},r.\u0275prov=Be({token:r,factory:r.\u0275fac}),r})(),c9=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return gu?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Be({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ss=null;const a9=new St("AllowMultipleToken"),_l=new St("PlatformDestroyListeners");class f9{constructor(s,o){this.name=s,this.token=o}}function p9(r,s,o=[]){const l=`Platform: ${s}`,f=new St(l);return(p=[])=>{let v=i6();if(!v||v.injector.get(a9,!1)){const y=[...o,...p,{provide:f,useValue:!0}];r?r(y):function d9(r){if(ss&&!ss.get(a9,!1))throw new me(400,!1);ss=r;const s=r.get(mu);(function h9(r){const s=r.get(y4,null);s&&s.forEach(o=>o())})(r)}(function g9(r=[],s){return Sn.create({name:s,providers:[{provide:t0,useValue:"platform"},{provide:_l,useValue:new Set([()=>ss=null])},...r]})}(y,l))}return function Pg(r){const s=i6();if(!s)throw new me(401,!1);return s}()}}function i6(){return ss?.get(mu)??null}let mu=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const f=function Og(r,s){let o;return o="noop"===r?new Ag:("zone.js"===r?void 0:r)||new sn(s),o}(l?.ngZone,function vu(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:sn,useValue:f}];return f.run(()=>{const v=Sn.create({providers:p,parent:this.injector,name:o.moduleType.name}),y=o.create(v),M=y.injector.get(aa,null);if(!M)throw new me(402,!1);return f.runOutsideAngular(()=>{const V=f.onError.subscribe({next:L=>{M.handleError(L)}});y.onDestroy(()=>{yl(this._modules,y),V.unsubscribe()})}),function m9(r,s,o){try{const l=o();return P0(l)?l.catch(f=>{throw s.runOutsideAngular(()=>r.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(M,f,()=>{const V=y.injector.get(pl);return V.runInitializers(),V.donePromise.then(()=>(function zp(r){Se(r,"Expected localeId to be defined"),"string"==typeof r&&(kf=r.toLowerCase().replace(/_/g,"-"))}(y.injector.get(gl,Fo)||Fo),this._moduleDoBootstrap(y),y))})})}bootstrapModule(o,l=[]){const f=v9({},l);return function l9(r,s,o){const l=new Z0(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(o){const l=o.injector.get(Cl);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new me(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(_l,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(C2(Sn))},r.\u0275prov=Be({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function v9(r,s){return Array.isArray(s)?s.reduce(v9,r):{...r,...s}}let Cl=(()=>{class r{constructor(o,l,f){this._zone=o,this._injector=l,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new D.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),v=new D.y(y=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{sn.assertNotInAngularZone(),ml(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{sn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{M.unsubscribe(),V.unsubscribe()}});this.isStable=(0,ee.T)(p,v.pipe((0,X.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const f=o instanceof t7;if(!this._injector.get(pl).done)throw!f&&vt(o),new me(405,false);let v;v=f?o:this._injector.get(oa).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const y=function u9(r){return r.isBoundToModule}(v)?void 0:this._injector.get($o),V=v.create(Sn.NULL,[],l||v.selector,y),L=V.location.nativeElement,A=V.injector.get(r6,null);return A?.registerApplication(L),V.onDestroy(()=>{this.detachView(V.hostView),yl(this.components,V),A?.unregisterApplication(L)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;yl(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Qd,[]).concat(this._bootstrapListeners).forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>yl(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new me(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(C2(sn),C2(O3),C2(aa))},r.\u0275prov=Be({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function yl(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}let Ml=!0,bl=!1;function Rg(){return bl=!0,Ml}function Fg(){if(bl)throw new Error("Cannot enable prod mode after platform setup.");Ml=!1}let Ug=(()=>{class r{}return r.__NG_ELEMENT_ID__=Bg,r})();function Bg(r){return function jg(r,s,o){if(gi(r)&&!o){const l=M2(r.index,s);return new Vo(l,l)}return 47&r.type?new Vo(s[16],s):null}(L2(),ye(),16==(16&r))}class xl{constructor(){}supports(s){return xa(s)}create(s){return new Qg(s)}}const Yg=(r,s)=>s;class Qg{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Yg}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,f=0,p=null;for(;o||l;){const v=!l||o&&o.currentIndex<Xg(l,f,p)?o:l,y=Xg(v,f,p),M=v.currentIndex;if(v===l)f--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)f++;else{p||(p=[]);const V=y-f,L=M-f;if(V!=L){for(let j=0;j<V;j++){const Q=j<p.length?p[j]:p[j]=0,ge=Q+j;L<=ge&&ge<V&&(p[j]=Q+1)}p[v.previousIndex]=L-V}}y!==M&&s(v,y,M)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!xa(s))throw new me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,p,v,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)p=s[y],v=this._trackByFn(y,p),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,p,v,y)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,v,y),l=!0),o=o._next}else f=0,function Q7(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[u4()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,y=>{v=this._trackByFn(f,y),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,y,v,f)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,v,f),l=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,f){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,p,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,p,f)):s=this._addAfter(new Jg(o,l),p,f),s}_verifyReinsertion(s,o,l,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,p=s._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const f=null===o?this._itHead:o._next;return s._next=f,s._prev=o,null===f?this._itTail=s:f._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new z9),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z9),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Jg{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class V9{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class z9{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new V9,this.map.set(o,l)),l.add(s)}get(s,o){const f=this.map.get(s);return f?f.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xg(r,s,o){const l=r.previousIndex;if(null===l)return l;let f=0;return o&&l<o.length&&(f=o[l]),l+s+f}class c6{constructor(){}supports(s){return s instanceof Map||t5(s)}create(){return new v_}}class v_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||t5(s)))throw new me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(f,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,o);const p=f._prev,v=f._next;return p&&(p._next=v),v&&(v._prev=p),f._next=null,f._prev=null,f}const l=new x9(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class x9{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function S9(){return new yu([new xl])}let yu=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const f=l.factories.slice();o=o.concat(f)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||S9()),deps:[[r,new je,new J]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(null!=l)return l;throw new me(901,!1)}}return r.\u0275prov=Be({token:r,providedIn:"root",factory:S9}),r})();function L9(){return new Mu([new c6])}let Mu=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const f=l.factories.slice();o=o.concat(f)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||L9()),deps:[[r,new je,new J]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(l)return l;throw new me(901,!1)}}return r.\u0275prov=Be({token:r,providedIn:"root",factory:L9}),r})();const im=p9(null,"core",[]);let C_=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(C2(Cl))},r.\u0275mod=zt({type:r}),r.\u0275inj=tt({}),r})();function b4(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(it,be,I)=>{I.d(be,{Z:()=>me});var c=I(2090),K=I(4859),D=I(9681),ee=I(1877);class X{constructor(de,oe){this._delegate=de,this.firebase=oe,(0,D._addComponent)(de,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,D.deleteApp)(this._delegate)))}_getService(de,oe=D._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(de);return!st.isInitialized()&&"EXPLICIT"===(null===(Ge=st.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&st.initialize(),st.getImmediate({identifier:oe})}_removeServiceInstance(de,oe=D._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(oe)}_addComponent(de){(0,D._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,D._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function le(){const qe=function ae(qe){const de={},oe={__esModule:!0,initializeApp:function Me(Ie,R={}){const fe=D.initializeApp(Ie,R);if((0,c.r3)(de,fe.name))return de[fe.name];const Ae=new qe(fe,oe);return de[fe.name]=Ae,Ae},app:st,registerVersion:D.registerVersion,setLogLevel:D.setLogLevel,onLog:D.onLog,apps:null,SDK_VERSION:D.SDK_VERSION,INTERNAL:{registerComponent:function ve(Ie){const R=Ie.name,fe=R.replace("-compat","");if(D._registerComponent(Ie)&&"PUBLIC"===Ie.type){const Ae=($e=st())=>{if("function"!=typeof $e[fe])throw ie.create("invalid-app-argument",{appName:R});return $e[fe]()};void 0!==Ie.serviceProps&&(0,c.ZB)(Ae,Ie.serviceProps),oe[fe]=Ae,qe.prototype[fe]=function(...$e){return this._getService.bind(this,R).apply(this,Ie.multipleInstances?$e:[])}}return"PUBLIC"===Ie.type?oe[fe]:null},removeApp:function Ge(Ie){delete de[Ie]},useAsService:function De(Ie,R){return"serverAuth"===R?null:R},modularAPIs:D}};function st(Ie){if(!(0,c.r3)(de,Ie=Ie||D._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ie});return de[Ie]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function he(){return Object.keys(de).map(Ie=>de[Ie])}}),st.App=qe,oe}(X);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function de(oe){(0,c.ZB)(qe,oe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),qe}(),B=new ee.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const me=U;!function He(qe){(0,D.registerVersion)("@firebase/app-compat","0.2.7",qe)}()},9681:(it,be,I)=>{I.r(be),I.d(be,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>a1,_DEFAULT_ENTRY_NAME:()=>Se,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>Be,_apps:()=>et,_clearComponents:()=>I2,_components:()=>Ht,_getProvider:()=>tt,_registerComponent:()=>kt,_removeServiceInstance:()=>lt,deleteApp:()=>kr,getApp:()=>V1,getApps:()=>A1,initializeApp:()=>B1,onLog:()=>on,registerVersion:()=>X2,setLogLevel:()=>T2});var c=I(5861),K=I(4859),D=I(1877),ee=I(2090),X=I(8766);class se{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function ie(Ye){return"VERSION"===Ye.getComponent()?.type}(We)){const _t=We.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(We=>We).join(" ")}}const ae="@firebase/app",U=new D.Yd("@firebase/app"),Se="[DEFAULT]",_e={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Ht=new Map;function Bt(Ye,Ce){try{Ye.container.addComponent(Ce)}catch(We){U.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Ye.name}`,We)}}function Be(Ye,Ce){Ye.container.addOrOverwriteComponent(Ce)}function kt(Ye){const Ce=Ye.name;if(Ht.has(Ce))return U.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ht.set(Ce,Ye);for(const We of et.values())Bt(We,Ye);return!0}function tt(Ye,Ce){const We=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),Ye.container.getProvider(Ce)}function lt(Ye,Ce,We=Se){tt(Ye,Ce).clearInstance(We)}function I2(){Ht.clear()}const o2=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class g2{constructor(Ce,We,_t){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw o2.create("app-deleted",{appName:this._name})}}const a1="9.19.1";function B1(Ye,Ce={}){let We=Ye;"object"!=typeof Ce&&(Ce={name:Ce});const _t=Object.assign({name:Se,automaticDataCollectionEnabled:!1},Ce),Mt=_t.name;if("string"!=typeof Mt||!Mt)throw o2.create("bad-app-name",{appName:String(Mt)});if(We||(We=(0,ee.aH)()),!We)throw o2.create("no-options");const zt=et.get(Mt);if(zt){if((0,ee.vZ)(We,zt.options)&&(0,ee.vZ)(_t,zt.config))return zt;throw o2.create("duplicate-app",{appName:Mt})}const e1=new K.H0(Mt);for(const O of Ht.values())e1.addComponent(O);const F=new g2(We,_t,e1);return et.set(Mt,F),F}function V1(Ye=Se){const Ce=et.get(Ye);if(!Ce&&Ye===Se)return B1();if(!Ce)throw o2.create("no-app",{appName:Ye});return Ce}function A1(){return Array.from(et.values())}function kr(Ye){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,c.Z)(function*(Ye){const Ce=Ye.name;et.has(Ce)&&(et.delete(Ce),yield Promise.all(Ye.container.getProviders().map(We=>We.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function X2(Ye,Ce,We){var _t;let Mt=null!==(_t=_e[Ye])&&void 0!==_t?_t:Ye;We&&(Mt+=`-${We}`);const zt=Mt.match(/\s|\//),e1=Ce.match(/\s|\//);if(zt||e1){const F=[`Unable to register library "${Mt}" with version "${Ce}":`];return zt&&F.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),zt&&e1&&F.push("and"),e1&&F.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void U.warn(F.join(" "))}kt(new K.wA(`${Mt}-version`,()=>({library:Mt,version:Ce}),"VERSION"))}function on(Ye,Ce){if(null!==Ye&&"function"!=typeof Ye)throw o2.create("invalid-log-argument");(0,D.Am)(Ye,Ce)}function T2(Ye){(0,D.Ub)(Ye)}const m2="firebase-heartbeat-store";let V2=null;function e2(){return V2||(V2=(0,X.X3)("firebase-heartbeat-database",1,{upgrade:(Ye,Ce)=>{0===Ce&&Ye.createObjectStore(m2)}}).catch(Ye=>{throw o2.create("idb-open",{originalErrorMessage:Ye.message})})),V2}function ct(){return(ct=(0,c.Z)(function*(Ye){try{return(yield e2()).transaction(m2).objectStore(m2).get(N2(Ye))}catch(Ce){if(Ce instanceof ee.ZR)U.warn(Ce.message);else{const We=o2.create("idb-get",{originalErrorMessage:Ce?.message});U.warn(We.message)}}})).apply(this,arguments)}function Zt(Ye,Ce){return z2.apply(this,arguments)}function z2(){return(z2=(0,c.Z)(function*(Ye,Ce){try{const _t=(yield e2()).transaction(m2,"readwrite");return yield _t.objectStore(m2).put(Ce,N2(Ye)),_t.done}catch(We){if(We instanceof ee.ZR)U.warn(We.message);else{const _t=o2.create("idb-set",{originalErrorMessage:We?.message});U.warn(_t.message)}}})).apply(this,arguments)}function N2(Ye){return`${Ye.name}!${Ye.options.appId}`}class Cn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new Rt(We),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var Ce=this;return(0,c.Z)(function*(){const _t=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=Ot();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!Ce._heartbeatsCache.heartbeats.some(zt=>zt.date===Mt))return Ce._heartbeatsCache.heartbeats.push({date:Mt,agent:_t}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(zt=>{const e1=new Date(zt.date).valueOf();return Date.now()-e1<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,c.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const We=Ot(),{heartbeatsToSend:_t,unsentEntries:Mt}=function j1(Ye,Ce=1024){const We=[];let _t=Ye.slice();for(const Mt of Ye){const zt=We.find(e1=>e1.agent===Mt.agent);if(zt){if(zt.dates.push(Mt.date),k2(We)>Ce){zt.dates.pop();break}}else if(We.push({agent:Mt.agent,dates:[Mt.date]}),k2(We)>Ce){We.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:We,unsentEntries:_t}}(Ce._heartbeatsCache.heartbeats),zt=(0,ee.L)(JSON.stringify({version:2,heartbeats:_t}));return Ce._heartbeatsCache.lastSentHeartbeatDate=We,Mt.length>0?(Ce._heartbeatsCache.heartbeats=Mt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),zt})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,c.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function at(Ye){return ct.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var We=this;return(0,c.Z)(function*(){var _t;if(yield We._canUseIndexedDBPromise){const zt=yield We.read();return Zt(We.app,{lastSentHeartbeatDate:null!==(_t=Ce.lastSentHeartbeatDate)&&void 0!==_t?_t:zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var We=this;return(0,c.Z)(function*(){var _t;if(yield We._canUseIndexedDBPromise){const zt=yield We.read();return Zt(We.app,{lastSentHeartbeatDate:null!==(_t=Ce.lastSentHeartbeatDate)&&void 0!==_t?_t:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...Ce.heartbeats]})}})()}}function k2(Ye){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function l1(Ye){kt(new K.wA("platform-logger",Ce=>new se(Ce),"PRIVATE")),kt(new K.wA("heartbeat",Ce=>new Cn(Ce),"PRIVATE")),X2(ae,"0.9.7",Ye),X2(ae,"0.9.7","esm2017"),X2("fire-js","")}("")},4859:(it,be,I)=>{I.d(be,{H0:()=>ae,wA:()=>D,zt:()=>X});var c=I(5861),K=I(2090);class D{constructor(U,B,W){this.name=U,this.instanceFactory=B,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ee="[DEFAULT]";class X{constructor(U,B){this.name=U,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const B=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(B)){const W=new K.BH;if(this.instancesDeferred.set(B,W),this.isInitialized(B)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:B});Ne&&W.resolve(Ne)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(U){var B;const W=this.normalizeInstanceIdentifier(U?.identifier),Ne=null!==(B=U?.optional)&&void 0!==B&&B;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(He){if(Ne)return null;throw He}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ie(le){return"EAGER"===le.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[B,W]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(B);try{const He=this.getOrInitializeService({instanceIdentifier:Ne});W.resolve(He)}catch{}}}}clearInstance(U=ee){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,c.Z)(function*(){const B=Array.from(U.instances.values());yield Promise.all([...B.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...B.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ee){return this.instances.has(U)}getOptions(U=ee){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:B={}}=U,W=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:W,options:B});for(const[He,me]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(He)&&me.resolve(Ne);return Ne}onInit(U,B){var W;const Ne=this.normalizeInstanceIdentifier(B),He=null!==(W=this.onInitCallbacks.get(Ne))&&void 0!==W?W:new Set;He.add(U),this.onInitCallbacks.set(Ne,He);const me=this.instances.get(Ne);return me&&U(me,Ne),()=>{He.delete(U)}}invokeOnInitCallbacks(U,B){const W=this.onInitCallbacks.get(B);if(W)for(const Ne of W)try{Ne(U,B)}catch{}}getOrInitializeService({instanceIdentifier:U,options:B={}}){let W=this.instances.get(U);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(le=U,le===ee?void 0:le),options:B}),this.instances.set(U,W),this.instancesOptions.set(U,B),this.invokeOnInitCallbacks(W,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,W)}catch{}var le;return W||null}normalizeInstanceIdentifier(U=ee){return this.component?this.component.multipleInstances?U:ee:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const B=this.getProvider(U.name);if(B.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);B.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const B=new X(U,this);return this.providers.set(U,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(it,be,I)=>{I.d(be,{Am:()=>le,Ub:()=>ae,Yd:()=>ie,in:()=>K});const c=[];var K=(()=>{return(U=K||(K={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",K;var U})();const D={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ee=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},se=(U,B,...W)=>{if(B<U.logLevel)return;const Ne=(new Date).toISOString(),He=X[B];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[He](`[${Ne}]  ${U.name}:`,...W)};class ie{constructor(B){this.name=B,this._logLevel=ee,this._logHandler=se,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in K))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?D[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...B),this._logHandler(this,K.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...B),this._logHandler(this,K.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,K.INFO,...B),this._logHandler(this,K.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,K.WARN,...B),this._logHandler(this,K.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...B),this._logHandler(this,K.ERROR,...B)}}function ae(U){c.forEach(B=>{B.setLogLevel(U)})}function le(U,B){for(const W of c){let Ne=null;B&&B.level&&(Ne=D[B.level]),W.userLogHandler=null===U?null:(He,me,...qe)=>{const de=qe.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch{return null}}).filter(oe=>oe).join(" ");me>=(Ne??He.logLevel)&&U({level:K[me].toLowerCase(),message:de,args:qe,type:He.name})}}}},259:(it,be,I)=>{I.d(be,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=I(9681);(0,c.registerVersion)("firebase","9.19.1","app")},9260:(it,be,I)=>{I.d(be,{Z:()=>c.Z});var c=I(3942);c.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(it,be,I)=>{I.r(be);var c=I(5861),K=I(3942),D=I(2090),ee=I(9681),X=I(1877),se=I(655),ie=I(4859);const me=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new D.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new X.Yd("@firebase/auth");function st(m,...d){Ge.logLevel<=X.in.ERROR&&Ge.error(`Auth (${ee.SDK_VERSION}): ${m}`,...d)}function Me(m,...d){throw Ie(m,...d)}function he(m,...d){return Ie(m,...d)}function ve(m,d,h){const _=Object.assign(Object.assign({},qe()),{[d]:h});return new D.LL("auth","Firebase",_).create(d,{appName:m.name})}function De(m,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Me(m,"argument-error"),ve(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(m,...d){if("string"!=typeof m){const h=d[0],_=[...d.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(h,..._)}return de.create(m,...d)}function R(m,d,...h){if(!m)throw Ie(d,...h)}function fe(m){const d="INTERNAL ASSERTION FAILED: "+m;throw st(d),new Error(d)}function Ae(m,d){m||fe(d)}const $e=new Map;function ot(m){Ae(m instanceof Function,"Expected a class definition");let d=$e.get(m);return d?(Ae(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,$e.set(m,d),d)}function ue(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function pe(){return"http:"===xe()||"https:"===xe()}function xe(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class et{constructor(d,h){this.shortDelay=d,this.longDelay=h,Ae(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,D.uI)()||(0,D.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pe()||(0,D.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ht(m,d){Ae(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Bt{static initialize(d,h,_){this.fetchImpl=d,h&&(this.headersImpl=h),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},kt=new et(3e4,6e4);function tt(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function lt(m,d,h,_){return I2.apply(this,arguments)}function I2(){return(I2=(0,c.Z)(function*(m,d,h,_,z={}){return i2(m,z,(0,c.Z)(function*(){let E={},$={};_&&("GET"===d?$=_:E={body:JSON.stringify(_)});const ce=(0,D.xO)(Object.assign({key:m.config.apiKey},$)).slice(1),Te=yield m._getAdditionalHeaders();return Te["Content-Type"]="application/json",m.languageCode&&(Te["X-Firebase-Locale"]=m.languageCode),Bt.fetch()(B1(m,m.config.apiHost,h,ce),Object.assign({method:d,headers:Te,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function i2(m,d,h){return o2.apply(this,arguments)}function o2(){return(o2=(0,c.Z)(function*(m,d,h){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},Be),d);try{const z=new V1(m),E=yield Promise.race([h(),z.promise]);z.clearNetworkTimeout();const $=yield E.json();if("needConfirmation"in $)throw A1(m,"account-exists-with-different-credential",$);if(E.ok&&!("errorMessage"in $))return $;{const ce=E.ok?$.errorMessage:$.error.message,[Te,Ke]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Te)throw A1(m,"credential-already-in-use",$);if("EMAIL_EXISTS"===Te)throw A1(m,"email-already-in-use",$);if("USER_DISABLED"===Te)throw A1(m,"user-disabled",$);const dt=_[Te]||Te.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw ve(m,dt,Ke);Me(m,dt)}}catch(z){if(z instanceof D.ZR)throw z;Me(m,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function g2(m,d,h,_){return a1.apply(this,arguments)}function a1(){return(a1=(0,c.Z)(function*(m,d,h,_,z={}){const E=yield lt(m,d,h,_,z);return"mfaPendingCredential"in E&&Me(m,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function B1(m,d,h,_){const z=`${d}${h}?${_}`;return m.config.emulator?Ht(m.config,z):`${m.config.apiScheme}://${z}`}class V1{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,_)=>{this.timer=setTimeout(()=>_(he(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function A1(m,d,h){const _={appName:m.name};h.email&&(_.email=h.email),h.phoneNumber&&(_.phoneNumber=h.phoneNumber);const z=he(m,d,_);return z.customData._tokenResponse=h,z}function Fe(){return(Fe=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function X2(m,d){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function T2(m,d){return D1.apply(this,arguments)}function D1(){return(D1=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function cn(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function e2(){return(e2=(0,c.Z)(function*(m,d=!1){const h=(0,D.m9)(m),_=yield h.getIdToken(d),z=ct(_);R(z&&z.exp&&z.auth_time&&z.iat,h.auth,"internal-error");const E="object"==typeof z.firebase?z.firebase:void 0,$=E?.sign_in_provider;return{claims:z,token:_,authTime:cn(at(z.auth_time)),issuedAtTime:cn(at(z.iat)),expirationTime:cn(at(z.exp)),signInProvider:$||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function at(m){return 1e3*Number(m)}function ct(m){const[d,h,_]=m.split(".");if(void 0===d||void 0===h||void 0===_)return st("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,D.tV)(h);return z?JSON.parse(z):(st("Failed to decode base64 JWT payload"),null)}catch(z){return st("Caught error parsing JWT payload as JSON",z?.toString()),null}}function z2(m,d){return N2.apply(this,arguments)}function N2(){return(N2=(0,c.Z)(function*(m,d,h=!1){if(h)return d;try{return yield d}catch(_){throw _ instanceof D.ZR&&P2(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}function P2({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class yt{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const z=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const _=this.getInterval(d);this.timerId=setTimeout((0,c.Z)(function*(){yield h.iteration()}),_)}iteration(){var d=this;return(0,c.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class Cn{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=cn(this.lastLoginAt),this.creationTime=cn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ot(m){return j1.apply(this,arguments)}function j1(){return(j1=(0,c.Z)(function*(m){var d;const h=m.auth,_=yield m.getIdToken(),z=yield z2(m,T2(h,{idToken:_}));R(z?.users.length,h,"internal-error");const E=z.users[0];m._notifyReloadListener(E);const $=null!==(d=E.providerUserInfo)&&void 0!==d&&d.length?Ye(E.providerUserInfo):[],ce=l1(m.providerData,$),dt=!!m.isAnonymous&&!(m.email&&E.passwordHash||ce?.length),ft={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:ce,metadata:new Cn(E.createdAt,E.lastLoginAt),isAnonymous:dt};Object.assign(m,ft)})).apply(this,arguments)}function k2(){return(k2=(0,c.Z)(function*(m){const d=(0,D.m9)(m);yield Ot(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function l1(m,d){return[...m.filter(_=>!d.some(z=>z.providerId===_.providerId)),...d]}function Ye(m){return m.map(d=>{var{providerId:h}=d,_=(0,se._T)(d,["providerId"]);return{providerId:h,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function We(){return(We=(0,c.Z)(function*(m,d){const h=yield i2(m,{},(0,c.Z)(function*(){const _=(0,D.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:z,apiKey:E}=m.config,$=B1(m,z,"/v1/token",`key=${E}`),ce=yield m._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Bt.fetch()($,{method:"POST",headers:ce,body:_})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class _t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){R(d.idToken,"internal-error"),R(typeof d.idToken<"u","internal-error"),R(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Zt(m){const d=ct(m);return R(d,"internal-error"),R(typeof d.exp<"u","internal-error"),R(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var _=this;return(0,c.Z)(function*(){return R(!_.accessToken||_.refreshToken,d,"user-token-expired"),h||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(d,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var _=this;return(0,c.Z)(function*(){const{accessToken:z,refreshToken:E,expiresIn:$}=yield function Ce(m,d){return We.apply(this,arguments)}(d,h);_.updateTokensAndExpiration(z,E,Number($))})()}updateTokensAndExpiration(d,h,_){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(d,h){const{refreshToken:_,accessToken:z,expirationTime:E}=h,$=new _t;return _&&(R("string"==typeof _,"internal-error",{appName:d}),$.refreshToken=_),z&&(R("string"==typeof z,"internal-error",{appName:d}),$.accessToken=z),E&&(R("number"==typeof E,"internal-error",{appName:d}),$.expirationTime=E),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new _t,this.toJSON())}_performRefresh(){return fe("not implemented")}}function Mt(m,d){R("string"==typeof m||typeof m>"u","internal-error",{appName:d})}class zt{constructor(d){var{uid:h,auth:_,stsTokenManager:z}=d,E=(0,se._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=_,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new Cn(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,c.Z)(function*(){const _=yield z2(h,h.stsTokenManager.getToken(h.auth,d));return R(_,h.auth,"internal-error"),h.accessToken!==_&&(h.accessToken=_,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),_})()}getIdTokenResult(d){return function V2(m){return e2.apply(this,arguments)}(this,d)}reload(){return function Rt(m){return k2.apply(this,arguments)}(this)}_assign(d){this!==d&&(R(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new zt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var _=this;return(0,c.Z)(function*(){let z=!1;d.idToken&&d.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(d),z=!0),h&&(yield Ot(_)),yield _.auth._persistUserIfCurrent(_),z&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var d=this;return(0,c.Z)(function*(){const h=yield d.getIdToken();return yield z2(d,function kr(m,d){return Fe.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var _,z,E,$,ce,Te,Ke,dt;const ft=null!==(_=h.displayName)&&void 0!==_?_:void 0,Q2=null!==(z=h.email)&&void 0!==z?z:void 0,dn=null!==(E=h.phoneNumber)&&void 0!==E?E:void 0,co=null!==($=h.photoURL)&&void 0!==$?$:void 0,W6=null!==(ce=h.tenantId)&&void 0!==ce?ce:void 0,Z6=null!==(Te=h._redirectEventId)&&void 0!==Te?Te:void 0,K6=null!==(Ke=h.createdAt)&&void 0!==Ke?Ke:void 0,t4=null!==(dt=h.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:hn,emailVerified:Xr,isAnonymous:ao,providerData:lo,stsTokenManager:Jc}=h;R(hn&&Jc,d,"internal-error");const c8=_t.fromJSON(this.name,Jc);R("string"==typeof hn,d,"internal-error"),Mt(ft,d.name),Mt(Q2,d.name),R("boolean"==typeof Xr,d,"internal-error"),R("boolean"==typeof ao,d,"internal-error"),Mt(dn,d.name),Mt(co,d.name),Mt(W6,d.name),Mt(Z6,d.name),Mt(K6,d.name),Mt(t4,d.name);const ei=new zt({uid:hn,auth:d,email:Q2,emailVerified:Xr,displayName:ft,isAnonymous:ao,photoURL:co,phoneNumber:dn,tenantId:W6,stsTokenManager:c8,createdAt:K6,lastLoginAt:t4});return lo&&Array.isArray(lo)&&(ei.providerData=lo.map(Y6=>Object.assign({},Y6))),Z6&&(ei._redirectEventId=Z6),ei}static _fromIdTokenResponse(d,h,_=!1){return(0,c.Z)(function*(){const z=new _t;z.updateFromServerResponse(h);const E=new zt({uid:h.localId,auth:d,stsTokenManager:z,isAnonymous:_});return yield Ot(E),E})()}}const F=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(h,_){var z=this;return(0,c.Z)(function*(){z.storage[h]=_})()}_get(h){var _=this;return(0,c.Z)(function*(){const z=_.storage[h];return void 0===z?null:z})()}_remove(h){var _=this;return(0,c.Z)(function*(){delete _.storage[h]})()}_addListener(h,_){}_removeListener(h,_){}}return m.type="NONE",m})();function O(m,d,h){return`firebase:${m}:${d}:${h}`}class G{constructor(d,h,_){this.persistence=d,this.auth=h,this.userKey=_;const{config:z,name:E}=this.auth;this.fullUserKey=O(this.userKey,z.apiKey,E),this.fullPersistenceKey=O("persistence",z.apiKey,E),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,c.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?zt._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,c.Z)(function*(){if(h.persistence===d)return;const _=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,_?h.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,_="authUser"){return(0,c.Z)(function*(){if(!h.length)return new G(ot(F),d,_);const z=(yield Promise.all(h.map(function(){var Ke=(0,c.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let E=z[0]||ot(F);const $=O(_,d.config.apiKey,d.name);let ce=null;for(const Ke of h)try{const dt=yield Ke._get($);if(dt){const ft=zt._fromJSON(d,dt);Ke!==E&&(ce=ft),E=Ke;break}}catch{}const Te=z.filter(Ke=>Ke._shouldAllowMigration);return E._shouldAllowMigration&&Te.length?(E=Te[0],ce&&(yield E._set($,ce.toJSON())),yield Promise.all(h.map(function(){var Ke=(0,c.Z)(function*(dt){if(dt!==E)try{yield dt._remove($)}catch{}});return function(dt){return Ke.apply(this,arguments)}}())),new G(E,d,_)):new G(E,d,_)})()}}function ne(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Lt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Y(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Le(d))return"Blackberry";if(nt(d))return"Webos";if(Oe(d))return"Safari";if((d.includes("chrome/")||vt(d))&&!d.includes("edge/"))return"Chrome";if(Ft(d))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Y(m=(0,D.z$)()){return/firefox\//i.test(m)}function Oe(m=(0,D.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function vt(m=(0,D.z$)()){return/crios\//i.test(m)}function Lt(m=(0,D.z$)()){return/iemobile/i.test(m)}function Ft(m=(0,D.z$)()){return/android/i.test(m)}function Le(m=(0,D.z$)()){return/blackberry/i.test(m)}function nt(m=(0,D.z$)()){return/webos/i.test(m)}function rt(m=(0,D.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function or(m=(0,D.z$)()){return rt(m)||Ft(m)||nt(m)||Le(m)||/windows phone/i.test(m)||Lt(m)}function Pn(m,d=[]){let h;switch(m){case"Browser":h=ne((0,D.z$)());break;case"Worker":h=`${ne((0,D.z$)())}-${m}`;break;default:h=m}const _=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${ee.SDK_VERSION}/${_}`}class Or{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const _=E=>new Promise(($,ce)=>{try{$(d(E))}catch(Te){ce(Te)}});_.onAbort=h,this.queue.push(_);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,c.Z)(function*(){if(h.auth.currentUser===d)return;const _=[];try{for(const z of h.queue)yield z(d),z.onAbort&&_.push(z.onAbort)}catch(z){_.reverse();for(const E of _)try{E()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}class Vt{constructor(d,h,_){this.app=d,this.heartbeatServiceProvider=h,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cr(this),this.idTokenSubscription=new cr(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(d,h){var _=this;return h&&(this._popupRedirectResolver=ot(h)),this._initializationPromise=this.queue((0,c.Z)(function*(){var z,E;if(!_._deleted&&(_.persistenceManager=yield G.create(_,d),!_._deleted)){if(null!==(z=_._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(h),_.lastNotifiedUid=(null===(E=_.currentUser)||void 0===E?void 0:E.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,c.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,c.Z)(function*(){var _;const z=yield h.assertedPersistence.getCurrentUser();let E=z,$=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const ce=null===(_=h.redirectUser)||void 0===_?void 0:_._redirectEventId,Te=E?._redirectEventId,Ke=yield h.tryRedirectSignIn(d);(!ce||ce===Te)&&Ke?.user&&(E=Ke.user,$=!0)}if(!E)return h.directlySetCurrentUser(null);if(!E._redirectEventId){if($)try{yield h.beforeStateQueue.runMiddleware(E)}catch(ce){E=z,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(ce))}return E?h.reloadAndSetCurrentUserOrClear(E):h.directlySetCurrentUser(null)}return R(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===E._redirectEventId?h.directlySetCurrentUser(E):h.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(d){var h=this;return(0,c.Z)(function*(){let _=null;try{_=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,c.Z)(function*(){try{yield Ot(d)}catch(_){if("auth/network-request-failed"!==_?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,c.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,c.Z)(function*(){const _=d?(0,D.m9)(d):null;return _&&R(_.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(_&&_._clone(h))})()}_updateCurrentUser(d,h=!1){var _=this;return(0,c.Z)(function*(){if(!_._deleted)return d&&R(_.tenantId===d.tenantId,_,"tenant-id-mismatch"),h||(yield _.beforeStateQueue.runMiddleware(d)),_.queue((0,c.Z)(function*(){yield _.directlySetCurrentUser(d),_.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,c.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,c.Z)(function*(){yield h.assertedPersistence.setPersistence(ot(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new D.LL("auth","Firebase",d())}onAuthStateChanged(d,h,_){return this.registerStateListener(this.authStateSubscription,d,h,_)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,_){return this.registerStateListener(this.idTokenSubscription,d,h,_)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var _=this;return(0,c.Z)(function*(){const z=yield _.getOrInitRedirectPersistenceManager(h);return null===d?z.removeCurrentUser():z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,c.Z)(function*(){if(!h.redirectPersistenceManager){const _=d&&ot(d)||h._popupRedirectResolver;R(_,h,"argument-error"),h.redirectPersistenceManager=yield G.create(h,[ot(_._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,c.Z)(function*(){var _,z;return h._isInitialized&&(yield h.queue((0,c.Z)(function*(){}))),(null===(_=h._currentUser)||void 0===_?void 0:_._redirectEventId)===d?h._currentUser:(null===(z=h.redirectUser)||void 0===z?void 0:z._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,c.Z)(function*(){if(d===h.currentUser)return h.queue((0,c.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,_,z){if(this._deleted)return()=>{};const E="function"==typeof h?h:h.next.bind(h),$=this._isInitialized?Promise.resolve():this._initializationPromise;return R($,this,"internal-error"),$.then(()=>E(this.currentUser)),"function"==typeof h?d.addObserver(h,_,z):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,c.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,c.Z)(function*(){var h;const _={"X-Client-Version":d.clientVersion};d.app.options.appId&&(_["X-Firebase-gmpid"]=d.app.options.appId);const z=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();return z&&(_["X-Firebase-Client"]=z),_})()}}function c2(m){return(0,D.m9)(m)}class cr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,D.ne)(h=>this.observer=h)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function an(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function kn(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class W2{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return fe("not implemented")}_getIdTokenResponse(d){return fe("not implemented")}_linkToIdToken(d,h){return fe("not implemented")}_getReauthenticationResolver(d){return fe("not implemented")}}function S2(m,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:resetPassword",tt(m,d))})).apply(this,arguments)}function Ut(m,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function us(m,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:update",tt(m,d))})).apply(this,arguments)}function u1(){return(u1=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signInWithPassword",tt(m,d))})).apply(this,arguments)}function Rn(m,d){return $1.apply(this,arguments)}function $1(){return($1=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:sendOobCode",tt(m,d))})).apply(this,arguments)}function t2(m,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(m,d){return Rn(m,d)})).apply(this,arguments)}function O2(m,d){return f1.apply(this,arguments)}function f1(){return(f1=(0,c.Z)(function*(m,d){return Rn(m,d)})).apply(this,arguments)}function Xi(m,d){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(m,d){return Rn(m,d)})).apply(this,arguments)}function ds(m,d){return t1.apply(this,arguments)}function t1(){return(t1=(0,c.Z)(function*(m,d){return Rn(m,d)})).apply(this,arguments)}function V4(){return(V4=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signInWithEmailLink",tt(m,d))})).apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signInWithEmailLink",tt(m,d))})).apply(this,arguments)}class ps extends W2{constructor(d,h,_,z=null){super("password",_),this._email=d,this._password=h,this._tenantId=z}static _fromEmailAndPassword(d,h){return new ps(d,h,"password")}static _fromEmailAndCode(d,h,_=null){return new ps(d,h,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,c.Z)(function*(){switch(h.signInMethod){case"password":return function pi(m,d){return u1.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function rc(m,d){return V4.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Me(d,"internal-error")}})()}_linkToIdToken(d,h){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return Ut(d,{idToken:h,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ic(m,d){return hs.apply(this,arguments)}(d,{idToken:h,email:_._email,oobCode:_._password});default:Me(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function A2(m,d){return z4.apply(this,arguments)}function z4(){return(z4=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signInWithIdp",tt(m,d))})).apply(this,arguments)}class yn extends W2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new yn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Me("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:z}=h,E=(0,se._T)(h,["providerId","signInMethod"]);if(!_||!z)return null;const $=new yn(_,z);return $.idToken=E.idToken||void 0,$.accessToken=E.accessToken||void 0,$.secret=E.secret,$.nonce=E.nonce,$.pendingToken=E.pendingToken||null,$}_getIdTokenResponse(d){return A2(d,this.buildRequest())}_linkToIdToken(d,h){const _=this.buildRequest();return _.idToken=h,A2(d,_)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,A2(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,D.xO)(h)}return d}}function p6(m,d){return I1.apply(this,arguments)}function I1(){return(I1=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:sendVerificationCode",tt(m,d))})).apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signInWithPhoneNumber",tt(m,d))})).apply(this,arguments)}function x4(){return(x4=(0,c.Z)(function*(m,d){const h=yield g2(m,"POST","/v1/accounts:signInWithPhoneNumber",tt(m,d));if(h.temporaryProof)throw A1(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const m6={USER_NOT_FOUND:"user-not-found"};function S4(){return(S4=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signInWithPhoneNumber",tt(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),m6)})).apply(this,arguments)}class Un extends W2{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Un({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Un({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function gs(m,d){return Fn.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function g6(m,d){return x4.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function v6(m,d){return S4.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:_,verificationCode:z}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:_,code:z}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:_,phoneNumber:z,temporaryProof:E}=d;return _||h||z||E?new Un({verificationId:h,verificationCode:_,phoneNumber:z,temporaryProof:E}):null}}class e3{constructor(d){var h,_,z,E,$,ce;const Te=(0,D.zd)((0,D.pd)(d)),Ke=null!==(h=Te.apiKey)&&void 0!==h?h:null,dt=null!==(_=Te.oobCode)&&void 0!==_?_:null,ft=function L4(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Te.mode)&&void 0!==z?z:null);R(Ke&&dt&&ft,"argument-error"),this.apiKey=Ke,this.operation=ft,this.code=dt,this.continueUrl=null!==(E=Te.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==($=Te.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ce=Te.tenantId)&&void 0!==ce?ce:null}static parseLink(d){const h=function E4(m){const d=(0,D.zd)((0,D.pd)(m)).link,h=d?(0,D.zd)((0,D.pd)(d)).deep_link_id:null,_=(0,D.zd)((0,D.pd)(m)).deep_link_id;return(_?(0,D.zd)((0,D.pd)(_)).link:null)||_||h||d||m}(d);try{return new e3(h)}catch{return null}}}let ln=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,_){return ps._fromEmailAndPassword(h,_)}static credentialWithLink(h,_){const z=e3.parseLink(_);return R(z,"argument-error"),ps._fromEmailAndCode(h,z.code,z.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Mn{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class bn extends Mn{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class lr extends bn{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return R("providerId"in h&&"signInMethod"in h,"argument-error"),yn._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return R(d.idToken||d.accessToken,"argument-error"),yn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return lr.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return lr.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:_,oauthTokenSecret:z,pendingToken:E,nonce:$,providerId:ce}=d;if(!_&&!z&&!h&&!E||!ce)return null;try{return new lr(ce)._credential({idToken:h,accessToken:_,nonce:$,pendingToken:E})}catch{return null}}}let mi=(()=>{class m extends bn{constructor(){super("facebook.com")}static credential(h){return yn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),t3=(()=>{class m extends bn{constructor(){super("google.com"),this.addScope("profile")}static credential(h,_){return yn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:_})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:_,oauthAccessToken:z}=h;if(!_&&!z)return null;try{return m.credential(_,z)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),ms=(()=>{class m extends bn{constructor(){super("github.com")}static credential(h){return yn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class v2 extends W2{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return A2(d,this.buildRequest())}_linkToIdToken(d,h){const _=this.buildRequest();return _.idToken=h,A2(d,_)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,A2(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:z,pendingToken:E}=h;return _&&z&&E&&_===z?new v2(_,E):null}static _create(d,h){return new v2(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class T1 extends Mn{constructor(d){R(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return T1.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return T1.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=v2.fromJSON(d);return R(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:_}=d;if(!h||!_)return null;try{return v2._create(_,h)}catch{return null}}}let z1=(()=>{class m extends bn{constructor(){super("twitter.com")}static credential(h,_){return yn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:_})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:_,oauthTokenSecret:z}=h;if(!_||!z)return null;try{return m.credential(_,z)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Rr(m,d){return A4.apply(this,arguments)}function A4(){return(A4=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signUp",tt(m,d))})).apply(this,arguments)}class n1{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,_,z=!1){return(0,c.Z)(function*(){const E=yield zt._fromIdTokenResponse(d,_,z),$=cc(_);return new n1({user:E,providerId:$,_tokenResponse:_,operationType:h})})()}static _forOperation(d,h,_){return(0,c.Z)(function*(){yield d._updateTokensIfNecessary(_,!0);const z=cc(_);return new n1({user:d,providerId:z,_tokenResponse:_,operationType:h})})()}}function cc(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function _2(){return(_2=(0,c.Z)(function*(m){var d;const h=c2(m);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new n1({user:h.currentUser,providerId:null,operationType:"signIn"});const _=yield Rr(h,{returnSecureToken:!0}),z=yield n1._fromIdTokenResponse(h,"signIn",_,!0);return yield h._updateCurrentUser(z.user),z})).apply(this,arguments)}class n3 extends D.ZR{constructor(d,h,_,z){var E;super(h.code,h.message),this.operationType=_,this.user=z,Object.setPrototypeOf(this,n3.prototype),this.customData={appName:d.name,tenantId:null!==(E=d.tenantId)&&void 0!==E?E:void 0,_serverResponse:h.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(d,h,_,z){return new n3(d,h,_,z)}}function lc(m,d,h,_){return("reauthenticate"===d?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?n3._fromErrorAndOperation(m,E,d,_):E})}function N1(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function r3(){return(r3=(0,c.Z)(function*(m,d){const h=(0,D.m9)(m);yield M2(!0,h,d);const{providerUserInfo:_}=yield X2(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),z=N1(_||[]);return h.providerData=h.providerData.filter(E=>z.has(E.providerId)),z.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function ur(m,d){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(m,d,h=!1){const _=yield z2(m,d._linkToIdToken(m.auth,yield m.getIdToken()),h);return n1._forOperation(m,"link",_)})).apply(this,arguments)}function M2(m,d,h){return i3.apply(this,arguments)}function i3(){return(i3=(0,c.Z)(function*(m,d,h){yield Ot(d);const z=!1===m?"provider-already-linked":"no-such-provider";R(N1(d.providerData).has(h)===m,d.auth,z)})).apply(this,arguments)}function vi(m,d){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(m,d,h=!1){const{auth:_}=m,z="reauthenticate";try{const E=yield z2(m,lc(_,z,d,m),h);R(E.idToken,_,"internal-error");const $=ct(E.idToken);R($,_,"internal-error");const{sub:ce}=$;return R(m.uid===ce,_,"user-mismatch"),n1._forOperation(m,z,E)}catch(E){throw"auth/user-not-found"===E?.code&&Me(_,"user-mismatch"),E}})).apply(this,arguments)}function G1(m,d){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(m,d,h=!1){const _="signIn",z=yield lc(m,_,d),E=yield n1._fromIdTokenResponse(m,_,z);return h||(yield m._updateCurrentUser(E.user)),E})).apply(this,arguments)}function h2(m,d){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(m,d){return G1(c2(m),d)})).apply(this,arguments)}function Ci(m,d){return D4.apply(this,arguments)}function D4(){return(D4=(0,c.Z)(function*(m,d){const h=(0,D.m9)(m);return yield M2(!1,h,d.providerId),ur(h,d)})).apply(this,arguments)}function vs(m,d){return s3.apply(this,arguments)}function s3(){return(s3=(0,c.Z)(function*(m,d){return vi((0,D.m9)(m),d)})).apply(this,arguments)}function _s(m,d){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(m,d){return g2(m,"POST","/v1/accounts:signInWithCustomToken",tt(m,d))})).apply(this,arguments)}function o3(){return(o3=(0,c.Z)(function*(m,d){const h=c2(m),_=yield _s(h,{token:d,returnSecureToken:!0}),z=yield n1._fromIdTokenResponse(h,"signIn",_);return yield h._updateCurrentUser(z.user),z})).apply(this,arguments)}class ye{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?Et._fromServerResponse(d,h):"totpInfo"in h?c3._fromServerResponse(d,h):Me(d,"internal-error")}}class Et extends ye{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new Et(h)}}class c3 extends ye{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new c3(h)}}function dr(m,d,h){var _;R((null===(_=h.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),R(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(R(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(R(h.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Ur(){return(Ur=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m),z={requestType:"PASSWORD_RESET",email:d};h&&dr(_,z,h),yield O2(_,z)})).apply(this,arguments)}function d1(){return(d1=(0,c.Z)(function*(m,d,h){yield S2((0,D.m9)(m),{oobCode:d,newPassword:h})})).apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(m,d){yield us((0,D.m9)(m),{oobCode:d})})).apply(this,arguments)}function uc(m,d){return n2.apply(this,arguments)}function n2(){return(n2=(0,c.Z)(function*(m,d){const h=(0,D.m9)(m),_=yield S2(h,{oobCode:d}),z=_.requestType;switch(R(z,h,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":R(_.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":R(_.mfaInfo,h,"internal-error");default:R(_.email,h,"internal-error")}let E=null;return _.mfaInfo&&(E=ye._fromServerResponse(c2(h),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:E},operation:z}})).apply(this,arguments)}function l3(){return(l3=(0,c.Z)(function*(m,d){const{data:h}=yield uc((0,D.m9)(m),d);return h.email})).apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(m,d,h){const _=c2(m),z=yield Rr(_,{returnSecureToken:!0,email:d,password:h}),E=yield n1._fromIdTokenResponse(_,"signIn",z);return yield _._updateCurrentUser(E.user),E})).apply(this,arguments)}function P1(){return(P1=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m),z={requestType:"EMAIL_SIGNIN",email:d};R(h.handleCodeInApp,_,"argument-error"),h&&dr(_,z,h),yield Xi(_,z)})).apply(this,arguments)}function I4(){return(I4=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m),z=ln.credentialWithLink(d,h||ue());return R(z._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),h2(_,z)})).apply(this,arguments)}function Ms(m,d){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:createAuthUri",tt(m,d))})).apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(m,d){const _={identifier:d,continueUri:pe()?ue():"http://localhost"},{signinMethods:z}=yield Ms((0,D.m9)(m),_);return z||[]})).apply(this,arguments)}function u3(){return(u3=(0,c.Z)(function*(m,d){const h=(0,D.m9)(m),z={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&dr(h.auth,z,d);const{email:E}=yield t2(h.auth,z);E!==m.email&&(yield m.reload())})).apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};h&&dr(_.auth,E,h);const{email:$}=yield ds(_.auth,E);$!==m.email&&(yield m.reload())})).apply(this,arguments)}function ws(m,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(m,d){return lt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function f3(){return(f3=(0,c.Z)(function*(m,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const _=(0,D.m9)(m),E={idToken:yield _.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},$=yield z2(_,ws(_.auth,E));_.displayName=$.displayName||null,_.photoURL=$.photoUrl||null;const ce=_.providerData.find(({providerId:Te})=>"password"===Te);ce&&(ce.displayName=_.displayName,ce.photoURL=_.photoURL),yield _._updateTokensIfNecessary($)})).apply(this,arguments)}function N4(m,d,h){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,c.Z)(function*(m,d,h){const{auth:_}=m,E={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(E.email=d),h&&(E.password=h);const $=yield z2(m,Ut(_,E));yield m._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Kt{constructor(d,h,_={}){this.isNewUser=d,this.providerId=h,this.profile=_}}class P4 extends Kt{constructor(d,h,_,z){super(d,h,_),this.username=z}}class k4 extends Kt{constructor(d,h){super(d,"facebook.com",h)}}class C6 extends P4{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class O4 extends Kt{constructor(d,h){super(d,"google.com",h)}}class y6 extends P4{constructor(d,h,_){super(d,"twitter.com",h,_)}}function M6(m){const{user:d,_tokenResponse:h}=m;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function gr(m){var d,h;if(!m)return null;const{providerId:_}=m,z=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},E=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const $=null===(h=null===(d=ct(m.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if($)return new Kt(E,"anonymous"!==$&&"custom"!==$?$:null)}if(!_)return null;switch(_){case"facebook.com":return new k4(E,z);case"github.com":return new C6(E,z);case"google.com":return new O4(E,z);case"twitter.com":return new y6(E,z,m.screenName||null);case"custom":case"anonymous":return new Kt(E,null);default:return new Kt(E,_,z)}}(h)}class $n{constructor(d,h,_){this.type=d,this.credential=h,this.auth=_}static _fromIdtoken(d,h){return new $n("enroll",d,h)}static _fromMfaPendingCredential(d){return new $n("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,_;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return $n._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(_=d.multiFactorSession)&&void 0!==_&&_.idToken)return $n._fromIdtoken(d.multiFactorSession.idToken)}return null}}class a2{constructor(d,h,_){this.session=d,this.hints=h,this.signInResolver=_}static _fromError(d,h){const _=c2(d),z=h.customData._serverResponse,E=(z.mfaInfo||[]).map(ce=>ye._fromServerResponse(_,ce));R(z.mfaPendingCredential,_,"internal-error");const $=$n._fromMfaPendingCredential(z.mfaPendingCredential);return new a2($,E,function(){var ce=(0,c.Z)(function*(Te){const Ke=yield Te._process(_,$);delete z.mfaInfo,delete z.mfaPendingCredential;const dt=Object.assign(Object.assign({},z),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(h.operationType){case"signIn":const ft=yield n1._fromIdTokenResponse(_,h.operationType,dt);return yield _._updateCurrentUser(ft.user),ft;case"reauthenticate":return R(h.user,_,"internal-error"),n1._forOperation(h.user,h.operationType,dt);default:Me(_,"internal-error")}});return function(Te){return ce.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,c.Z)(function*(){return h.signInResolver(d)})()}}function x1(m,d){return lt(m,"POST","/v2/accounts/mfaEnrollment:start",tt(m,d))}class mr{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(_=>ye._fromServerResponse(d.auth,_)))})}static _fromUser(d){return new mr(d)}getSession(){var d=this;return(0,c.Z)(function*(){return $n._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,h){var _=this;return(0,c.Z)(function*(){const z=d,E=yield _.getSession(),$=yield z2(_.user,z._process(_.user.auth,E,h));return yield _.user._updateTokensIfNecessary($),_.user.reload()})()}unenroll(d){var h=this;return(0,c.Z)(function*(){const _="string"==typeof d?d:d.uid,z=yield h.user.getIdToken();try{const E=yield z2(h.user,function h3(m,d){return lt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(m,d))}(h.user.auth,{idToken:z,mfaEnrollmentId:_}));h.enrolledFactors=h.enrolledFactors.filter(({uid:$})=>$!==_),yield h.user._updateTokensIfNecessary(E),yield h.user.reload()}catch(E){throw E}})()}}const p3=new WeakMap,wi="__sak";class Hi{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(wi,"1"),this.storage.removeItem(wi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gn=(()=>{class m extends Hi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,_)=>this.onStorageEvent(h,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qr(){const m=(0,D.z$)();return Oe(m)||rt(m)}()&&function s2(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=or(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const _ of Object.keys(this.listeners)){const z=this.storage.getItem(_),E=this.localCache[_];z!==E&&h(_,E,z)}}onStorageEvent(h,_=!1){if(!h.key)return void this.forAllChangedKeys((ce,Te,Ke)=>{this.notifyListeners(ce,Ke)});const z=h.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(z);if(h.newValue!==ce)null!==h.newValue?this.storage.setItem(z,h.newValue):this.storage.removeItem(z);else if(this.localCache[z]===h.newValue&&!_)return}const E=()=>{const ce=this.storage.getItem(z);!_&&this.localCache[z]===ce||this.notifyListeners(z,ce)},$=this.storage.getItem(z);!function y2(){return(0,D.w1)()&&10===document.documentMode}()||$===h.newValue||h.newValue===h.oldValue?E():setTimeout(E,10)}notifyListeners(h,_){this.localCache[h]=_;const z=this.listeners[h];if(z)for(const E of Array.from(z))E(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,_,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:_,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(_)}_removeListener(h,_){this.listeners[h]&&(this.listeners[h].delete(_),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,_){var z=()=>super._set,E=this;return(0,c.Z)(function*(){yield z().call(E,h,_),E.localCache[h]=JSON.stringify(_)})()}_get(h){var _=()=>super._get,z=this;return(0,c.Z)(function*(){const E=yield _().call(z,h);return z.localCache[h]=JSON.stringify(E),E})()}_remove(h){var _=()=>super._remove,z=this;return(0,c.Z)(function*(){yield _().call(z,h),delete z.localCache[h]})()}}return m.type="LOCAL",m})(),p1=(()=>{class m extends Hi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,_){}_removeListener(h,_){}}return m.type="SESSION",m})();let Ss=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const _=this.receivers.find(E=>E.isListeningto(h));if(_)return _;const z=new m(h);return this.receivers.push(z),z}isListeningto(h){return this.eventTarget===h}handleEvent(h){var _=this;return(0,c.Z)(function*(){const z=h,{eventId:E,eventType:$,data:ce}=z.data,Te=_.handlersMap[$];if(!Te?.size)return;z.ports[0].postMessage({status:"ack",eventId:E,eventType:$});const Ke=Array.from(Te).map(function(){var ft=(0,c.Z)(function*(Q2){return Q2(z.origin,ce)});return function(Q2){return ft.apply(this,arguments)}}()),dt=yield function xs(m){return Promise.all(m.map(function(){var d=(0,c.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(_){return{fulfilled:!1,reason:_}}});return function(h){return d.apply(this,arguments)}}()))}(Ke);z.ports[0].postMessage({status:"done",eventId:E,eventType:$,response:dt})})()}_subscribe(h,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(_)}_unsubscribe(h,_){this.handlersMap[h]&&_&&this.handlersMap[h].delete(_),(!_||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function D2(m="",d=10){let h="";for(let _=0;_<d;_++)h+=Math.floor(10*Math.random());return m+h}class B4{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,_=50){var z=this;return(0,c.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let $,ce;return new Promise((Te,Ke)=>{const dt=D2("",20);E.port1.start();const ft=setTimeout(()=>{Ke(new Error("unsupported_event"))},_);ce={messageChannel:E,onMessage(Q2){const dn=Q2;if(dn.data.eventId===dt)switch(dn.data.status){case"ack":clearTimeout(ft),$=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Te(dn.data.response);break;default:clearTimeout(ft),clearTimeout($),Ke(new Error("invalid_response"))}}},z.handlers.add(ce),E.port1.addEventListener("message",ce.onMessage),z.target.postMessage({eventType:d,eventId:dt,data:h},[E.port2])}).finally(()=>{ce&&z.removeMessageHandler(ce)})})()}}function Jt(){return window}function _r(){return typeof Jt().WorkerGlobalScope<"u"&&"function"==typeof Jt().importScripts}function Wr(){return(Wr=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const j4="firebaseLocalStorageDb",Cr="firebaseLocalStorage",_3="fbase_key";class zn{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function q1(m,d){return m.transaction([Cr],d?"readwrite":"readonly").objectStore(Cr)}function Kr(){const m=indexedDB.open(j4,1);return new Promise((d,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(Cr,{keyPath:_3})}catch(z){h(z)}}),m.addEventListener("success",(0,c.Z)(function*(){const _=m.result;_.objectStoreNames.contains(Cr)?d(_):(_.close(),yield function vc(){const m=indexedDB.deleteDatabase(j4);return new zn(m).toPromise()}(),d(yield Kr()))}))})}function Ls(m,d,h){return W1.apply(this,arguments)}function W1(){return(W1=(0,c.Z)(function*(m,d,h){const _=q1(m,!0).put({[_3]:d,value:h});return new zn(_).toPromise()})).apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(m,d){const h=q1(m,!1).get(d),_=yield new zn(h).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Si(m,d){const h=q1(m,!0).delete(d);return new zn(h).toPromise()}const g1=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,c.Z)(function*(){return h.db||(h.db=yield Kr()),h.db})()}_withRetries(h){var _=this;return(0,c.Z)(function*(){let z=0;for(;;)try{const E=yield _._openDb();return yield h(E)}catch(E){if(z++>3)throw E;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,c.Z)(function*(){return _r()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,c.Z)(function*(){h.receiver=Ss._getInstance(function zi(){return _r()?self:null}()),h.receiver._subscribe("keyChanged",function(){var _=(0,c.Z)(function*(z,E){return{keyProcessed:(yield h._poll()).includes(E.key)}});return function(z,E){return _.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var _=(0,c.Z)(function*(z,E){return["keyChanged"]});return function(z,E){return _.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,c.Z)(function*(){var _,z;if(h.activeServiceWorker=yield function m3(){return Wr.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new B4(h.activeServiceWorker);const E=yield h.sender._send("ping",{},800);!E||(null===(_=E[0])||void 0===_?void 0:_.fulfilled)&&(null===(z=E[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var _=this;return(0,c.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function v3(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:h},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Kr();return yield Ls(h,wi,"1"),yield Si(h,wi),!0}catch{}return!1})()}_withPendingWrite(h){var _=this;return(0,c.Z)(function*(){_.pendingWrites++;try{yield h()}finally{_.pendingWrites--}})()}_set(h,_){var z=this;return(0,c.Z)(function*(){return z._withPendingWrite((0,c.Z)(function*(){return yield z._withRetries(E=>Ls(E,h,_)),z.localCache[h]=_,z.notifyServiceWorker(h)}))})()}_get(h){var _=this;return(0,c.Z)(function*(){const z=yield _._withRetries(E=>function Es(m,d){return xi.apply(this,arguments)}(E,h));return _.localCache[h]=z,z})()}_remove(h){var _=this;return(0,c.Z)(function*(){return _._withPendingWrite((0,c.Z)(function*(){return yield _._withRetries(z=>Si(z,h)),delete _.localCache[h],_.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,c.Z)(function*(){const _=yield h._withRetries($=>{const ce=q1($,!1).getAll();return new zn(ce).toPromise()});if(!_)return[];if(0!==h.pendingWrites)return[];const z=[],E=new Set;for(const{fbase_key:$,value:ce}of _)E.add($),JSON.stringify(h.localCache[$])!==JSON.stringify(ce)&&(h.notifyListeners($,ce),z.push($));for(const $ of Object.keys(h.localCache))h.localCache[$]&&!E.has($)&&(h.notifyListeners($,null),z.push($));return z})()}notifyListeners(h,_){this.localCache[h]=_;const z=this.listeners[h];if(z)for(const E of Array.from(z))E(_)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(_)}_removeListener(h,_){this.listeners[h]&&(this.listeners[h].delete(_),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Li(m,d){return lt(m,"POST","/v2/accounts/mfaSignIn:start",tt(m,d))}function k1(){return(k1=(0,c.Z)(function*(m){return(yield lt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function y3(m){return new Promise((d,h)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=d,_.onerror=z=>{const E=he("internal-error");E.customData=z,h(E)},_.type="text/javascript",_.charset="UTF-8",function Cc(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(_)})}function St(m){return`__${m}${Math.floor(1e6*Math.random())}`}const $4=1e12;class H6{constructor(d){this.auth=d,this.counter=$4,this._widgets=new Map}render(d,h){const _=this.counter;return this._widgets.set(_,new Nu(d,this.auth.name,h||{})),this.counter++,_}reset(d){var h;const _=d||$4;null===(h=this._widgets.get(_))||void 0===h||h.delete(),this._widgets.delete(_)}getResponse(d){var h;return(null===(h=this._widgets.get(d||$4))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,c.Z)(function*(){var _;return null===(_=h._widgets.get(d||$4))||void 0===_||_.execute(),""})()}}class Nu{constructor(d,h,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof d?document.getElementById(d):d;R(z,"argument-error",{appName:h}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function V6(m){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ns=St("rcb"),yr=new et(3e4,6e4);class Pu{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Jt().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return R(function R2(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(Jt().grecaptcha):new Promise((_,z)=>{const E=Jt().setTimeout(()=>{z(he(d,"network-request-failed"))},yr.get());Jt()[Ns]=()=>{Jt().clearTimeout(E),delete Jt()[Ns];const ce=Jt().grecaptcha;if(!ce)return void z(he(d,"internal-error"));const Te=ce.render;ce.render=(Ke,dt)=>{const ft=Te(Ke,dt);return this.counter++,ft},this.hostLanguage=h,_(ce)},y3(`https://www.google.com/recaptcha/api.js??${(0,D.xO)({onload:Ns,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(E),z(he(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=Jt().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ps{load(d){return(0,c.Z)(function*(){return new H6(d)})()}clearedOneInstance(){}}const O1="recaptcha",z6={theme:"light",type:"image"};class x6{constructor(d,h=Object.assign({},z6),_){this.parameters=h,this.type=O1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=c2(_),this.isInvisible="invisible"===this.parameters.size,R(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof d?document.getElementById(d):d;R(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ps:new Pu,this.validateStartingState()}verify(){var d=this;return(0,c.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),_=d.getAssertedRecaptcha();return _.getResponse(h)||new Promise(E=>{const $=ce=>{!ce||(d.tokenChangeListeners.delete($),E(ce))};d.tokenChangeListeners.add($),d.isInvisible&&_.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){R(!this.parameters.sitekey,this.auth,"argument-error"),R(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),R(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(_=>_(h)),"function"==typeof d)d(h);else if("string"==typeof d){const _=Jt()[d];"function"==typeof _&&_(h)}}}assertNotDestroyed(){R(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,c.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const _=document.createElement("div");h.appendChild(_),h=_}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,c.Z)(function*(){R(pe()&&!_r(),d.auth,"internal-error"),yield function K2(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function C3(m){return k1.apply(this,arguments)}(d.auth);R(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return R(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class S1{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Un._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function Ei(){return(Ei=(0,c.Z)(function*(m,d,h){const _=c2(m),z=yield Mc(_,d,(0,D.m9)(h));return new S1(z,E=>h2(_,E))})).apply(this,arguments)}function b3(){return(b3=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m);yield M2(!1,_,"phone");const z=yield Mc(_.auth,d,(0,D.m9)(h));return new S1(z,E=>Ci(_,E))})).apply(this,arguments)}function G4(){return(G4=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m),z=yield Mc(_.auth,d,(0,D.m9)(h));return new S1(z,E=>vs(_,E))})).apply(this,arguments)}function Mc(m,d,h){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(m,d,h){var _;const z=yield h.verify();try{let E;if(R("string"==typeof z,m,"argument-error"),R(h.type===O1,m,"argument-error"),E="string"==typeof d?{phoneNumber:d}:d,"session"in E){const $=E.session;if("phoneNumber"in E)return R("enroll"===$.type,m,"internal-error"),(yield x1(m,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{R("signin"===$.type,m,"internal-error");const ce=(null===(_=E.multiFactorHint)||void 0===_?void 0:_.uid)||E.multiFactorUid;return R(ce,m,"missing-multi-factor-info"),(yield Li(m,{mfaPendingCredential:$.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield p6(m,{phoneNumber:E.phoneNumber,recaptchaToken:z});return $}}finally{h._reset()}})).apply(this,arguments)}function i1(){return(i1=(0,c.Z)(function*(m,d){yield ur((0,D.m9)(m),d)})).apply(this,arguments)}let Yr=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=c2(h)}verifyPhoneNumber(h,_){return Mc(this.auth,h,(0,D.m9)(_))}static credential(h,_){return Un._fromVerification(h,_)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:_,temporaryProof:z}=h;return _&&z?Un._fromTokenResponse(_,z):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Z1(m,d){return d?ot(d):(R(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class ks extends W2{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return A2(d,this._buildIdpRequest())}_linkToIdToken(d,h){return A2(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return A2(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function Os(m){return G1(m.auth,new ks(m),m.bypassAuthState)}function q4(m){const{auth:d,user:h}=m;return R(h,d,"internal-error"),vi(h,new ks(m),m.bypassAuthState)}function W4(m){return w3.apply(this,arguments)}function w3(){return(w3=(0,c.Z)(function*(m){const{auth:d,user:h}=m;return R(h,d,"internal-error"),ur(h,new ks(m),m.bypassAuthState)})).apply(this,arguments)}class Rs{constructor(d,h,_,z,E=!1){this.auth=d,this.resolver=_,this.user=z,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,c.Z)(function*(_,z){d.pendingPromise={resolve:_,reject:z};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(E){d.reject(E)}});return function(_,z){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,c.Z)(function*(){const{urlResponse:_,sessionId:z,postBody:E,tenantId:$,error:ce,type:Te}=d;if(ce)return void h.reject(ce);const Ke={auth:h.auth,requestUri:_,sessionId:z,tenantId:$||void 0,postBody:E||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Te)(Ke))}catch(dt){h.reject(dt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return W4;case"reauthViaPopup":case"reauthViaRedirect":return q4;default:Me(this.auth,"internal-error")}}resolve(d){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fs=new et(2e3,1e4);function s1(){return(s1=(0,c.Z)(function*(m,d,h){const _=c2(m);De(m,d,Mn);const z=Z1(_,h);return new F2(_,"signInViaPopup",d,z).executeNotNull()})).apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m);De(_.auth,d,Mn);const z=Z1(_.auth,h);return new F2(_.auth,"reauthViaPopup",d,z,_).executeNotNull()})).apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m);De(_.auth,d,Mn);const z=Z1(_.auth,h);return new F2(_.auth,"linkViaPopup",d,z,_).executeNotNull()})).apply(this,arguments)}let F2=(()=>{class m extends Rs{constructor(h,_,z,E,$){super(h,_,E,$),this.provider=z,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,c.Z)(function*(){const _=yield h.execute();return R(_,h.auth,"internal-error"),_})()}onExecution(){var h=this;return(0,c.Z)(function*(){Ae(1===h.filter.length,"Popup operations only handle one event");const _=D2();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],_),h.authWindow.associatedEvent=_,h.resolver._originValidation(h.auth).catch(z=>{h.reject(z)}),h.resolver._isIframeWebStorageSupported(h.auth,z=>{z||h.reject(he(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var _,z;this.pollId=null!==(z=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,Fs.get())};h()}}return m.currentPopupAction=null,m})();const Wn=new Map;class Y1 extends Rs{constructor(d,h,_=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,_),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,c.Z)(function*(){let _=Wn.get(h.auth._key());if(!_){try{const E=(yield function U2(m,d){return jt.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;_=()=>Promise.resolve(E)}catch(z){_=()=>Promise.reject(z)}Wn.set(h.auth._key(),_)}return h.bypassAuthState||Wn.set(h.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,_=this;return(0,c.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(_,d);if("unknown"!==d.type){if(d.eventId){const z=yield _.auth._redirectUserForId(d.eventId);if(z)return _.user=z,h().call(_,d);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function jt(){return(jt=(0,c.Z)(function*(m,d){const h=z3(d),_=V3(m);if(!(yield _._isAvailable()))return!1;const z="true"===(yield _._get(h));return yield _._remove(h),z})).apply(this,arguments)}function Gt(m,d){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(m,d){return V3(m)._set(z3(d),"true")})).apply(this,arguments)}function H3(m,d){Wn.set(m._key(),d)}function V3(m){return ot(m._redirectPersistence)}function z3(m){return O("pendingRedirect",m.config.apiKey,m.name)}function x(){return(x=(0,c.Z)(function*(m,d,h){const _=c2(m);De(m,d,Mn),yield _._initializationPromise;const z=Z1(_,h);return yield Gt(z,_),z._openRedirect(_,d,"signInViaRedirect")})).apply(this,arguments)}function J(){return(J=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m);De(_.auth,d,Mn),yield _.auth._initializationPromise;const z=Z1(_.auth,h);yield Gt(z,_.auth);const E=yield $t(_);return z._openRedirect(_.auth,d,"reauthViaRedirect",E)})).apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(m,d,h){const _=(0,D.m9)(m);De(_.auth,d,Mn),yield _.auth._initializationPromise;const z=Z1(_.auth,h);yield M2(!1,_,d.providerId),yield Gt(z,_.auth);const E=yield $t(_);return z._openRedirect(_.auth,d,"linkViaRedirect",E)})).apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(m,d){return yield c2(m)._initializationPromise,ut(m,d,!1)})).apply(this,arguments)}function ut(m,d){return B2.apply(this,arguments)}function B2(){return(B2=(0,c.Z)(function*(m,d,h=!1){const _=c2(m),z=Z1(_,d),$=yield new Y1(_,z,h).execute();return $&&!h&&(delete $.user._redirectEventId,yield _._persistUserIfCurrent($.user),yield _._setRedirectUser(null,d)),$})).apply(this,arguments)}function $t(m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(m){const d=D2(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class fn{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(d,_)&&(h=!0,this.sendToConsumer(d,_),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Ai(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zn(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var _;if(d.error&&!Zn(d)){const z=(null===(_=d.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";h.onError(he(this.auth,z))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const _=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&_}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(J1(d))}saveEventToCache(d){this.cachedEventUids.add(J1(d)),this.lastProcessedEventTime=Date.now()}}function J1(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function Zn({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===d?.code}function jl(m){return $l.apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(m,d={}){return lt(m,"GET","/v1/projects",d)})).apply(this,arguments)}const Gl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ql=/^https?/;function Bs(){return(Bs=(0,c.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield jl(m);for(const h of d)try{if(Wl(h))return}catch{}Me(m,"unauthorized-domain")})).apply(this,arguments)}function Wl(m){const d=ue(),{protocol:h,hostname:_}=new URL(d);if(m.startsWith("chrome-extension://")){const $=new URL(m);return""===$.hostname&&""===_?"chrome-extension:"===h&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&$.hostname===_}if(!ql.test(h))return!1;if(Gl.test(m))return _===m;const z=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(_)}const Ou=new et(3e4,6e4);function L6(){const m=Jt().___jsl;if(m?.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let Z4=null;function oh(m){return Z4=Z4||function sh(m){return new Promise((d,h)=>{var _,z,E;function $(){L6(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{L6(),h(he(m,"network-request-failed"))},timeout:Ou.get()})}if(null!==(z=null===(_=Jt().gapi)||void 0===_?void 0:_.iframes)&&void 0!==z&&z.Iframe)d(gapi.iframes.getContext());else{if(null===(E=Jt().gapi)||void 0===E||!E.load){const ce=St("iframefcb");return Jt()[ce]=()=>{gapi.load?$():h(he(m,"network-request-failed"))},y3(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Te=>h(Te))}$()}}).catch(d=>{throw Z4=null,d})}(m),Z4}const br=new et(5e3,15e3),T={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function js(m){const d=m.config;R(d.authDomain,m,"auth-domain-config-required");const h=d.emulator?Ht(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,_={apiKey:d.apiKey,appName:m.name,v:ee.SDK_VERSION},z=Hc.get(m.config.apiHost);z&&(_.eid=z);const E=m._getFrameworks();return E.length&&(_.fw=E.join(",")),`${h}?${(0,D.xO)(_).slice(1)}`}function E6(){return E6=(0,c.Z)(function*(m){const d=yield oh(m),h=Jt().gapi;return R(h,m,"internal-error"),d.open({where:document.body,url:js(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T,dontclear:!0},_=>new Promise(function(){var z=(0,c.Z)(function*(E,$){yield _.restyle({setHideOnLeave:!1});const ce=he(m,"network-request-failed"),Te=Jt().setTimeout(()=>{$(ce)},br.get());function Ke(){Jt().clearTimeout(Te),E(_)}_.ping(Ke).then(Ke,()=>{$(ce)})});return function(E,$){return z.apply(this,arguments)}}()))}),E6.apply(this,arguments)}const v1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class K4{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sc(m,d,h,_,z,E){R(m.config.authDomain,m,"auth-domain-config-required"),R(m.config.apiKey,m,"invalid-api-key");const $={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:_,v:ee.SDK_VERSION,eventId:z};if(d instanceof Mn){d.setDefaultLanguage(m.languageCode),$.providerId=d.providerId||"",(0,D.xb)(d.getCustomParameters())||($.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Te,Ke]of Object.entries(E||{}))$[Te]=Ke}if(d instanceof bn){const Te=d.getScopes().filter(Ke=>""!==Ke);Te.length>0&&($.scopes=Te.join(","))}m.tenantId&&($.tid=m.tenantId);const ce=$;for(const Te of Object.keys(ce))void 0===ce[Te]&&delete ce[Te];return`${function Kl({config:m}){return m.emulator?Ht(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,D.xO)(ce).slice(1)}`}const o1="webStorageSupport";class x3 extends class Lc{constructor(d){this.factorId=d}_process(d,h,_){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,_);case"signin":return this._finalizeSignIn(d,h.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new x3(d)}_finalizeEnroll(d,h,_){return function gc(m,d){return lt(m,"POST","/v2/accounts/mfaEnrollment:finalize",tt(m,d))}(d,{idToken:h,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function m1(m,d){return lt(m,"POST","/v2/accounts/mfaSignIn:finalize",tt(m,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ec=(()=>{class m{constructor(){}static assertion(h){return x3._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var Y4="@firebase/auth";class Ii{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,c.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(_=>{d(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hr(){return window}function qs(){return(qs=(0,c.Z)(function*(m,d,h){var _;const{BuildInfo:z}=Hr();Ae(d.sessionId,"AuthEvent did not contain a session ID");const E=yield Ti(d.sessionId),$={};return rt()?$.ibi=z.packageName:Ft()?$.apn=z.packageName:Me(m,"operation-not-supported-in-this-environment"),z.displayName&&($.appDisplayName=z.displayName),$.sessionId=E,Sc(m,h,d.type,void 0,null!==(_=d.eventId)&&void 0!==_?_:void 0,$)})).apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(m){const{BuildInfo:d}=Hr(),h={};rt()?h.iosBundleId=d.packageName:Ft()?h.androidPackageName=d.packageName:Me(m,"operation-not-supported-in-this-environment"),yield jl(m,h)})).apply(this,arguments)}function S3(){return(S3=(0,c.Z)(function*(m,d,h){const{cordova:_}=Hr();let z=()=>{};try{yield new Promise((E,$)=>{let ce=null;function Te(){var ft;E();const Q2=null===(ft=_.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Q2&&Q2(),"function"==typeof h?.close&&h.close()}function Ke(){ce||(ce=window.setTimeout(()=>{$(he(m,"redirect-cancelled-by-user"))},2e3))}function dt(){"visible"===document?.visibilityState&&Ke()}d.addPassiveListener(Te),document.addEventListener("resume",Ke,!1),Ft()&&document.addEventListener("visibilitychange",dt,!1),z=()=>{d.removePassiveListener(Te),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",dt,!1),ce&&window.clearTimeout(ce)}})}finally{z()}})).apply(this,arguments)}function Ti(m){return Q4.apply(this,arguments)}function Q4(){return(Q4=(0,c.Z)(function*(m){const d=O6(m),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function O6(m){if(Ae(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),h=new Uint8Array(d);for(let _=0;_<m.length;_++)h[_]=m.charCodeAt(_);return h}(0,D.Pz)("authIdTokenMaxAge"),function Qr(m){(0,ee._registerComponent)(new ie.wA("auth",(d,{options:h})=>{const _=d.getProvider("app").getImmediate(),z=d.getProvider("heartbeat"),{apiKey:E,authDomain:$}=_.options;return((ce,Te)=>{R(E&&!E.includes(":"),"invalid-api-key",{appName:ce.name}),R(!$?.includes(":"),"argument-error",{appName:ce.name});const Ke={apiKey:E,authDomain:$,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pn(m)},dt=new Vt(ce,Te,Ke);return function te(m,d){const h=d?.persistence||[],_=(Array.isArray(h)?h:[h]).map(ot);d?.errorMap&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(_,d?.popupRedirectResolver)}(dt,h),dt})(_,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,_)=>{d.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new ie.wA("auth-internal",d=>{const h=c2(d.getProvider("auth").getImmediate());return new Ii(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Y4,"0.22.0",function c1(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ee.registerVersion)(Y4,"0.22.0","esm2017")}("Browser");class Rc extends fn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,c.Z)(function*(){yield d.initPromise})()}}function Yn(m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(m){const d=yield L3()._get(Uc(m));return d&&(yield L3()._remove(Uc(m))),d})).apply(this,arguments)}function Fc(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const _=Math.floor(Math.random()*d.length);m.push(d.charAt(_))}return m.join("")}function L3(){return ot(Gn)}function Uc(m){return O("authEvent",m.config.apiKey,m.name)}function Zs(m){if(!m?.includes("?"))return{};const[d,...h]=m.split("?");return(0,D.zd)(h.join("?"))}function X4(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}function A3(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function zr(m=(0,D.z$)()){return!("file:"!==A3()&&"ionic:"!==A3()&&"capacitor:"!==A3()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ys(){try{const m=self.localStorage,d=D2();if(m)return m.setItem(d,"1"),m.removeItem(d),!function Bu(m=(0,D.z$)()){return function eo(){return(0,D.w1)()&&11===document?.documentMode}()||function n8(m=(0,D.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,D.hl)()}catch{return to()&&(0,D.hl)()}return!1}function to(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qs(){return(function Ks(){return"http:"===A3()||"https:"===A3()}()||(0,D.ru)()||zr())&&!function jc(){return(0,D.b$)()||(0,D.UG)()}()&&Ys()&&!to()}function no(){return zr()&&typeof document<"u"}function D3(){return(D3=(0,c.Z)(function*(){return!!no()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})})).apply(this,arguments)}const _1={LOCAL:"local",NONE:"none",SESSION:"session"},Pi=R,j6="persistence";function ro(m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(m){yield m._initializationPromise;const d=$6(),h=O(j6,m.config.apiKey,m.name);d&&d.setItem(h,m._getPersistence())})).apply(this,arguments)}function $6(){var m;try{return(null===(m=function r8(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const Gc=R;class Qn{constructor(){this.browserResolver=ot(class $s{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p1,this._completeRedirectFn=ut,this._overrideRedirectResult=H3}_openPopup(d,h,_,z){var E=this;return(0,c.Z)(function*(){var $;Ae(null===($=E.eventManagers[d._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ce=Sc(d,h,_,ue(),z);return function D6(m,d,h,_=500,z=600){const E=Math.max((window.screen.availHeight-z)/2,0).toString(),$=Math.max((window.screen.availWidth-_)/2,0).toString();let ce="";const Te=Object.assign(Object.assign({},v1),{width:_.toString(),height:z.toString(),top:E,left:$}),Ke=(0,D.z$)().toLowerCase();h&&(ce=vt(Ke)?"_blank":h),Y(Ke)&&(d=d||"http://localhost",Te.scrollbars="yes");const dt=Object.entries(Te).reduce((Q2,[dn,co])=>`${Q2}${dn}=${co},`,"");if(function q2(m=(0,D.z$)()){var d;return rt(m)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ke)&&"_self"!==ce)return function xc(m,d){const h=document.createElement("a");h.href=m,h.target=d;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(_)}(d||"",ce),new K4(null);const ft=window.open(d||"",ce,dt);R(ft,m,"popup-blocked");try{ft.focus()}catch{}return new K4(ft)}(d,ce,D2())})()}_openRedirect(d,h,_,z){var E=this;return(0,c.Z)(function*(){return yield E._originValidation(d),function g3(m){Jt().location.href=m}(Sc(d,h,_,ue(),z)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:z,promise:E}=this.eventManagers[h];return z?Promise.resolve(z):(Ae(E,"If manager is not set, promise should be"),E)}const _=this.initAndGetManager(d);return this.eventManagers[h]={promise:_},_.catch(()=>{delete this.eventManagers[h]}),_}initAndGetManager(d){var h=this;return(0,c.Z)(function*(){const _=yield function Zl(m){return E6.apply(this,arguments)}(d),z=new fn(d);return _.register("authEvent",E=>(R(E?.authEvent,d,"invalid-auth-event"),{status:z.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:z},h.iframes[d._key()]=_,z})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(o1,{type:o1},z=>{var E;const $=null===(E=z?.[0])||void 0===E?void 0:E[o1];void 0!==$&&h(!!$),Me(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function ku(m){return Bs.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return or()||Oe()||rt()}}),this.cordovaResolver=ot(class Xl{constructor(){this._redirectPersistence=p1,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ut,this._overrideRedirectResult=H3}_initialize(d){var h=this;return(0,c.Z)(function*(){const _=d._key();let z=h.eventManagers.get(_);return z||(z=new Rc(d),h.eventManagers.set(_,z),h.attachCallbackListeners(d,z)),z})()}_openPopup(d){Me(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,_,z){var E=this;return(0,c.Z)(function*(){!function Ql(m){var d,h,_,z,E,$,ce,Te,Ke,dt;const ft=Hr();R("function"==typeof(null===(d=ft?.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),R(typeof(null===(h=ft?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),R("function"==typeof(null===(E=null===(z=null===(_=ft?.cordova)||void 0===_?void 0:_.plugins)||void 0===z?void 0:z.browsertab)||void 0===E?void 0:E.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),R("function"==typeof(null===(Te=null===(ce=null===($=ft?.cordova)||void 0===$?void 0:$.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Te?void 0:Te.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),R("function"==typeof(null===(dt=null===(Ke=ft?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===dt?void 0:dt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const $=yield E._initialize(d);yield $.initialized(),$.resetRedirect(),function C2(){Wn.clear()}(),yield E._originValidation(d);const ce=function R6(m,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:Fc(),postBody:null,tenantId:m.tenantId,error:he(m,"no-auth-event")}}(d,_,z);yield function Uu(m,d){return L3()._set(Uc(m),d)}(d,ce);const Te=yield function Pc(m,d,h){return qs.apply(this,arguments)}(d,ce,h),Ke=yield function kc(m){const{cordova:d}=Hr();return new Promise(h=>{d.plugins.browsertab.isAvailable(_=>{let z=null;_?d.plugins.browsertab.openUrl(m):z=d.InAppBrowser.open(m,function d2(m=(0,D.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),h(z)})})}(Te);return function Oc(m,d,h){return S3.apply(this,arguments)}(d,$,Ke)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function k6(m){return Vr.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:_,handleOpenURL:z,BuildInfo:E}=Hr(),$=setTimeout((0,c.Z)(function*(){yield Yn(d),h.onEvent(X4())}),500),ce=function(){var dt=(0,c.Z)(function*(ft){clearTimeout($);const Q2=yield Yn(d);let dn=null;Q2&&ft?.url&&(dn=function J4(m,d){var h,_;const z=function E3(m){const d=Zs(m),h=d.link?decodeURIComponent(d.link):void 0,_=Zs(h).link,z=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Zs(z).link||z||_||h||m}(d);if(z.includes("/__/auth/callback")){const E=Zs(z),$=E.firebaseError?function F6(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(E.firebaseError)):null,ce=null===(_=null===(h=$?.code)||void 0===h?void 0:h.split("auth/"))||void 0===_?void 0:_[1],Te=ce?he(ce):null;return Te?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:z,postBody:null}}return null}(Q2,ft.url)),h.onEvent(dn||X4())});return function(Q2){return dt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,ce);const Te=z,Ke=`${E.packageName.toLowerCase()}://`;Hr().handleOpenURL=function(){var dt=(0,c.Z)(function*(ft){if(ft.toLowerCase().startsWith(Ke)&&ce({url:ft}),"function"==typeof Te)try{Te(ft)}catch(Q2){console.error(Q2)}});return function(ft){return dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=p1,this._completeRedirectFn=ut,this._overrideRedirectResult=H3}_initialize(d){var h=this;return(0,c.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,_,z){var E=this;return(0,c.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openPopup(d,h,_,z)})()}_openRedirect(d,h,_,z){var E=this;return(0,c.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openRedirect(d,h,_,z)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return no()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,c.Z)(function*(){if(d.underlyingResolver)return;const h=yield function $c(){return D3.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function io(m){return m.unwrap()}function e4(m){return so(m)}function so(m){const{_tokenResponse:d}=m instanceof D.ZR?m.customData:m;if(!d)return null;if(!(m instanceof D.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Yr.credentialFromResult(m);const h=d.providerId;if(!h||"password"===h)return null;let _;switch(h){case"google.com":_=t3;break;case"facebook.com":_=mi;break;case"github.com":_=ms;break;case"twitter.com":_=z1;break;default:const{oauthIdToken:z,oauthAccessToken:E,oauthTokenSecret:$,pendingToken:ce,nonce:Te}=d;return E||$||z||ce?ce?h.startsWith("saml.")?v2._create(h,ce):yn._fromParams({providerId:h,signInMethod:h,pendingToken:ce,idToken:z,accessToken:E}):new lr(h).credential({idToken:z,accessToken:E,rawNonce:Te}):null}return m instanceof D.ZR?_.credentialFromError(m):_.credentialFromResult(m)}function j2(m,d){return d.catch(h=>{throw h instanceof D.ZR&&function qc(m,d){var h;const _=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new ch(m,function F4(m,d){var h;const _=(0,D.m9)(m),z=d;return R(d.customData.operationType,_,"argument-error"),R(null===(h=z.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,_,"argument-error"),a2._fromError(_,z)}(m,d));else if(_){const z=so(d),E=d;z&&(E.credential=z,E.tenantId=_.tenantId||void 0,E.email=_.email||void 0,E.phoneNumber=_.phoneNumber||void 0)}}(m,h),h}).then(h=>{const z=h.user;return{operationType:h.operationType,credential:e4(h),additionalUserInfo:M6(h),user:Jr.getOrCreate(z)}})}function Wc(m,d){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(m,d){const h=yield d;return{verificationId:h.verificationId,confirm:_=>j2(m,h.confirm(_))}})).apply(this,arguments)}class ch{constructor(d,h){this.resolver=h,this.auth=function i8(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return j2(io(this.auth),this.resolver.resolveSignIn(d))}}class Jr{constructor(d){this._delegate=d,this.multiFactor=function vr(m){const d=(0,D.m9)(m);return p3.has(d)||p3.set(d,mr._fromUser(d)),p3.get(d)}(d)}static getOrCreate(d){return Jr.USER_MAP.has(d)||Jr.USER_MAP.set(d,new Jr(d)),Jr.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,c.Z)(function*(){return j2(h.auth,Ci(h._delegate,d))})()}linkWithPhoneNumber(d,h){var _=this;return(0,c.Z)(function*(){return Wc(_.auth,function M3(m,d,h){return b3.apply(this,arguments)}(_._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,c.Z)(function*(){return j2(h.auth,function r2(m,d,h){return Ue.apply(this,arguments)}(h._delegate,d,Qn))})()}linkWithRedirect(d){var h=this;return(0,c.Z)(function*(){return yield ro(c2(h.auth)),function ze(m,d,h){return function je(m,d,h){return Qe.apply(this,arguments)}(m,d,h)}(h._delegate,d,Qn)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,c.Z)(function*(){return j2(h.auth,vs(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return Wc(this.auth,function S6(m,d,h){return G4.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return j2(this.auth,function K1(m,d,h){return qn.apply(this,arguments)}(this._delegate,d,Qn))}reauthenticateWithRedirect(d){var h=this;return(0,c.Z)(function*(){return yield ro(c2(h.auth)),function P(m,d,h){return function q(m,d,h){return J.apply(this,arguments)}(m,d,h)}(h._delegate,d,Qn)})()}sendEmailVerification(d){return function pr(m,d){return u3.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,c.Z)(function*(){return yield function r1(m,d){return r3.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function jr(m,d){return N4((0,D.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function hc(m,d){return N4((0,D.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function wc(m,d){return i1.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function dc(m,d){return f3.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function T4(m,d,h){return jn.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jr.USER_MAP=new WeakMap;const ki=R;let s8=(()=>{class m{constructor(h,_){if(this.app=h,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=h.options;ki(z,"invalid-api-key",{appName:h.name}),ki(z,"invalid-api-key",{appName:h.name});const E=typeof window<"u"?Qn:void 0;this._delegate=_.initialize({options:{persistence:Kc(z,h.name),popupRedirectResolver:E}}),this._delegate._updateErrorMap(me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,_){!function Ji(m,d,h){const _=c2(m);R(_._canInitEmulator,_,"emulator-config-failed"),R(/^https?:\/\//.test(d),_,"invalid-emulator-scheme");const z=!!h?.disableWarnings,E=an(d),{host:$,port:ce}=function x2(m){const d=an(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!h)return{host:"",port:null};const _=h[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(_);if(z){const E=z[1];return{host:E,port:kn(_.substr(E.length+1))}}{const[E,$]=_.split(":");return{host:E,port:kn($)}}}(d);_.config.emulator={url:`${E}//${$}${null===ce?"":`:${ce}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:$,port:ce,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function On(){function m(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,h,_)}applyActionCode(h){return function a3(m,d){return Br.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return uc(this._delegate,h)}confirmPasswordReset(h,_){return function yi(m,d,h){return d1.apply(this,arguments)}(this._delegate,h,_)}createUserWithEmailAndPassword(h,_){var z=this;return(0,c.Z)(function*(){return j2(z._delegate,function h1(m,d,h){return un.apply(this,arguments)}(z._delegate,h,_))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function bs(m,d){return Bn.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function _6(m,d){return"EMAIL_SIGNIN"===e3.parseLink(d)?.operation}(0,h)}getRedirectResult(){var h=this;return(0,c.Z)(function*(){ki(Qs(),h._delegate,"operation-not-supported-in-this-environment");const _=yield function Je(m,d){return bt.apply(this,arguments)}(h._delegate,Qn);return _?j2(h._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function B6(m,d){c2(m)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,_,z){const{next:E,error:$,complete:ce}=G6(h,_,z);return this._delegate.onAuthStateChanged(E,$,ce)}onIdTokenChanged(h,_,z){const{next:E,error:$,complete:ce}=G6(h,_,z);return this._delegate.onIdTokenChanged(E,$,ce)}sendSignInLinkToEmail(h,_){return function Mi(m,d,h){return P1.apply(this,arguments)}(this._delegate,h,_)}sendPasswordResetEmail(h,_){return function L2(m,d,h){return Ur.apply(this,arguments)}(this._delegate,h,_||void 0)}setPersistence(h){var _=this;return(0,c.Z)(function*(){let z;switch(function Js(m,d){Pi(Object.values(_1).includes(d),m,"invalid-persistence-type"),(0,D.b$)()?Pi(d!==_1.SESSION,m,"unsupported-persistence-type"):(0,D.UG)()?Pi(d===_1.NONE,m,"unsupported-persistence-type"):to()?Pi(d===_1.NONE||d===_1.LOCAL&&(0,D.hl)(),m,"unsupported-persistence-type"):Pi(d===_1.NONE||Ys(),m,"unsupported-persistence-type")}(_._delegate,h),h){case _1.SESSION:z=p1;break;case _1.LOCAL:z=(yield ot(g1)._isAvailable())?g1:Gn;break;case _1.NONE:z=F;break;default:return Me("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return j2(this._delegate,function ac(m){return _2.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return j2(this._delegate,h2(this._delegate,h))}signInWithCustomToken(h){return j2(this._delegate,function Cs(m,d){return o3.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,_){return j2(this._delegate,function fc(m,d,h){return h2((0,D.m9)(m),ln.credential(d,h))}(this._delegate,h,_))}signInWithEmailLink(h,_){return j2(this._delegate,function ys(m,d,h){return I4.apply(this,arguments)}(this._delegate,h,_))}signInWithPhoneNumber(h,_){return Wc(this._delegate,function yc(m,d,h){return Ei.apply(this,arguments)}(this._delegate,h,_))}signInWithPopup(h){var _=this;return(0,c.Z)(function*(){return ki(Qs(),_._delegate,"operation-not-supported-in-this-environment"),j2(_._delegate,function Bl(m,d,h){return s1.apply(this,arguments)}(_._delegate,h,Qn))})()}signInWithRedirect(h){var _=this;return(0,c.Z)(function*(){return ki(Qs(),_._delegate,"operation-not-supported-in-this-environment"),yield ro(_._delegate),function b(m,d,h){return function H(m,d,h){return x.apply(this,arguments)}(m,d,h)}(_._delegate,h,Qn)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function Ol(m,d){return l3.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=_1,m})();function G6(m,d,h){let _=m;"function"!=typeof m&&({next:_,error:d,complete:h}=m);const z=_;return{next:$=>z($&&Jr.getOrCreate($)),error:d,complete:h}}function Kc(m,d){const h=function I3(m,d){const h=$6();if(!h)return[];const _=O(j6,m,d);switch(h.getItem(_)){case _1.NONE:return[F];case _1.LOCAL:return[g1,p1];case _1.SESSION:return[p1];default:return[]}}(m,d);if(typeof self<"u"&&!h.includes(g1)&&h.push(g1),typeof window<"u")for(const _ of[Gn,p1])h.includes(_)||h.push(_);return h.includes(F)||h.push(F),h}class oo{constructor(){this.providerId="phone",this._delegate=new Yr(io(K.Z.auth()))}static credential(d,h){return Yr.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}oo.PHONE_SIGN_IN_METHOD=Yr.PHONE_SIGN_IN_METHOD,oo.PROVIDER_ID=Yr.PROVIDER_ID;const o8=R;class Yc{constructor(d,h,_=K.Z.app()){var z;o8(null===(z=_.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new x6(d,h,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qc(m){m.INTERNAL.registerComponent(new ie.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),_=d.getProvider("auth");return new s8(h,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ln,FacebookAuthProvider:mi,GithubAuthProvider:ms,GoogleAuthProvider:t3,OAuthProvider:lr,SAMLAuthProvider:T1,PhoneAuthProvider:oo,PhoneMultiFactorGenerator:Ec,RecaptchaVerifier:Yc,TwitterAuthProvider:z1,Auth:s8,AuthCredential:W2,Error:D.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.3.7")}(K.Z)},8766:(it,be,I)=>{I.d(be,{Lj:()=>Me,X3:()=>st});var c=I(5861);let D,ee;const ie=new WeakMap,ae=new WeakMap,le=new WeakMap,U=new WeakMap,B=new WeakMap;let He={get(R,fe,Ae){if(R instanceof IDBTransaction){if("done"===fe)return ae.get(R);if("objectStoreNames"===fe)return R.objectStoreNames||le.get(R);if("store"===fe)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return oe(R[fe])},set:(R,fe,Ae)=>(R[fe]=Ae,!0),has:(R,fe)=>R instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in R};function de(R){return"function"==typeof R?function qe(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(R)?function(...fe){return R.apply(Ge(this),fe),oe(ie.get(this))}:function(...fe){return oe(R.apply(Ge(this),fe))}:function(fe,...Ae){const $e=R.call(Ge(this),fe,...Ae);return le.set($e,fe.sort?fe.sort():[fe]),oe($e)}}(R):(R instanceof IDBTransaction&&function Ne(R){if(ae.has(R))return;const fe=new Promise((Ae,$e)=>{const ot=()=>{R.removeEventListener("complete",Re),R.removeEventListener("error",te),R.removeEventListener("abort",te)},Re=()=>{Ae(),ot()},te=()=>{$e(R.error||new DOMException("AbortError","AbortError")),ot()};R.addEventListener("complete",Re),R.addEventListener("error",te),R.addEventListener("abort",te)});ae.set(R,fe)}(R),((R,fe)=>fe.some(Ae=>R instanceof Ae))(R,function X(){return D||(D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(R,He):R)}function oe(R){if(R instanceof IDBRequest)return function W(R){const fe=new Promise((Ae,$e)=>{const ot=()=>{R.removeEventListener("success",Re),R.removeEventListener("error",te)},Re=()=>{Ae(oe(R.result)),ot()},te=()=>{$e(R.error),ot()};R.addEventListener("success",Re),R.addEventListener("error",te)});return fe.then(Ae=>{Ae instanceof IDBCursor&&ie.set(Ae,R)}).catch(()=>{}),B.set(fe,R),fe}(R);if(U.has(R))return U.get(R);const fe=de(R);return fe!==R&&(U.set(R,fe),B.set(fe,R)),fe}const Ge=R=>B.get(R);function st(R,fe,{blocked:Ae,upgrade:$e,blocking:ot,terminated:Re}={}){const te=indexedDB.open(R,fe),ue=oe(te);return $e&&te.addEventListener("upgradeneeded",pe=>{$e(oe(te.result),pe.oldVersion,pe.newVersion,oe(te.transaction))}),Ae&&te.addEventListener("blocked",()=>Ae()),ue.then(pe=>{Re&&pe.addEventListener("close",()=>Re()),ot&&pe.addEventListener("versionchange",()=>ot())}).catch(()=>{}),ue}function Me(R,{blocked:fe}={}){const Ae=indexedDB.deleteDatabase(R);return fe&&Ae.addEventListener("blocked",()=>fe()),oe(Ae).then(()=>{})}const he=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],De=new Map;function Ie(R,fe){if(!(R instanceof IDBDatabase)||fe in R||"string"!=typeof fe)return;if(De.get(fe))return De.get(fe);const Ae=fe.replace(/FromIndex$/,""),$e=fe!==Ae,ot=ve.includes(Ae);if(!(Ae in($e?IDBIndex:IDBObjectStore).prototype)||!ot&&!he.includes(Ae))return;const Re=function(){var te=(0,c.Z)(function*(ue,...pe){const xe=this.transaction(ue,ot?"readwrite":"readonly");let Se=xe.store;return $e&&(Se=Se.index(pe.shift())),(yield Promise.all([Se[Ae](...pe),ot&&xe.done]))[0]});return function(pe){return te.apply(this,arguments)}}();return De.set(fe,Re),Re}!function me(R){He=R(He)}(R=>({...R,get:(fe,Ae,$e)=>Ie(fe,Ae)||R.get(fe,Ae,$e),has:(fe,Ae)=>!!Ie(fe,Ae)||R.has(fe,Ae)}))},5861:(it,be,I)=>{function c(D,ee,X,se,ie,ae,le){try{var U=D[ae](le),B=U.value}catch(W){return void X(W)}U.done?ee(B):Promise.resolve(B).then(se,ie)}function K(D){return function(){var ee=this,X=arguments;return new Promise(function(se,ie){var ae=D.apply(ee,X);function le(B){c(ae,se,ie,le,U,"next",B)}function U(B){c(ae,se,ie,le,U,"throw",B)}le(void 0)})}}I.d(be,{Z:()=>K})}},it=>{it(it.s=8369)}]);